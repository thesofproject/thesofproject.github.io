<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="214px" preserveAspectRatio="none" style="width:650px;height:214px;" version="1.1" viewBox="0 0 650 214" width="650px" zoomAndPan="magnify"><defs><filter height="300%" id="fwjjb3a0alqss" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#87CEFA" height="192.3672" style="stroke: #A1A1CA; stroke-width: 1.0;" width="64" x="8" y="4"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="26.5" y="17.4951">Host</text><rect fill="#ADD8E6" height="192.3672" style="stroke: #A1A1CA; stroke-width: 1.0;" width="364" x="275.5" y="4"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="444" y="17.4951">SOF</text><rect fill="#FFFFFF" filter="url(#fwjjb3a0alqss)" height="91.0547" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="344" y="93.3125"/><rect fill="#FFFFFF" filter="url(#fwjjb3a0alqss)" height="14" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="548" y="140.0156"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="40" x2="40" y1="60.9609" y2="202.3672"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="348.5" x2="348.5" y1="60.9609" y2="202.3672"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="552.5" x2="552.5" y1="60.9609" y2="202.3672"/><rect fill="#FFFFFF" filter="url(#fwjjb3a0alqss)" height="31.6094" style="stroke: #33335B; stroke-width: 1.5;" width="52" x="12" y="24.3516"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="19" y="45.8848">Driver</text><rect fill="#FFFFFF" filter="url(#fwjjb3a0alqss)" height="31.6094" style="stroke: #33335B; stroke-width: 1.5;" width="135" x="279.5" y="24.3516"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="286.5" y="45.8848">Core #0: Zephyr lib</text><rect fill="#FFFFFF" filter="url(#fwjjb3a0alqss)" height="31.6094" style="stroke: #33335B; stroke-width: 1.5;" width="161" x="470.5" y="24.3516"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="147" x="477.5" y="45.8848">Zephyr Power Manager</text><rect fill="#FFFFFF" filter="url(#fwjjb3a0alqss)" height="91.0547" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="344" y="93.3125"/><rect fill="#FFFFFF" filter="url(#fwjjb3a0alqss)" height="14" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="548" y="140.0156"/><polygon fill="#F05772" points="332,89.3125,342,93.3125,332,97.3125,336,93.3125" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="40" x2="338" y1="93.3125" y2="93.3125"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="285" x="47" y="88.4561">SET_D0ix(prevent_power_gating = 1) IPC request</text><polygon fill="#F05772" points="536,136.0156,546,140.0156,536,144.0156,540,140.0156" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="354" x2="542" y1="140.0156" y2="140.0156"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="361" y="118.8076">pm_policy_state_lock_get</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="361" y="135.1592">(PM_STATE_RUNTIME_IDLE)</text><polygon fill="#F05772" points="365,150.0156,355,154.0156,365,158.0156,361,154.0156" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="359" x2="552" y1="154.0156" y2="154.0156"/><polygon fill="#F05772" points="51,180.3672,41,184.3672,51,188.3672,47,184.3672" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="45" x2="348" y1="184.3672" y2="184.3672"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="57" y="179.5107">SET_D0ix IPC response</text><!--MD5=[dbaa7c8f88dc9902adc6ee4da4ac4681]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam queue {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}

skinparam activity {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam activityDiamond {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam arrowColor	#f05772
skinparam maxMessageSize 400
skinparam BoxPadding 4

box "Host" #LightSkyBlue
	participant "Driver" as DRIVER
end box

box "SOF" #LightBlue
	participant "Core #0: Zephyr lib" as sof_zephyr_lib
	participant "Zephyr Power Manager" as zephyr_power_manager
end box

DRIVER -> sof_zephyr_lib: SET_D0ix(prevent_power_gating = 1) IPC request
activate sof_zephyr_lib
	sof_zephyr_lib -> zephyr_power_manager: pm_policy_state_lock_get\n(PM_STATE_RUNTIME_IDLE)
	activate zephyr_power_manager
	return
return SET_D0ix IPC response

@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_302-b08
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>