<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="378px" preserveAspectRatio="none" style="width:630px;height:378px;" version="1.1" viewBox="0 0 630 378" width="630px" zoomAndPan="magnify"><defs><filter height="300%" id="f7haxvyg7uesb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[09acfa745e828315b550bb1a630bf02b]
class lib--><rect fill="#FFFFFF" filter="url(#f7haxvyg7uesb)" height="65.6094" id="lib" style="stroke: #33335B; stroke-width: 1.5;" width="196" x="423.5" y="72"/><ellipse cx="510.25" cy="88" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M513.2188,93.6406 Q512.6406,93.9375 512,94.0781 Q511.3594,94.2344 510.6563,94.2344 Q508.1563,94.2344 506.8281,92.5938 Q505.5156,90.9375 505.5156,87.8125 Q505.5156,84.6875 506.8281,83.0313 Q508.1563,81.375 510.6563,81.375 Q511.3594,81.375 512,81.5313 Q512.6563,81.6875 513.2188,81.9844 L513.2188,84.7031 Q512.5938,84.125 512,83.8594 Q511.4063,83.5781 510.7813,83.5781 Q509.4375,83.5781 508.75,84.6563 Q508.0625,85.7188 508.0625,87.8125 Q508.0625,89.9063 508.75,90.9844 Q509.4375,92.0469 510.7813,92.0469 Q511.4063,92.0469 512,91.7813 Q512.5938,91.5 513.2188,90.9219 L513.2188,93.6406 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="14" x="530.75" y="92.1543">lib</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="424.5" x2="618.5" y1="104" y2="104"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="429.5" y="118.2104">dma_get(dmac_id) : struct dma*</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="125" x="429.5" y="131.0151">dma_put(struct dma*)</text><!--MD5=[2a19531738c4b67fe1c87b097f6c6198]
class dma_ops--><rect fill="#FFFFFF" filter="url(#f7haxvyg7uesb)" height="193.6563" id="dma_ops" style="stroke: #33335B; stroke-width: 1.5;" width="133" x="6" y="8"/><ellipse cx="41.25" cy="24" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M44.2188,29.6406 Q43.6406,29.9375 43,30.0781 Q42.3594,30.2344 41.6563,30.2344 Q39.1563,30.2344 37.8281,28.5938 Q36.5156,26.9375 36.5156,23.8125 Q36.5156,20.6875 37.8281,19.0313 Q39.1563,17.375 41.6563,17.375 Q42.3594,17.375 43,17.5313 Q43.6563,17.6875 44.2188,17.9844 L44.2188,20.7031 Q43.5938,20.125 43,19.8594 Q42.4063,19.5781 41.7813,19.5781 Q40.4375,19.5781 39.75,20.6563 Q39.0625,21.7188 39.0625,23.8125 Q39.0625,25.9063 39.75,26.9844 Q40.4375,28.0469 41.7813,28.0469 Q42.4063,28.0469 43,27.7813 Q43.5938,27.5 44.2188,26.9219 L44.2188,29.6406 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="59.75" y="28.1543">dma_ops</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="7" x2="138" y1="40" y2="40"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="12" y="54.2104">channel_get()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="12" y="67.0151">channel_put()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="12" y="79.8198">start()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="12" y="92.6245">stop()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="12" y="105.4292">pause()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="12" y="118.2339">release()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="12" y="131.0386">status()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="12" y="143.8433">set_config()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="12" y="156.6479">set_cb()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="12" y="169.4526">pm_context_restore()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="12" y="182.2573">probe()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="51" x="12" y="195.062">remove()</text><!--MD5=[a432fd5df7428633a8c69c6aec8c3f35]
class dma_plat_data--><rect fill="#FFFFFF" filter="url(#f7haxvyg7uesb)" height="104.0234" id="dma_plat_data" style="stroke: #33335B; stroke-width: 1.5;" width="133" x="187" y="263"/><ellipse cx="206.05" cy="279" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M209.0188,284.6406 Q208.4406,284.9375 207.8,285.0781 Q207.1594,285.2344 206.4563,285.2344 Q203.9563,285.2344 202.6281,283.5938 Q201.3156,281.9375 201.3156,278.8125 Q201.3156,275.6875 202.6281,274.0313 Q203.9563,272.375 206.4563,272.375 Q207.1594,272.375 207.8,272.5313 Q208.4563,272.6875 209.0188,272.9844 L209.0188,275.7031 Q208.3938,275.125 207.8,274.8594 Q207.2063,274.5781 206.5813,274.5781 Q205.2375,274.5781 204.55,275.6563 Q203.8625,276.7188 203.8625,278.8125 Q203.8625,280.9063 204.55,281.9844 Q205.2375,283.0469 206.5813,283.0469 Q207.2063,283.0469 207.8,282.7813 Q208.3938,282.5 209.0188,281.9219 L209.0188,284.6406 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="220.95" y="283.1543">dma_plat_data</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="188" x2="319" y1="295" y2="295"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="193" y="309.2104">id : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="193" y="322.0151">base : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="193" y="334.8198">channels : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="193" y="347.6245">irq : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="193" y="360.4292">drv_plat_data : void *</text><!--MD5=[1dc6b159e49bcfc9a9c6c2ca2ed8028d]
class s_dma--><rect fill="#FFFFFF" filter="url(#f7haxvyg7uesb)" height="91.2188" id="s_dma" style="stroke: #33335B; stroke-width: 1.5;" width="159" x="174" y="59.5"/><ellipse cx="215.55" cy="75.5" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M218.5188,81.1406 Q217.9406,81.4375 217.3,81.5781 Q216.6594,81.7344 215.9563,81.7344 Q213.4563,81.7344 212.1281,80.0938 Q210.8156,78.4375 210.8156,75.3125 Q210.8156,72.1875 212.1281,70.5313 Q213.4563,68.875 215.9563,68.875 Q216.6594,68.875 217.3,69.0313 Q217.9563,69.1875 218.5188,69.4844 L218.5188,72.2031 Q217.8938,71.625 217.3,71.3594 Q216.7063,71.0781 216.0813,71.0781 Q214.7375,71.0781 214.05,72.1563 Q213.3625,73.2188 213.3625,75.3125 Q213.3625,77.4063 214.05,78.4844 Q214.7375,79.5469 216.0813,79.5469 Q216.7063,79.5469 217.3,79.2813 Q217.8938,79 218.5188,78.4219 L218.5188,81.1406 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="235.45" y="79.6543">struct dma</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="175" x2="332" y1="91.5" y2="91.5"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="180" y="105.7104">plat_data : dma_plat_data</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="180" y="118.5151">lock : spinlock_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="180" y="131.3198">ops : const dma_ops *</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="180" y="144.1245">private : void *</text><!--MD5=[79b030a94a629842d2e0dacbe68a5ad7]
link dma_ops to s_dma--><path d="M139.31,105 C150.76,105 162.21,105 173.66,105 " fill="none" id="dma_ops-s_dma" style="stroke: #F05772; stroke-width: 1.0;"/><!--MD5=[4d140f7abc58be0a6c967c6f58ed7373]
link s_dma to dma_plat_data--><path d="M253.5,150.62 C253.5,183.57 253.5,228.47 253.5,262.86 " fill="none" id="s_dma-dma_plat_data" style="stroke: #F05772; stroke-width: 1.0;"/><!--MD5=[a2a6b5a5a48041a8a9884b47500737ab]
reverse link s_dma to lib--><path d="M338.19,105 C365.17,105 395.26,105 423.13,105 " fill="none" id="s_dma&lt;-lib" style="stroke: #F05772; stroke-width: 1.0;"/><polygon fill="#F05772" points="333.18,105,342.18,109,338.18,105,342.18,101,333.18,105" style="stroke: #F05772; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="351.25" y="98.0669">provides</text><!--MD5=[baa687f351d56c392f8ceae80c61a41c]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}

skinparam activity {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam activityDiamond {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam arrowColor	#f05772
skinparam maxMessageSize 400
skinparam BoxPadding 4
class lib {
   dma_get(dmac_id) : struct dma*
   dma_put(struct dma*)
}
hide lib attributes

class dma_ops {
   channel_get()
   channel_put()
   start()
   stop()
   pause()
   release()
   status()
   set_config()
   set_cb()
   pm_context_restore()
   probe()
   remove()
}
hide dma_ops attributes

class dma_plat_data {
   id : uint32_t
   base : uint32_t
   channels : uint32_t
   irq : uint32_t
   drv_plat_data : void *
}
hide dma_plat_data methods

class "struct dma" as s_dma {
   plat_data : dma_plat_data
   lock : spinlock_t
   ops : const dma_ops *
   private : void *
}
hide s_dma methods

dma_ops - s_dma
s_dma - - dma_plat_data
s_dma <- lib : provides

@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.26+4
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>