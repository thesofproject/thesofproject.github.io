<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1501px" preserveAspectRatio="none" style="width:903px;height:1501px;" version="1.1" viewBox="0 0 903 1501" width="903px" zoomAndPan="magnify"><defs><filter height="300%" id="fpu2klcejphzp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="337" cy="18" fill="#000000" filter="url(#fpu2klcejphzp)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#fpu2klcejphzp)" height="67.7969" rx="12.5" ry="12.5" style="stroke: #33335B; stroke-width: 1.5;" width="178" x="248" y="171"/><line style="stroke: #33335B; stroke-width: 1.5;" x1="248" x2="426" y1="198.6094" y2="198.6094"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="286" y="190.5332">KPB_DISABLED</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="119" x="253" y="216.0664">Starting state of KPB -</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="158" x="253" y="231.1602">No action has been taken yet</text><rect fill="#FFFFFF" filter="url(#fpu2klcejphzp)" height="52.7031" rx="12.5" ry="12.5" style="stroke: #33335B; stroke-width: 1.5;" width="236" x="219" y="333"/><line style="stroke: #33335B; stroke-width: 1.5;" x1="219" x2="455" y1="360.6094" y2="360.6094"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="286.5" y="352.5332">KPB_CREATED</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="224" y="378.0664">New KPB component has been created</text><rect fill="#FFFFFF" filter="url(#fpu2klcejphzp)" height="52.7031" rx="12.5" ry="12.5" style="stroke: #33335B; stroke-width: 1.5;" width="233" x="220.5" y="480"/><line style="stroke: #33335B; stroke-width: 1.5;" x1="220.5" x2="453.5" y1="507.6094" y2="507.6094"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="280" y="499.5332">KPB_PREPARING</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="213" x="225.5" y="525.0664">Prepare Key Phrase Buffer component.</text><rect fill="#FFFFFF" filter="url(#fpu2klcejphzp)" height="52.7031" rx="12.5" ry="12.5" style="stroke: #33335B; stroke-width: 1.5;" width="170" x="111" y="627"/><line style="stroke: #33335B; stroke-width: 1.5;" x1="111" x2="281" y1="654.6094" y2="654.6094"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="138" y="646.5332">KPB_STATE_RUN</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="150" x="116" y="672.0664">KPB is prepared and ready.</text><rect fill="#FFFFFF" filter="url(#fpu2klcejphzp)" height="52.7031" rx="12.5" ry="12.5" style="stroke: #33335B; stroke-width: 1.5;" width="204" x="214" y="869"/><line style="stroke: #33335B; stroke-width: 1.5;" x1="214" x2="418" y1="896.6094" y2="896.6094"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="184" x="224" y="888.5332">KPB_STATE_INIT_DRAINING</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="158" x="219" y="914.0664">KPB received detection event</text><rect fill="#FFFFFF" filter="url(#fpu2klcejphzp)" height="67.7969" rx="12.5" ry="12.5" style="stroke: #33335B; stroke-width: 1.5;" width="194" x="207" y="1162"/><line style="stroke: #33335B; stroke-width: 1.5;" x1="207" x2="401" y1="1189.6094" y2="1189.6094"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="166" x="221" y="1181.5332">KPB_STATE_BUFFERING</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="171" x="212" y="1207.0664">Buffer incoming samples in the</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="212" y="1222.1602">internal history buffer</text><rect fill="#FFFFFF" filter="url(#fpu2klcejphzp)" height="67.7969" rx="12.5" ry="12.5" style="stroke: #33335B; stroke-width: 1.5;" width="225" x="383.5" y="1000"/><line style="stroke: #33335B; stroke-width: 1.5;" x1="383.5" x2="608.5" y1="1027.6094" y2="1027.6094"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="420" y="1019.5332">KPB_STATE_DRAINING</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="202" x="388.5" y="1045.0664">KPB is draining internal history buffer</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="388.5" y="1060.1602">to the client's buffer</text><rect fill="#FFFFFF" filter="url(#fpu2klcejphzp)" height="52.7031" rx="12.5" ry="12.5" style="stroke: #33335B; stroke-width: 1.5;" width="210" x="402" y="1324"/><line style="stroke: #33335B; stroke-width: 1.5;" x1="402" x2="612" y1="1351.6094" y2="1351.6094"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="166" x="424" y="1343.5332">KPB_STATE_RESETTING</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="190" x="407" y="1369.0664">KPB is preparing itself for the reset</text><rect fill="#FFFFFF" filter="url(#fpu2klcejphzp)" height="67.7969" rx="12.5" ry="12.5" style="stroke: #33335B; stroke-width: 1.5;" width="193" x="577.5" y="1162"/><line style="stroke: #33335B; stroke-width: 1.5;" x1="577.5" x2="770.5" y1="1189.6094" y2="1189.6094"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="587.5" y="1181.5332">KPB_STATE_HOST_COPY</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="133" x="582.5" y="1207.0664">KPB is copying real time</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="137" x="582.5" y="1222.1602">stream into client's buffer</text><rect fill="#FFFFFF" filter="url(#fpu2klcejphzp)" height="52.7031" rx="12.5" ry="12.5" style="stroke: #33335B; stroke-width: 1.5;" width="227" x="551.5" y="1438"/><line style="stroke: #33335B; stroke-width: 1.5;" x1="551.5" x2="778.5" y1="1465.6094" y2="1465.6094"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="207" x="561.5" y="1457.5332">KPB_STATE_RESET_FINISHING</text><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="176" x="556.5" y="1483.0664">KPB is finishing reset sequence</text><!--MD5=[a96ad61178f7b2cabd3e386b6819c08d]
link *start to KPB_DISABLED--><path d="M337,28.17 C337,52.84 337,121.65 337,165.52 " fill="none" id="*start-&gt;KPB_DISABLED" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="337,170.74,341,161.74,337,165.74,333,161.74,337,170.74" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="371" y="72.4951">Start</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="11" x="381.5" y="88.8467">or</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="54" x="360" y="105.1982">[IPC] free</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="358.5" y="121.5498">message</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="338" y="137.9014">from either  state</text><!--MD5=[044e16ce5a5ff76d7deff6458927d5e4]
link KPB_DISABLED to KPB_CREATED--><path d="M337,239.09 C337,265.26 337,301.55 337,327.23 " fill="none" id="KPB_DISABLED-&gt;KPB_CREATED" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="337,332.54,341,323.54,337,327.54,333,323.54,337,332.54" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="367" y="283.4951">[IPC]</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="338" y="299.8467">new component</text><!--MD5=[b834d8c16a5a27e806c00976e4b09383]
link KPB_DISABLED to KPB_DISABLED--><path d="M426.17,190.37 C446.29,191.68 461,196.56 461,205 C461,212.71 448.71,217.45 431.23,219.22 " fill="none" id="KPB_DISABLED-&gt;KPB_DISABLED" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="426.17,219.63,435.4703,222.871,431.1528,219.216,434.8079,214.8985,426.17,219.63" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="467" y="202.4951">[IPC]</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="469" y="218.8467">reset</text><!--MD5=[52af3ccfc34184d00955491461cb3f4c]
link KPB_CREATED to KPB_PREPARING--><path d="M337,386.09 C337,410.78 337,448.21 337,474.56 " fill="none" id="KPB_CREATED-&gt;KPB_PREPARING" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="337,479.68,341,470.68,337,474.68,333,470.68,337,479.68" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="357.5" y="430.4951">[IPC]</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="338" y="446.8467">pcm params</text><!--MD5=[3b752fd7ec54ca6937fb956cb5f07361]
link KPB_CREATED to KPB_CREATED--><path d="M455.04,346.84 C475.66,348.53 490,352.75 490,359.5 C490,365.67 478.02,369.72 460.21,371.67 " fill="none" id="KPB_CREATED-&gt;KPB_CREATED" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="455.04,372.16,464.3766,375.295,460.0178,371.6893,463.6235,367.3305,455.04,372.16" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="496" y="356.9951">[IPC]</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="498" y="373.3467">reset</text><!--MD5=[da49dfad7d01193c3fc3fbbf8319390b]
link KPB_PREPARING to KPB_STATE_RUN--><path d="M247,533.05 C232.84,540.64 219.7,550.42 210,563 C197.27,579.51 193.97,602.91 193.75,621.65 " fill="none" id="KPB_PREPARING-&gt;KPB_STATE_RUN" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="193.76,626.8,197.7343,617.7886,193.7457,621.8,189.7343,617.8115,193.76,626.8" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="211" y="585.4951">Success</text><!--MD5=[42183d866f21e1e4c85eae516064ca23]
link KPB_STATE_RUN to KPB_PREPARING--><path d="M232.45,626.73 C244,617.86 256.49,607.51 267,597 C285.26,578.74 303.15,555.75 316.27,537.65 " fill="none" id="KPB_STATE_RUN-&gt;KPB_PREPARING" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="319.5,533.16,310.9974,538.1305,316.5804,537.219,317.4919,542.802,319.5,533.16" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="297" y="577.4951">[IPC]</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="299" y="593.8467">reset</text><!--MD5=[b1723bc524c5751ca1c60041e9b9ac33]
link KPB_PREPARING to KPB_PREPARING--><path d="M453.56,500.16 C474.15,500.99 488.5,503.11 488.5,506.5 C488.5,509.6 476.51,511.63 458.72,512.6 " fill="none" id="KPB_PREPARING-&gt;KPB_PREPARING" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="453.56,512.84,462.744,516.3974,458.5541,512.5967,462.3547,508.4069,453.56,512.84" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="494.5" y="511.9951">Failure</text><!--MD5=[b1723bc524c5751ca1c60041e9b9ac33]
link KPB_PREPARING to KPB_PREPARING--><path d="M453.7,493.05 C500.04,492.47 539.5,496.96 539.5,506.5 C539.5,515.69 502.91,520.19 458.83,519.99 " fill="none" id="KPB_PREPARING-&gt;KPB_PREPARING-1" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="453.7,519.95,462.6654,524.027,458.6998,519.9929,462.734,516.0273,453.7,519.95" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="545.5" y="503.9951">[IPC]</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="547.5" y="520.3467">reset</text><!--MD5=[43e61fe3fa960cff5339b212e4ea77e2]
link KPB_STATE_RUN to KPB_STATE_INIT_DRAINING--><path d="M195.63,680.03 C196.23,711.87 200.77,767.11 223,808 C235.24,830.51 255.53,850.41 274.04,865.43 " fill="none" id="KPB_STATE_RUN-&gt;KPB_STATE_INIT_DRAINING" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="278.21,868.75,273.6731,860.0083,274.3029,865.63,268.6812,866.2597,278.21,868.75" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="255.5" y="788.4951">[EVENT]</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="224" y="804.8467">key phrase detected</text><!--MD5=[1ed0152a32d0d54fbde3ed23e7d2bdd1]
link KPB_STATE_RUN to KPB_STATE_BUFFERING--><path d="M166.21,680.34 C140.68,705.5 108,746.24 108,790 C108,790 108,790 108,1035 C108,1092.99 160.12,1133.72 210.61,1159.57 " fill="none" id="KPB_STATE_RUN-&gt;KPB_STATE_BUFFERING" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="215.18,1161.87,208.958,1154.2354,210.7194,1159.6111,205.3437,1161.3725,215.18,1161.87" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="117" y="892.9951">Start</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="109" y="909.3467">buffering</text><!--MD5=[1d54e21577cd2257cfdae3717ae928f9]
link KPB_STATE_BUFFERING to KPB_STATE_RUN--><path d="M206.84,1183.48 C119.87,1167.11 6,1127.93 6,1035 C6,790 6,790 6,790 C6,736.33 56.88,701.92 105.98,681.21 " fill="none" id="KPB_STATE_BUFFERING-&gt;KPB_STATE_RUN" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="110.73,679.25,100.8852,678.9673,106.1045,681.1487,103.9232,686.3681,110.73,679.25" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="7" y="900.9951">Done</text><!--MD5=[3d191e6f8f90b05a668f23906de587dc]
link KPB_STATE_BUFFERING to KPB_STATE_INIT_DRAINING--><path d="M305.34,1161.62 C307.68,1103.37 312.48,983.99 314.75,927.48 " fill="none" id="KPB_STATE_BUFFERING-&gt;KPB_STATE_INIT_DRAINING" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="314.97,922.21,310.6125,931.0424,314.7696,927.206,318.606,931.3631,314.97,922.21" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="313" y="1039.4951">Done</text><!--MD5=[6d387181e1f1c9221add11212d4f3645]
link KPB_STATE_INIT_DRAINING to KPB_STATE_BUFFERING--><path d="M294.43,922.21 C279.26,942.05 260.26,970.94 252,1000 C236.54,1054.41 261.26,1117.74 281.63,1157.11 " fill="none" id="KPB_STATE_INIT_DRAINING-&gt;KPB_STATE_BUFFERING" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="284.09,1161.79,283.4419,1151.9625,281.763,1157.3645,276.361,1155.6856,284.09,1161.79" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="261" y="1031.4951">Start</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="253" y="1047.8467">buffering</text><!--MD5=[beb4316903d21c80264370acaefdc004]
link KPB_STATE_BUFFERING to KPB_STATE_DRAINING--><path d="M316.55,1161.86 C325.72,1141.3 339.9,1115.55 359,1098 C370.62,1087.33 384.36,1078.19 398.58,1070.45 " fill="none" id="KPB_STATE_BUFFERING-&gt;KPB_STATE_DRAINING" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="403.01,1068.1,393.1851,1068.7861,398.5935,1070.444,396.9355,1075.8525,403.01,1068.1" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="360" y="1120.4951">Done</text><!--MD5=[4f12acaa4d93a796508a9e19d0b02b6e]
link KPB_STATE_DRAINING to KPB_STATE_BUFFERING--><path d="M461.85,1068.04 C433.97,1094.98 398.6,1129.06 395,1132 C383.87,1141.1 371.47,1150.26 359.5,1158.67 " fill="none" id="KPB_STATE_DRAINING-&gt;KPB_STATE_BUFFERING" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="355.11,1161.73,364.7765,1159.8435,359.2055,1158.8617,360.1873,1153.2907,355.11,1161.73" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="440" y="1112.4951">Start</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="432" y="1128.8467">buffering</text><!--MD5=[f1324a9450b1f6c410abd131b77de762]
link KPB_STATE_BUFFERING to KPB_STATE_RESETTING--><path d="M348.05,1230.09 C384.02,1257.11 434.34,1294.92 468.67,1320.7 " fill="none" id="KPB_STATE_BUFFERING-&gt;KPB_STATE_RESETTING" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="472.77,1323.79,467.97,1315.19,468.77,1320.79,463.17,1321.59,472.77,1323.79" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="431" y="1274.4951">[IPC]</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="433" y="1290.8467">reset</text><!--MD5=[4b438634278f58e15749aa816f5b0dd3]
link KPB_STATE_INIT_DRAINING to KPB_PREPARING--><path d="M327.92,868.64 C335.02,851.77 343.34,829.06 347,808 C363.93,710.6 350.33,592.85 342.12,538.16 " fill="none" id="KPB_STATE_INIT_DRAINING-&gt;KPB_PREPARING" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="341.34,533.07,338.7488,542.5719,342.0971,538.0124,346.6566,541.3606,341.34,533.07" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="357" y="724.4951">[IPC]</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="359" y="740.8467">reset</text><!--MD5=[8890fde5015e216095d91bf0e7f33a49]
link KPB_STATE_INIT_DRAINING to KPB_STATE_DRAINING--><path d="M349.86,922.17 C377.63,943.24 417.29,973.31 448.29,996.82 " fill="none" id="KPB_STATE_INIT_DRAINING-&gt;KPB_STATE_DRAINING" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="452.41,999.94,447.6445,991.3209,448.422,996.924,442.8189,997.7016,452.41,999.94" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="413" y="966.4951">Draining task starts</text><!--MD5=[3dd8c2db77a16219417454f287f13692]
link KPB_STATE_DRAINING to KPB_STATE_HOST_COPY--><path d="M532.88,1068.15 C562.12,1094.43 602.94,1131.13 633.16,1158.29 " fill="none" id="KPB_STATE_DRAINING-&gt;KPB_STATE_HOST_COPY" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="637.17,1161.89,633.1562,1152.8961,633.4535,1158.5452,627.8045,1158.8425,637.17,1161.89" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="601" y="1120.4951">Draining done</text><!--MD5=[38744a42fe084230deab8a275c68be48]
link KPB_STATE_DRAINING to KPB_STATE_RESETTING--><path d="M497.16,1068.06 C499.29,1129.14 503.83,1258.86 505.91,1318.42 " fill="none" id="KPB_STATE_DRAINING-&gt;KPB_STATE_RESETTING" style="stroke: #0000FF; stroke-width: 1.0;"/><polygon fill="#0000FF" points="506.09,1323.62,509.7793,1314.4882,505.9187,1318.6229,501.784,1314.7623,506.09,1323.62" style="stroke: #0000FF; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="503" y="1193.4951">[IPC]</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="29" x="505" y="1209.8467">reset</text><!--MD5=[86f8ade4edda463563b246265fa6922a]
link KPB_STATE_RESETTING to KPB_STATE_RESET_FINISHING--><path d="M543.25,1377.2 C567.54,1394.41 599.54,1417.1 624.64,1434.89 " fill="none" id="KPB_STATE_RESETTING-&gt;KPB_STATE_RESET_FINISHING" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="628.92,1437.92,623.8903,1429.4523,624.8407,1435.0287,619.2643,1435.9791,628.92,1437.92" style="stroke: #4A4A86; stroke-width: 1.0;"/><!--MD5=[cb0076cfc3bf4c60d180f90ff9ff4ba5]
link KPB_STATE_RESET_FINISHING to KPB_PREPARING--><path d="M749.16,1437.85 C787.29,1420.51 824,1393.03 824,1351.5 C824,652.5 824,652.5 824,652.5 C824,576.43 603,537.05 458.75,519.45 " fill="none" id="KPB_STATE_RESET_FINISHING-&gt;KPB_PREPARING" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="453.65,518.83,462.1059,523.8796,458.614,519.4291,463.0644,515.9372,453.65,518.83" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="825" y="966.4951">Reset done</text><!--MD5=[b0f4f74012349268767ef239e5a36568]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
[*] - -> KPB_DISABLED:  Start \nor\n [IPC] free \nmessage \nfrom either  state
KPB_DISABLED: Starting state of KPB - \nNo action has been taken yet
KPB_DISABLED- -> KPB_CREATED: [IPC] \nnew component
KPB_DISABLED-[#0000FF]-> KPB_DISABLED: [IPC] \nreset

KPB_CREATED : New KPB component has been created
KPB_CREATED - -> KPB_PREPARING: [IPC] \npcm params
KPB_CREATED -[#0000FF]-> KPB_CREATED : [IPC] \nreset

KPB_PREPARING: Prepare Key Phrase Buffer component.
KPB_PREPARING-> KPB_STATE_RUN: Success
KPB_PREPARING-> KPB_PREPARING: Failure
KPB_PREPARING-[#0000FF]-> KPB_PREPARING: [IPC] \nreset

KPB_STATE_RUN: KPB is prepared and ready.
KPB_STATE_RUN-[#0000FF]-> KPB_PREPARING: [IPC] \nreset
KPB_STATE_RUN- - -> KPB_STATE_INIT_DRAINING: [EVENT] \nkey phrase detected
KPB_STATE_RUN-> KPB_STATE_BUFFERING: Start \nbuffering

KPB_STATE_BUFFERING: Buffer incoming samples in the \ninternal history buffer
KPB_STATE_BUFFERING-> KPB_STATE_RUN: Done
KPB_STATE_BUFFERING-> KPB_STATE_INIT_DRAINING: Done
KPB_STATE_BUFFERING-> KPB_STATE_DRAINING: Done
KPB_STATE_BUFFERING-[#0000FF]-> KPB_STATE_RESETTING: [IPC] \nreset

KPB_STATE_INIT_DRAINING: KPB received detection event
KPB_STATE_INIT_DRAINING-[#0000FF]-> KPB_PREPARING: [IPC] \nreset
KPB_STATE_INIT_DRAINING- -> KPB_STATE_DRAINING: Draining task starts
KPB_STATE_INIT_DRAINING- -> KPB_STATE_BUFFERING: Start \nbuffering

KPB_STATE_DRAINING: KPB is draining internal history buffer \nto the client's buffer
KPB_STATE_DRAINING- ->KPB_STATE_HOST_COPY: Draining done
KPB_STATE_DRAINING-[#0000FF]-> KPB_STATE_RESETTING: [IPC] \nreset
KPB_STATE_DRAINING- -> KPB_STATE_BUFFERING: Start \nbuffering

KPB_STATE_RESETTING: KPB is preparing itself for the reset
KPB_STATE_RESETTING- ->KPB_STATE_RESET_FINISHING

KPB_STATE_RESET_FINISHING: KPB is finishing reset sequence
KPB_STATE_RESET_FINISHING->KPB_PREPARING: Reset done

KPB_STATE_HOST_COPY: KPB is copying real time \nstream into client's buffer
@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_302-b08
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>