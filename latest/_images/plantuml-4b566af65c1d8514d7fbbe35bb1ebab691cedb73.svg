<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1441px" preserveAspectRatio="none" style="width:1058px;height:1441px;" version="1.1" viewBox="0 0 1058 1441" width="1058px" zoomAndPan="magnify"><defs><filter height="300%" id="f1461knpy0rtlu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="35" x2="35" y1="54.5938" y2="1429.0391"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="97" x2="97" y1="54.5938" y2="1429.0391"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="162" x2="162" y1="54.5938" y2="1429.0391"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="637" x2="637" y1="54.5938" y2="1429.0391"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1018.5" x2="1018.5" y1="54.5938" y2="1429.0391"/><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="30.2969" style="stroke: #33335B; stroke-width: 1.5;" width="50" x="8" y="19.2969"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="15" y="39.292">State</text><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="30.2969" style="stroke: #33335B; stroke-width: 1.5;" width="47" x="72" y="19.2969"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="79" y="39.292">Error</text><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="46.5938" style="stroke: #33335B; stroke-width: 1.5;" width="54" x="133" y="3"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="144" y="22.9951">Host</text><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="140" y="39.292">Driver</text><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="46.5938" style="stroke: #33335B; stroke-width: 1.5;" width="47" x="612" y="3"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="623" y="22.9951">APL</text><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="619" y="39.292">ROM</text><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="30.2969" style="stroke: #33335B; stroke-width: 1.5;" width="42" x="995.5" y="19.2969"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="1002.5" y="39.292">CSE</text><polygon fill="#4A4A86" points="625.5,81.7266,635.5,85.7266,625.5,89.7266,629.5,85.7266" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="162" x2="631.5" y1="85.7266" y2="85.7266"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="169" y="80.6606">&lt;&lt;IPC&gt;&gt; RomControl (purge=1, dma_id)</text><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1043.5" x="3" y="114.293"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1046.5" y1="114.293" y2="114.293"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1046.5" y1="117.293" y2="117.293"/><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="23.1328" style="stroke: #D6D6DE; stroke-width: 1.0;" width="108" x="470.75" y="103.7266"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="476.75" y="119.7935">Initialization</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="637.5" x2="679.5" y1="157.9922" y2="157.9922"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="679.5" x2="679.5" y1="157.9922" y2="170.9922"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="638.5" x2="679.5" y1="170.9922" y2="170.9922"/><polygon fill="#4A4A86" points="648.5,166.9922,638.5,170.9922,648.5,174.9922,644.5,170.9922" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="644.5" y="152.9263">Boot</text><polygon fill="#FF0000" points="108.5,196.125,98.5,200.125,108.5,204.125,104.5,200.125" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="636.5" y1="200.125" y2="200.125"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="419" x="114.5" y="195.0591">ADSP_UNHANDLED_INTERRUPT [anytime unhandled int reported]</text><polygon fill="#FF0000" points="108.5,225.2578,98.5,229.2578,108.5,233.2578,104.5,229.2578" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="636.5" y1="229.2578" y2="229.2578"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="407" x="114.5" y="224.1919">ADSP_MEMORY_HOLE_ECC [anytime memory hole int reported]</text><polygon fill="#FF0000" points="108.5,254.3906,98.5,258.3906,108.5,262.3906,104.5,258.3906" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="636.5" y1="258.3906" y2="258.3906"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="491" x="114.5" y="253.3247">ADSP_USER_EXCEPTION [anytime unhandled user mode exception happens]</text><polygon fill="#FF0000" points="108.5,283.5234,98.5,287.5234,108.5,291.5234,104.5,287.5234" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="636.5" y1="287.5234" y2="287.5234"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="516" x="114.5" y="282.4575">ADSP_KERNEL_EXCEPTION [anytime unhandled kernel mode exception happens]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="637.5" x2="679.5" y1="316.6563" y2="316.6563"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="679.5" x2="679.5" y1="316.6563" y2="329.6563"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="638.5" x2="679.5" y1="329.6563" y2="329.6563"/><polygon fill="#4A4A86" points="648.5,325.6563,638.5,329.6563,648.5,333.6563,644.5,329.6563" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="644.5" y="311.5903">L2Cache Initialization</text><polygon fill="#FF0000" points="108.5,354.7891,98.5,358.7891,108.5,362.7891,104.5,358.7891" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="636.5" y1="358.7891" y2="358.7891"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="114.5" y="353.7231">ADSP_L2_CACHE_ERROR [Failed to init L2$]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="637.5" x2="679.5" y1="387.9219" y2="387.9219"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="679.5" x2="679.5" y1="387.9219" y2="400.9219"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="638.5" x2="679.5" y1="400.9219" y2="400.9219"/><polygon fill="#4A4A86" points="648.5,396.9219,638.5,400.9219,648.5,404.9219,644.5,400.9219" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="644.5" y="382.856">Requesting IMR</text><polygon fill="#008000" points="46,426.0547,36,430.0547,46,434.0547,42,430.0547" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="636.5" y1="430.0547" y2="430.0547"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="52" y="424.9888">FSR_ROM_BASEFW_CSE_IMR_REQUEST</text><polygon fill="#4A4A86" points="1006.5,455.1875,1016.5,459.1875,1006.5,463.1875,1010.5,459.1875" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="637.5" x2="1012.5" y1="459.1875" y2="459.1875"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="644.5" y="454.1216">&lt;&lt;IPC&gt;&gt; IPC_ADSP2CSE_REQUEST_IMR</text><polygon fill="#4A4A86" points="648.5,484.3203,638.5,488.3203,648.5,492.3203,644.5,488.3203" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="642.5" x2="1017.5" y1="488.3203" y2="488.3203"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="338" x="654.5" y="483.2544">&lt;&lt;IPC&gt;&gt; IPC_CSE2ADSP_REQUEST_IMR_RESPONSE</text><polygon fill="#008000" points="46,513.4531,36,517.4531,46,521.4531,42,517.4531" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="636.5" y1="517.4531" y2="517.4531"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="52" y="512.3872">FSR_ROM_BASEFW_CSE_IMR_GRANTED</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="637.5" x2="679.5" y1="546.5859" y2="546.5859"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="679.5" x2="679.5" y1="546.5859" y2="559.5859"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="638.5" x2="679.5" y1="559.5859" y2="559.5859"/><polygon fill="#4A4A86" points="648.5,555.5859,638.5,559.5859,648.5,563.5859,644.5,559.5859" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="644.5" y="541.52">Initializing Code Load DMA</text><polygon fill="#FF0000" points="108.5,584.7188,98.5,588.7188,108.5,592.7188,104.5,588.7188" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="636.5" y1="588.7188" y2="588.7188"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="289" x="114.5" y="583.6528">ADSP_INVALID_PARAM [dma_id out of range]</text><polygon fill="#008000" points="46,613.8516,36,617.8516,46,621.8516,42,617.8516" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="636.5" y1="617.8516" y2="617.8516"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="52" y="612.7856">FSR_ROM_INIT_DONE</text><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1043.5" x="3" y="646.418"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1046.5" y1="646.418" y2="646.418"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1046.5" y1="649.418" y2="649.418"/><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="23.1328" style="stroke: #D6D6DE; stroke-width: 1.0;" width="129" x="460.25" y="635.8516"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110" x="466.25" y="651.9185">Loading Image</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="637.5" x2="679.5" y1="690.1172" y2="690.1172"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="679.5" x2="679.5" y1="690.1172" y2="703.1172"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="638.5" x2="679.5" y1="703.1172" y2="703.1172"/><polygon fill="#4A4A86" points="648.5,699.1172,638.5,703.1172,648.5,707.1172,644.5,703.1172" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="644.5" y="685.0513">Loading Firmware</text><polygon fill="#008000" points="46,728.25,36,732.25,46,736.25,42,732.25" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="636.5" y1="732.25" y2="732.25"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="52" y="727.1841">FSR_ROM_VERIFY_FEATURE_MASK</text><polygon fill="#FF0000" points="108.5,757.3828,98.5,761.3828,108.5,765.3828,104.5,761.3828" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="636.5" y1="761.3828" y2="761.3828"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="400" x="114.5" y="756.3169">ADSP_INVALID_FEAT_MASK [mft mask does not match SKUID]</text><polygon fill="#008000" points="46,786.5156,36,790.5156,46,794.5156,42,790.5156" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="636.5" y1="790.5156" y2="790.5156"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="52" y="785.4497">FSR_ROM_GET_LOAD_OFFSET</text><polygon fill="#FF0000" points="108.5,815.6484,98.5,819.6484,108.5,823.6484,104.5,819.6484" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="636.5" y1="819.6484" y2="819.6484"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="437" x="114.5" y="814.5825">ADSP_LOAD_OFFSET_TOO_SMALL [load offset less then Rsvd space]</text><polygon fill="#FF0000" points="108.5,844.7813,98.5,848.7813,108.5,852.7813,104.5,848.7813" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="636.5" y1="848.7813" y2="848.7813"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="430" x="114.5" y="843.7153">ADSP_IMR_TOO_SMALL [load offset greater than assigned IMR size]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="637.5" x2="679.5" y1="877.9141" y2="877.9141"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="679.5" x2="679.5" y1="877.9141" y2="890.9141"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="638.5" x2="679.5" y1="890.9141" y2="890.9141"/><polygon fill="#4A4A86" points="648.5,886.9141,638.5,890.9141,648.5,894.9141,644.5,890.9141" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="644.5" y="872.8481">Loading CSE Manifest</text><polygon fill="#FF0000" points="108.5,916.0469,98.5,920.0469,108.5,924.0469,104.5,920.0469" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="636.5" y1="920.0469" y2="920.0469"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="319" x="114.5" y="914.981">ADSP_IMR_TOO_SMALL [CSE manifest &gt; IMR size]</text><polygon fill="#008000" points="46,945.1797,36,949.1797,46,953.1797,42,949.1797" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="636.5" y1="949.1797" y2="949.1797"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="52" y="944.1138">FSR_ROM_CSE_MANIFEST_LOADED</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="637.5" x2="679.5" y1="978.3125" y2="978.3125"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="679.5" x2="679.5" y1="978.3125" y2="991.3125"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="638.5" x2="679.5" y1="991.3125" y2="991.3125"/><polygon fill="#4A4A86" points="648.5,987.3125,638.5,991.3125,648.5,995.3125,644.5,991.3125" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="644.5" y="973.2466">Loading ADSP FW Manifest</text><polygon fill="#FF0000" points="108.5,1016.4453,98.5,1020.4453,108.5,1024.4453,104.5,1020.4453" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="636.5" y1="1020.4453" y2="1020.4453"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="351" x="114.5" y="1015.3794">ADSP_IMR_TOO_SMALL [ADSP FW manifest &gt; IMR size]</text><polygon fill="#008000" points="46,1045.5781,36,1049.5781,46,1053.5781,42,1049.5781" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="636.5" y1="1049.5781" y2="1049.5781"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="52" y="1044.5122">FSR_ROM_FW_MANIFEST_LOADED</text><polygon fill="#FF0000" points="108.5,1074.7109,98.5,1078.7109,108.5,1082.7109,104.5,1078.7109" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="636.5" y1="1078.7109" y2="1078.7109"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="430" x="114.5" y="1073.645">ADSP_BASE_FW_NOT_FOUND [module entry not found in manifest]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="637.5" x2="679.5" y1="1107.8438" y2="1107.8438"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="679.5" x2="679.5" y1="1107.8438" y2="1120.8438"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="638.5" x2="679.5" y1="1120.8438" y2="1120.8438"/><polygon fill="#4A4A86" points="648.5,1116.8438,638.5,1120.8438,648.5,1124.8438,644.5,1120.8438" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="644.5" y="1102.7778">Loading FW</text><polygon fill="#008000" points="46,1145.9766,36,1149.9766,46,1153.9766,42,1149.9766" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="636.5" y1="1149.9766" y2="1149.9766"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="52" y="1144.9106">FSR_ROM_FW_FW_LOADED</text><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1043.5" x="3" y="1178.543"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1046.5" y1="1178.543" y2="1178.543"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1046.5" y1="1181.543" y2="1181.543"/><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="23.1328" style="stroke: #D6D6DE; stroke-width: 1.0;" width="178" x="435.75" y="1167.9766"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159" x="441.75" y="1184.0435">Authenticating Image</text><polygon fill="#008000" points="46,1218.2422,36,1222.2422,46,1226.2422,42,1222.2422" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="636.5" y1="1222.2422" y2="1222.2422"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="337" x="52" y="1217.1763">FSR_ROM_BASEFW_CSE_VALIDATE_IMAGE_REQUEST</text><polygon fill="#4A4A86" points="1006.5,1247.375,1016.5,1251.375,1006.5,1255.375,1010.5,1251.375" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="637.5" x2="1012.5" y1="1251.375" y2="1251.375"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="644.5" y="1246.3091">&lt;&lt;IPC&gt;&gt; IPC_CSE2ADSP_START_FW_AUTH</text><polygon fill="#4A4A86" points="648.5,1276.5078,638.5,1280.5078,648.5,1284.5078,644.5,1280.5078" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="642.5" x2="1017.5" y1="1280.5078" y2="1280.5078"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="357" x="654.5" y="1275.4419">&lt;&lt;IPC&gt;&gt; IPC_CSE2ADSP_START_FW_AUTH_RESPONSE</text><polygon fill="#FF0000" points="108.5,1305.6406,98.5,1309.6406,108.5,1313.6406,104.5,1309.6406" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="636.5" y1="1309.6406" y2="1309.6406"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="366" x="114.5" y="1304.5747">ADSP_CSE_VALIDATION_FAILED [invalid image signature]</text><polygon fill="#008000" points="46,1334.7734,36,1338.7734,46,1342.7734,42,1338.7734" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="636.5" y1="1338.7734" y2="1338.7734"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="52" y="1333.7075">FSR_ROM_BASEFW_CSE_IMAGE_VALIDATED</text><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1043.5" x="3" y="1367.3398"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1046.5" y1="1367.3398" y2="1367.3398"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1046.5" y1="1370.3398" y2="1370.3398"/><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="23.1328" style="stroke: #D6D6DE; stroke-width: 1.0;" width="104" x="472.75" y="1356.7734"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="478.75" y="1372.8403">Booting FW</text><polygon fill="#008000" points="46,1407.0391,36,1411.0391,46,1415.0391,42,1411.0391" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="636.5" y1="1411.0391" y2="1411.0391"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="52" y="1405.9731">FSR_ROM_FW_ENTERED</text><!--MD5=[e8e1d78e4cf834369a2e95e328c61ba1]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
participant "State" as st
participant "Error" as err
participant "Host\nDriver" as host
participant "APL\nROM" as rom
participant "CSE" as cse

host -> rom : <<IPC>> RomControl (purge=1, dma_id)

== Initialization ==
rom -> rom : Boot
	err <[#red]- rom : ADSP_UNHANDLED_INTERRUPT [anytime unhandled int reported]
	err <[#red]- rom : ADSP_MEMORY_HOLE_ECC [anytime memory hole int reported]
	err <[#red]- rom : ADSP_USER_EXCEPTION [anytime unhandled user mode exception happens]
	err <[#red]- rom : ADSP_KERNEL_EXCEPTION [anytime unhandled kernel mode exception happens]

rom -> rom : L2Cache Initialization
	err <[#red]- rom : ADSP_L2_CACHE_ERROR [Failed to init L2$]

rom -> rom : Requesting IMR
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_IMR_REQUEST
	rom -> cse : <<IPC>> IPC_ADSP2CSE_REQUEST_IMR
	rom <- cse : <<IPC>> IPC_CSE2ADSP_REQUEST_IMR_RESPONSE
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_IMR_GRANTED

rom -> rom : Initializing Code Load DMA
	err <[#red]- rom : ADSP_INVALID_PARAM [dma_id out of range]

st <[#green]- rom : FSR_ROM_INIT_DONE

== Loading Image ==
	rom -> rom : Loading Firmware
	st <[#green]- rom : FSR_ROM_VERIFY_FEATURE_MASK
	err <[#red]- rom : ADSP_INVALID_FEAT_MASK [mft mask does not match SKUID]
	st <[#green]- rom : FSR_ROM_GET_LOAD_OFFSET
	err <[#red]- rom : ADSP_LOAD_OFFSET_TOO_SMALL [load offset less then Rsvd space]
	err <[#red]- rom : ADSP_IMR_TOO_SMALL [load offset greater than assigned IMR size]
	rom -> rom : Loading CSE Manifest
	err <[#red]- rom : ADSP_IMR_TOO_SMALL [CSE manifest > IMR size]
	st <[#green]- rom : FSR_ROM_CSE_MANIFEST_LOADED
	rom -> rom : Loading ADSP FW Manifest
	err <[#red]- rom : ADSP_IMR_TOO_SMALL [ADSP FW manifest > IMR size]
	st <[#green]- rom : FSR_ROM_FW_MANIFEST_LOADED
	err <[#red]- rom : ADSP_BASE_FW_NOT_FOUND [module entry not found in manifest]
	rom -> rom : Loading FW
	st <[#green]- rom : FSR_ROM_FW_FW_LOADED

== Authenticating Image ==
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_VALIDATE_IMAGE_REQUEST
	rom -> cse : <<IPC>> IPC_CSE2ADSP_START_FW_AUTH
	rom <- cse : <<IPC>> IPC_CSE2ADSP_START_FW_AUTH_RESPONSE
	err <[#red]- rom : ADSP_CSE_VALIDATION_FAILED [invalid image signature]
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_IMAGE_VALIDATED
== Booting FW ==
	st <[#green]- rom : FSR_ROM_FW_ENTERED

@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.16+8
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>