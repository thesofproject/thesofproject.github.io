<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1493px" preserveAspectRatio="none" style="width:1017px;height:1493px;" version="1.1" viewBox="0 0 1017 1493" width="1017px" zoomAndPan="magnify"><defs><filter height="300%" id="f1461knpy0rtlu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="33" x2="33" y1="57.2188" y2="1481.6328"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="94" x2="94" y1="57.2188" y2="1481.6328"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="157" x2="157" y1="57.2188" y2="1481.6328"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="601" x2="601" y1="57.2188" y2="1481.6328"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="977" x2="977" y1="57.2188" y2="1481.6328"/><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="31.6094" style="stroke: #33335B; stroke-width: 1.5;" width="47" x="8" y="20.6094"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="15" y="42.1426">State</text><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="31.6094" style="stroke: #33335B; stroke-width: 1.5;" width="46" x="69" y="20.6094"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="76" y="42.1426">Error</text><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="49.2188" style="stroke: #33335B; stroke-width: 1.5;" width="52" x="129" y="3"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="141" y="24.5332">Host</text><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="136" y="42.1426">Driver</text><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="49.2188" style="stroke: #33335B; stroke-width: 1.5;" width="46" x="576" y="3"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="586" y="24.5332">APL</text><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="583" y="42.1426">ROM</text><rect fill="#FFFFFF" filter="url(#f1461knpy0rtlu)" height="31.6094" style="stroke: #33335B; stroke-width: 1.5;" width="42" x="954" y="20.6094"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="961" y="42.1426">CSE</text><polygon fill="#4A4A86" points="589,85.5703,599,89.5703,589,93.5703,593,89.5703" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="157" x2="595" y1="89.5703" y2="89.5703"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="164" y="84.7139">&lt;&lt;IPC&gt;&gt; RomControl (purge=1, dma_id)</text><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1002" x="3" y="118.7461"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="118.7461" y2="118.7461"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="121.7461" y2="121.7461"/><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="24.3516" style="stroke: #D6D6DE; stroke-width: 1.0;" width="97" x="455.5" y="107.5703"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79" x="461.5" y="125.0654">Initialization</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="164.2734" y2="164.2734"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="164.2734" y2="177.2734"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="177.2734" y2="177.2734"/><polygon fill="#4A4A86" points="612,173.2734,602,177.2734,612,181.2734,608,177.2734" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="27" x="608" y="159.417">Boot</text><polygon fill="#FF0000" points="105,203.625,95,207.625,105,211.625,101,207.625" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="207.625" y2="207.625"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="390" x="111" y="202.7686">ADSP_UNHANDLED_INTERRUPT [anytime unhandled int reported]</text><polygon fill="#FF0000" points="105,233.9766,95,237.9766,105,241.9766,101,237.9766" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="237.9766" y2="237.9766"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="384" x="111" y="233.1201">ADSP_MEMORY_HOLE_ECC [anytime memory hole int reported]</text><polygon fill="#FF0000" points="105,264.3281,95,268.3281,105,272.3281,101,268.3281" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="268.3281" y2="268.3281"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="457" x="111" y="263.4717">ADSP_USER_EXCEPTION [anytime unhandled user mode exception happens]</text><polygon fill="#FF0000" points="105,294.6797,95,298.6797,105,302.6797,101,298.6797" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="298.6797" y2="298.6797"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="483" x="111" y="293.8232">ADSP_KERNEL_EXCEPTION [anytime unhandled kernel mode exception happens]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="329.0313" y2="329.0313"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="329.0313" y2="342.0313"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="342.0313" y2="342.0313"/><polygon fill="#4A4A86" points="612,338.0313,602,342.0313,612,346.0313,608,342.0313" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="608" y="324.1748">L2Cache Initialization</text><polygon fill="#FF0000" points="105,368.3828,95,372.3828,105,376.3828,101,372.3828" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="372.3828" y2="372.3828"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="111" y="367.5264">ADSP_L2_CACHE_ERROR [Failed to init L2$]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="402.7344" y2="402.7344"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="402.7344" y2="415.7344"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="415.7344" y2="415.7344"/><polygon fill="#4A4A86" points="612,411.7344,602,415.7344,612,419.7344,608,415.7344" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="608" y="397.8779">Requesting IMR</text><polygon fill="#008000" points="44.5,442.0859,34.5,446.0859,44.5,450.0859,40.5,446.0859" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="446.0859" y2="446.0859"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="50.5" y="441.2295">FSR_ROM_BASEFW_CSE_IMR_REQUEST</text><polygon fill="#4A4A86" points="965,472.4375,975,476.4375,965,480.4375,969,476.4375" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="971" y1="476.4375" y2="476.4375"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="608" y="471.5811">&lt;&lt;IPC&gt;&gt; IPC_ADSP2CSE_REQUEST_IMR</text><polygon fill="#4A4A86" points="612,502.7891,602,506.7891,612,510.7891,608,506.7891" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="606" x2="976" y1="506.7891" y2="506.7891"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="334" x="618" y="501.9326">&lt;&lt;IPC&gt;&gt; IPC_CSE2ADSP_REQUEST_IMR_RESPONSE</text><polygon fill="#008000" points="44.5,533.1406,34.5,537.1406,44.5,541.1406,40.5,537.1406" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="537.1406" y2="537.1406"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="50.5" y="532.2842">FSR_ROM_BASEFW_CSE_IMR_GRANTED</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="567.4922" y2="567.4922"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="567.4922" y2="580.4922"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="580.4922" y2="580.4922"/><polygon fill="#4A4A86" points="612,576.4922,602,580.4922,612,584.4922,608,580.4922" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="608" y="562.6357">Initializing Code Load DMA</text><polygon fill="#FF0000" points="105,606.8438,95,610.8438,105,614.8438,101,610.8438" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="610.8438" y2="610.8438"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="111" y="605.9873">ADSP_INVALID_PARAM [dma_id out of range]</text><polygon fill="#008000" points="44.5,637.1953,34.5,641.1953,44.5,645.1953,40.5,641.1953" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="641.1953" y2="641.1953"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="50.5" y="636.3389">FSR_ROM_INIT_DONE</text><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1002" x="3" y="670.3711"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="670.3711" y2="670.3711"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="673.3711" y2="673.3711"/><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="24.3516" style="stroke: #D6D6DE; stroke-width: 1.0;" width="114" x="447" y="659.1953"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="453" y="676.6904">Loading Image</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="715.8984" y2="715.8984"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="715.8984" y2="728.8984"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="728.8984" y2="728.8984"/><polygon fill="#4A4A86" points="612,724.8984,602,728.8984,612,732.8984,608,728.8984" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="608" y="711.042">Loading Firmware</text><polygon fill="#008000" points="44.5,755.25,34.5,759.25,44.5,763.25,40.5,759.25" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="759.25" y2="759.25"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="50.5" y="754.3936">FSR_ROM_VERIFY_FEATURE_MASK</text><polygon fill="#FF0000" points="105,785.6016,95,789.6016,105,793.6016,101,789.6016" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="789.6016" y2="789.6016"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="380" x="111" y="784.7451">ADSP_INVALID_FEAT_MASK [mft mask does not match SKUID]</text><polygon fill="#008000" points="44.5,815.9531,34.5,819.9531,44.5,823.9531,40.5,819.9531" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="819.9531" y2="819.9531"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="50.5" y="815.0967">FSR_ROM_GET_LOAD_OFFSET</text><polygon fill="#FF0000" points="105,846.3047,95,850.3047,105,854.3047,101,850.3047" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="850.3047" y2="850.3047"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="419" x="111" y="845.4482">ADSP_LOAD_OFFSET_TOO_SMALL [load offset less then Rsvd space]</text><polygon fill="#FF0000" points="105,876.6563,95,880.6563,105,884.6563,101,880.6563" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="880.6563" y2="880.6563"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="111" y="875.7998">ADSP_IMR_TOO_SMALL [load offset greater than assigned IMR size]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="911.0078" y2="911.0078"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="911.0078" y2="924.0078"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="924.0078" y2="924.0078"/><polygon fill="#4A4A86" points="612,920.0078,602,924.0078,612,928.0078,608,924.0078" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="608" y="906.1514">Loading CSE Manifest</text><polygon fill="#FF0000" points="105,950.3594,95,954.3594,105,958.3594,101,954.3594" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="954.3594" y2="954.3594"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="309" x="111" y="949.5029">ADSP_IMR_TOO_SMALL [CSE manifest &gt; IMR size]</text><polygon fill="#008000" points="44.5,980.7109,34.5,984.7109,44.5,988.7109,40.5,984.7109" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="984.7109" y2="984.7109"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="50.5" y="979.8545">FSR_ROM_CSE_MANIFEST_LOADED</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="1015.0625" y2="1015.0625"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="1015.0625" y2="1028.0625"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="1028.0625" y2="1028.0625"/><polygon fill="#4A4A86" points="612,1024.0625,602,1028.0625,612,1032.0625,608,1028.0625" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="608" y="1010.2061">Loading ADSP FW Manifest</text><polygon fill="#FF0000" points="105,1054.4141,95,1058.4141,105,1062.4141,101,1058.4141" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="1058.4141" y2="1058.4141"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="343" x="111" y="1053.5576">ADSP_IMR_TOO_SMALL [ADSP FW manifest &gt; IMR size]</text><polygon fill="#008000" points="44.5,1084.7656,34.5,1088.7656,44.5,1092.7656,40.5,1088.7656" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="1088.7656" y2="1088.7656"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="50.5" y="1083.9092">FSR_ROM_FW_MANIFEST_LOADED</text><polygon fill="#FF0000" points="105,1115.1172,95,1119.1172,105,1123.1172,101,1119.1172" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="1119.1172" y2="1119.1172"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="403" x="111" y="1114.2607">ADSP_BASE_FW_NOT_FOUND [module entry not found in manifest]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="643" y1="1149.4688" y2="1149.4688"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="643" x2="643" y1="1149.4688" y2="1162.4688"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="602" x2="643" y1="1162.4688" y2="1162.4688"/><polygon fill="#4A4A86" points="612,1158.4688,602,1162.4688,612,1166.4688,608,1162.4688" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="608" y="1144.6123">Loading FW</text><polygon fill="#008000" points="44.5,1188.8203,34.5,1192.8203,44.5,1196.8203,40.5,1192.8203" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="1192.8203" y2="1192.8203"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="50.5" y="1187.9639">FSR_ROM_FW_FW_LOADED</text><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1002" x="3" y="1221.9961"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="1221.9961" y2="1221.9961"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="1224.9961" y2="1224.9961"/><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="24.3516" style="stroke: #D6D6DE; stroke-width: 1.0;" width="154" x="427" y="1210.8203"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="136" x="433" y="1228.3154">Authenticating Image</text><polygon fill="#008000" points="44.5,1263.5234,34.5,1267.5234,44.5,1271.5234,40.5,1267.5234" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="1267.5234" y2="1267.5234"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="348" x="50.5" y="1262.667">FSR_ROM_BASEFW_CSE_VALIDATE_IMAGE_REQUEST</text><polygon fill="#4A4A86" points="965,1293.875,975,1297.875,965,1301.875,969,1297.875" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="601" x2="971" y1="1297.875" y2="1297.875"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="608" y="1293.0186">&lt;&lt;IPC&gt;&gt; IPC_CSE2ADSP_START_FW_AUTH</text><polygon fill="#4A4A86" points="612,1324.2266,602,1328.2266,612,1332.2266,608,1328.2266" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="606" x2="976" y1="1328.2266" y2="1328.2266"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="352" x="618" y="1323.3701">&lt;&lt;IPC&gt;&gt; IPC_CSE2ADSP_START_FW_AUTH_RESPONSE</text><polygon fill="#FF0000" points="105,1354.5781,95,1358.5781,105,1362.5781,101,1358.5781" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="99" x2="600" y1="1358.5781" y2="1358.5781"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="347" x="111" y="1353.7217">ADSP_CSE_VALIDATION_FAILED [invalid image signature]</text><polygon fill="#008000" points="44.5,1384.9297,34.5,1388.9297,44.5,1392.9297,40.5,1388.9297" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="1388.9297" y2="1388.9297"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="288" x="50.5" y="1384.0732">FSR_ROM_BASEFW_CSE_IMAGE_VALIDATED</text><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1002" x="3" y="1418.1055"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="1418.1055" y2="1418.1055"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="1005" y1="1421.1055" y2="1421.1055"/><rect fill="#EEEEEE" filter="url(#f1461knpy0rtlu)" height="24.3516" style="stroke: #D6D6DE; stroke-width: 1.0;" width="92" x="458" y="1406.9297"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="464" y="1424.4248">Booting FW</text><polygon fill="#008000" points="44.5,1459.6328,34.5,1463.6328,44.5,1467.6328,40.5,1463.6328" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="38.5" x2="600" y1="1463.6328" y2="1463.6328"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="50.5" y="1458.7764">FSR_ROM_FW_ENTERED</text><!--MD5=[dfbb6c6057df9f41dbfcfa819c85f531]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
participant "State" as st
participant "Error" as err
participant "Host\nDriver" as host
participant "APL\nROM" as rom
participant "CSE" as cse

host -> rom : <<IPC>> RomControl (purge=1, dma_id)

== Initialization ==
rom -> rom : Boot
	err <[#red]- rom : ADSP_UNHANDLED_INTERRUPT [anytime unhandled int reported]
	err <[#red]- rom : ADSP_MEMORY_HOLE_ECC [anytime memory hole int reported]
	err <[#red]- rom : ADSP_USER_EXCEPTION [anytime unhandled user mode exception happens]
	err <[#red]- rom : ADSP_KERNEL_EXCEPTION [anytime unhandled kernel mode exception happens]

rom -> rom : L2Cache Initialization
	err <[#red]- rom : ADSP_L2_CACHE_ERROR [Failed to init L2$]

rom -> rom : Requesting IMR
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_IMR_REQUEST
	rom -> cse : <<IPC>> IPC_ADSP2CSE_REQUEST_IMR
	rom <- cse : <<IPC>> IPC_CSE2ADSP_REQUEST_IMR_RESPONSE
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_IMR_GRANTED

rom -> rom : Initializing Code Load DMA
	err <[#red]- rom : ADSP_INVALID_PARAM [dma_id out of range]

st <[#green]- rom : FSR_ROM_INIT_DONE

== Loading Image ==
	rom -> rom : Loading Firmware
	st <[#green]- rom : FSR_ROM_VERIFY_FEATURE_MASK
	err <[#red]- rom : ADSP_INVALID_FEAT_MASK [mft mask does not match SKUID]
	st <[#green]- rom : FSR_ROM_GET_LOAD_OFFSET
	err <[#red]- rom : ADSP_LOAD_OFFSET_TOO_SMALL [load offset less then Rsvd space]
	err <[#red]- rom : ADSP_IMR_TOO_SMALL [load offset greater than assigned IMR size]
	rom -> rom : Loading CSE Manifest
	err <[#red]- rom : ADSP_IMR_TOO_SMALL [CSE manifest > IMR size]
	st <[#green]- rom : FSR_ROM_CSE_MANIFEST_LOADED
	rom -> rom : Loading ADSP FW Manifest
	err <[#red]- rom : ADSP_IMR_TOO_SMALL [ADSP FW manifest > IMR size]
	st <[#green]- rom : FSR_ROM_FW_MANIFEST_LOADED
	err <[#red]- rom : ADSP_BASE_FW_NOT_FOUND [module entry not found in manifest]
	rom -> rom : Loading FW
	st <[#green]- rom : FSR_ROM_FW_FW_LOADED

== Authenticating Image ==
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_VALIDATE_IMAGE_REQUEST
	rom -> cse : <<IPC>> IPC_CSE2ADSP_START_FW_AUTH
	rom <- cse : <<IPC>> IPC_CSE2ADSP_START_FW_AUTH_RESPONSE
	err <[#red]- rom : ADSP_CSE_VALIDATION_FAILED [invalid image signature]
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_IMAGE_VALIDATED
== Booting FW ==
	st <[#green]- rom : FSR_ROM_FW_ENTERED

@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_302-b08
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>