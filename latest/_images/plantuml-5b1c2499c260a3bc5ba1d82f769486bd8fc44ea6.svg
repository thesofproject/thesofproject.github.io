<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="532px" preserveAspectRatio="none" style="width:929px;height:532px;" version="1.1" viewBox="0 0 929 532" width="929px" zoomAndPan="magnify"><defs><filter height="300%" id="f1rklastsoraje" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#6FCCDD" height="510.8281" style="stroke: #A1A1CA; stroke-width: 1.0;" width="324" x="225" y="4"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93" x="340.5" y="17.4951">boot_ldr @IMR</text><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="391.8672" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="282" y="119.9609"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="288.4609" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="518" y="223.3672"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="131.0547" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="523" y="380.7734"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="57.3516" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="755" y="454.4766"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="14" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="760" y="497.8281"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="61.7031" style="stroke: #A1A1CA; stroke-width: 2.0;" width="427" x="491" y="281.7188"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="27" x2="27" y1="87.6094" y2="520.8281"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="287" x2="287" y1="87.6094" y2="520.8281"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="523" x2="523" y1="87.6094" y2="520.8281"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="759.5" x2="759.5" y1="87.6094" y2="520.8281"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="8" y="84.5332">ROM</text><ellipse cx="27" cy="13" fill="#FFFFFF" filter="url(#f1rklastsoraje)" rx="8" ry="8" style="stroke: #33335B; stroke-width: 2.0;"/><path d="M27,21 L27,48 M14,29 L40,29 M27,48 L14,63 M27,48 L40,63 " fill="none" filter="url(#f1rklastsoraje)" style="stroke: #33335B; stroke-width: 2.0;"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="31.6094" style="stroke: #33335B; stroke-width: 1.5;" width="112" x="229" y="51"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="236" y="72.5332">.boot_entry.text</text><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="31.6094" style="stroke: #33335B; stroke-width: 1.5;" width="40" x="501" y="51"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="508" y="72.5332">.text</text><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="31.6094" style="stroke: #33335B; stroke-width: 1.5;" width="33" x="741.5" y="51"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="19" x="748.5" y="72.5332">sof</text><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="391.8672" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="282" y="119.9609"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="288.4609" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="518" y="223.3672"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="131.0547" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="523" y="380.7734"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="57.3516" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="755" y="454.4766"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="14" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="760" y="497.8281"/><polygon fill="#4A4A86" points="270,115.9609,280,119.9609,270,123.9609,274,119.9609" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="27" x2="276" y1="119.9609" y2="119.9609"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="34" y="115.1045">boot_entry() @boot_ldr.ep (boot_entry.S)</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="292" x2="334" y1="165.1641" y2="165.1641"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="334" x2="334" y1="165.1641" y2="178.1641"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="293" x2="334" y1="178.1641" y2="178.1641"/><polygon fill="#4A4A86" points="303,174.1641,293,178.1641,303,182.1641,299,178.1641" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="299" y="160.3076">j boot_init:</text><path d="M371,132.9609 L371,191.9609 L643,191.9609 L643,142.9609 L633,132.9609 L371,132.9609 " fill="#F6ED80" filter="url(#f1rklastsoraje)" style="stroke: #D6D6DE; stroke-width: 1.0;"/><path d="M633,132.9609 L633,142.9609 L643,142.9609 L633,132.9609 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="377" y="151.4561">Platform specific actions (compilation flags)</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="377" y="167.8076">- reset MHE</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="377" y="184.1592">- disable L2$</text><polygon fill="#4A4A86" points="506,219.3672,516,223.3672,506,227.3672,510,223.3672" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="292" x2="512" y1="223.3672" y2="223.3672"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="299" y="218.5107">call8 boot_pri_core() (boot_loader.c)</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="528" x2="570" y1="253.7188" y2="253.7188"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="570" x2="570" y1="253.7188" y2="266.7188"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="529" x2="570" y1="266.7188" y2="266.7188"/><polygon fill="#4A4A86" points="539,262.7188,529,266.7188,539,270.7188,535,266.7188" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="535" y="248.8623">hp_sram_init()</text><path d="M491,281.7188 L556,281.7188 L556,289.7188 L546,299.7188 L491,299.7188 L491,281.7188 " fill="#EEEEEE" style="stroke: #A1A1CA; stroke-width: 1.0;"/><rect fill="none" height="61.7031" style="stroke: #A1A1CA; stroke-width: 2.0;" width="427" x="491" y="281.7188"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="506" y="296.2139">opt</text><text fill="#33335B" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="183" x="571" y="295.1377">[defined(CONFIG_BOOT_LOADER)]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="528" x2="570" y1="322.4219" y2="322.4219"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="570" x2="570" y1="322.4219" y2="335.4219"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="529" x2="570" y1="335.4219" y2="335.4219"/><polygon fill="#4A4A86" points="539,331.4219,529,335.4219,539,339.4219,535,335.4219" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="535" y="317.5654">parse_manifest()</text><path d="M643,306.5703 L643,332.5703 L894,332.5703 L894,316.5703 L884,306.5703 L643,306.5703 " fill="#F6ED80" filter="url(#f1rklastsoraje)" style="stroke: #D6D6DE; stroke-width: 1.0;"/><path d="M884,306.5703 L884,316.5703 L894,316.5703 L884,306.5703 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="649" y="325.0654">copying of FW IMR -&gt; SRAM done here</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="528" x2="575" y1="367.7734" y2="367.7734"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="575" x2="575" y1="367.7734" y2="380.7734"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="534" x2="575" y1="380.7734" y2="380.7734"/><polygon fill="#4A4A86" points="544,376.7734,534,380.7734,544,384.7734,540,380.7734" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="540" y="362.917">_ResetVector()</text><polygon fill="#4A4A86" points="748,412.125,758,416.125,748,420.125,752,416.125" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="533" x2="754" y1="416.125" y2="416.125"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="540" y="411.2686">_MainEntry() @SOF_TEXT_START</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="760" x2="807" y1="441.4766" y2="441.4766"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="807" x2="807" y1="441.4766" y2="454.4766"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="766" x2="807" y1="454.4766" y2="454.4766"/><polygon fill="#4A4A86" points="776,450.4766,766,454.4766,776,458.4766,772,454.4766" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="772" y="436.6201">call0 _start</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="765" x2="812" y1="484.8281" y2="484.8281"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="812" x2="812" y1="484.8281" y2="497.8281"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="771" x2="812" y1="497.8281" y2="497.8281"/><polygon fill="#4A4A86" points="781,493.8281,771,497.8281,781,501.8281,777,497.8281" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="777" y="479.9717">call main</text><!--MD5=[cd450aa19d0863275678347c885799aa]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
actor "ROM" as rom
box "boot_ldr @IMR" #6fccdd
	participant ".boot_entry.text" as bup_be
	participant ".text" as bup
end box
participant "sof" as fw

rom -> bup_be : boot_entry() @boot_ldr.ep (boot_entry.S)
	activate bup_be
	bup_be -> bup_be : j boot_init:
	note right: Platform specific actions (compilation flags)\n- reset MHE\n- disable L2$
	bup_be -> bup : call8 boot_pri_core() (boot_loader.c)
		activate bup
		bup -> bup : hp_sram_init()
		opt defined(CONFIG_BOOT_LOADER)
			bup -> bup : parse_manifest()
			note right: copying of FW IMR -> SRAM done here
		end

	bup -> bup : _ResetVector()
		activate bup
		bup -> fw : _MainEntry() @SOF_TEXT_START
			fw -> fw : call0 _start
				activate fw
				fw -> fw : call main
					activate fw

@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_302-b08
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>