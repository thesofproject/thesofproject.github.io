<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="259px" preserveAspectRatio="none" style="width:520px;height:259px;" version="1.1" viewBox="0 0 520 259" width="520px" zoomAndPan="magnify"><defs><filter height="300%" id="f9iliu6dxikbv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" height="237.7188" style="stroke: #A1A1CA; stroke-width: 1.0;" width="130" x="8" y="4"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="59.5" y="17.4951">SOF</text><rect fill="#90EE90" height="237.7188" style="stroke: #A1A1CA; stroke-width: 1.0;" width="204" x="172" y="4"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="252.5" y="17.4951">Zephyr</text><rect fill="#D3D3D3" height="237.7188" style="stroke: #A1A1CA; stroke-width: 1.0;" width="76" x="427" y="4"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="434" y="17.4951">Hardware</text><rect fill="#FFFFFF" filter="url(#f9iliu6dxikbv)" height="167.7578" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="68" y="70.9609"/><rect fill="#FFFFFF" filter="url(#f9iliu6dxikbv)" height="120.0547" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="269" y="109.6641"/><rect fill="#FFFFFF" filter="url(#f9iliu6dxikbv)" height="48.7031" style="stroke: #A1A1CA; stroke-width: 2.0;" width="343" x="166" y="168.0156"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="73" x2="73" y1="60.9609" y2="247.7188"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="274" x2="274" y1="60.9609" y2="247.7188"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="465" x2="465" y1="60.9609" y2="247.7188"/><rect fill="#FFFFFF" filter="url(#f9iliu6dxikbv)" height="31.6094" style="stroke: #33335B; stroke-width: 1.5;" width="118" x="12" y="24.3516"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="19" y="45.8848">Library Manager</text><rect fill="#FFFFFF" filter="url(#f9iliu6dxikbv)" height="31.6094" style="stroke: #33335B; stroke-width: 1.5;" width="192" x="176" y="24.3516"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="178" x="183" y="45.8848">Memory Management Driver</text><rect fill="#FFFFFF" filter="url(#f9iliu6dxikbv)" height="31.6094" style="stroke: #33335B; stroke-width: 1.5;" width="64" x="431" y="24.3516"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="438" y="45.8848">Memory</text><rect fill="#FFFFFF" filter="url(#f9iliu6dxikbv)" height="167.7578" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="68" y="70.9609"/><rect fill="#FFFFFF" filter="url(#f9iliu6dxikbv)" height="120.0547" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="269" y="109.6641"/><polygon fill="#F05772" points="257,105.6641,267,109.6641,257,113.6641,261,109.6641" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="78" x2="263" y1="109.6641" y2="109.6641"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="85" y="88.4561">sys_mm_drv_map_region</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="85" y="104.8076">(virt*, phys=NULL, size, flags)</text><line style="stroke: #F05772; stroke-width: 1.0;" x1="279" x2="321" y1="140.0156" y2="140.0156"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="321" x2="321" y1="140.0156" y2="153.0156"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="280" x2="321" y1="153.0156" y2="153.0156"/><polygon fill="#F05772" points="290,149.0156,280,153.0156,290,157.0156,286,153.0156" style="stroke: #F05772; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="286" y="135.1592">allocate memory phys pages</text><path d="M166,168.0156 L231,168.0156 L231,176.0156 L221,186.0156 L166,186.0156 L166,168.0156 " fill="#EEEEEE" style="stroke: #A1A1CA; stroke-width: 1.0;"/><rect fill="none" height="48.7031" style="stroke: #A1A1CA; stroke-width: 2.0;" width="343" x="166" y="168.0156"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="181" y="182.5107">opt</text><text fill="#33335B" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="232" x="246" y="181.4346">[if phys memory pages require power up]</text><polygon fill="#F05772" points="453,204.7188,463,208.7188,453,212.7188,457,208.7188" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="279" x2="459" y1="208.7188" y2="208.7188"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="286" y="203.8623">power up memory banks</text><polygon fill="#F05772" points="89,225.7188,79,229.7188,89,233.7188,85,229.7188" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="83" x2="273" y1="229.7188" y2="229.7188"/><!--MD5=[4771a08d4ea09d781c154cceaa5a295e]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam queue {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}

skinparam activity {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam activityDiamond {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam arrowColor	#f05772
skinparam maxMessageSize 400
skinparam BoxPadding 4

box "SOF" #LightBlue
	participant "Library Manager" as library_manager
end box

box "Zephyr" #LightGreen
	participant "Memory Management Driver" as memory_management_driver
end box

box "Hardware" #LightGrey
	participant "Memory" as hw_memory
end box

activate library_manager

library_manager -> memory_management_driver: sys_mm_drv_map_region\n(virt*, phys=NULL, size, flags)
	activate memory_management_driver
	memory_management_driver -> memory_management_driver: allocate memory phys pages
	opt if phys memory pages require power up
		memory_management_driver -> hw_memory: power up memory banks
	end

	return

@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_302-b08
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>