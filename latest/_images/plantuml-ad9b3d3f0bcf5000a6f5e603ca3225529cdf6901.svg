<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="231.7104px" preserveAspectRatio="none" style="width:797px;height:231px;" version="1.1" viewBox="0 0 797 231" width="797.0037px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ifalq3qdur3a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.3316687473990845"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.663337494798169" dy="2.663337494798169" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="71.0466" style="stroke: #F05772; stroke-width: 0.6658343736995422;" width="6.6583" x="177.1119" y="51.2432"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="64.6223" style="stroke: #F05772; stroke-width: 0.6658343736995422;" width="6.6583" x="359.8835" y="142.499"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="38.1866" style="stroke: #F05772; stroke-width: 0.6658343736995422;" width="6.6583" x="565.6263" y="74.7815"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="20.2091" style="stroke: #F05772; stroke-width: 0.6658343736995422;" width="6.6583" x="565.6263" y="162.7081"/><line style="stroke: #F05772; stroke-width: 0.6658343736995422; stroke-dasharray: 5.0,5.0;" x1="81.2318" x2="81.2318" y1="26.3733" y2="223.7672"/><line style="stroke: #F05772; stroke-width: 0.6658343736995422; stroke-dasharray: 5.0,5.0;" x1="180.4411" x2="180.4411" y1="26.3733" y2="223.7672"/><line style="stroke: #F05772; stroke-width: 0.6658343736995422; stroke-dasharray: 5.0,5.0;" x1="240.3662" x2="240.3662" y1="26.3733" y2="223.7672"/><line style="stroke: #F05772; stroke-width: 0.6658343736995422; stroke-dasharray: 5.0,5.0;" x1="362.8797" x2="362.8797" y1="26.3733" y2="223.7672"/><line style="stroke: #F05772; stroke-width: 0.6658343736995422; stroke-dasharray: 5.0,5.0;" x1="568.6226" x2="568.6226" y1="26.3733" y2="223.7672"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="21.0466" style="stroke: #33335B; stroke-width: 0.9987515605493134;" width="34.6234" x="62.5884" y="1.9975"/><text fill="#33335B" font-family="sans-serif" font-size="9.3217" lengthAdjust="spacingAndGlyphs" textLength="25.3017" x="67.2493" y="16.335">Driver</text><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="21.0466" style="stroke: #33335B; stroke-width: 0.9987515605493134;" width="21.3067" x="168.4561" y="1.9975"/><text fill="#33335B" font-family="sans-serif" font-size="9.3217" lengthAdjust="spacingAndGlyphs" textLength="11.985" x="173.1169" y="16.335">ipc</text><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="21.0466" style="stroke: #33335B; stroke-width: 0.9987515605493134;" width="80.566" x="199.0845" y="1.9975"/><text fill="#33335B" font-family="sans-serif" font-size="9.3217" lengthAdjust="spacingAndGlyphs" textLength="71.2443" x="203.7453" y="16.335">master-core-task</text><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="21.0466" style="stroke: #33335B; stroke-width: 0.9987515605493134;" width="43.2792" x="340.2414" y="1.9975"/><text fill="#33335B" font-family="sans-serif" font-size="9.3217" lengthAdjust="spacingAndGlyphs" textLength="33.9576" x="344.9022" y="16.335">platform</text><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="21.0466" style="stroke: #33335B; stroke-width: 0.9987515605493134;" width="56.5959" x="539.3258" y="1.9975"/><text fill="#33335B" font-family="sans-serif" font-size="9.3217" lengthAdjust="spacingAndGlyphs" textLength="47.2742" x="543.9867" y="16.335">pm-runtime</text><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="71.0466" style="stroke: #F05772; stroke-width: 0.6658343736995422;" width="6.6583" x="177.1119" y="51.2432"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="64.6223" style="stroke: #F05772; stroke-width: 0.6658343736995422;" width="6.6583" x="359.8835" y="142.499"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="38.1866" style="stroke: #F05772; stroke-width: 0.6658343736995422;" width="6.6583" x="565.6263" y="74.7815"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="20.2091" style="stroke: #F05772; stroke-width: 0.6658343736995422;" width="6.6583" x="565.6263" y="162.7081"/><polygon fill="#4A4A86" points="169.1219,48.5799,175.7803,51.2432,169.1219,53.9066,171.7853,51.2432" style="stroke: #4A4A86; stroke-width: 0.6658343736995422;"/><line style="stroke: #4A4A86; stroke-width: 0.6658343736995422;" x1="81.2318" x2="173.1169" y1="51.2432" y2="51.2432"/><text fill="#33335B" font-family="sans-serif" font-size="8.6558" lengthAdjust="spacingAndGlyphs" textLength="83.2293" x="85.8926" y="48.0096">PM_GATE (PPG = 0)</text><path d="M5.3267,36.3608 L5.3267,53.6725 L75.2393,53.6725 L75.2393,43.0191 L68.5809,36.3608 L5.3267,36.3608 " fill="#F6ED80" filter="url(#f1ifalq3qdur3a)" style="stroke: #D6D6DE; stroke-width: 0.6658343736995422;"/><path d="M68.5809,36.3608 L68.5809,43.0191 L75.2393,43.0191 L68.5809,36.3608 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 0.6658343736995422;"/><text fill="#33335B" font-family="sans-serif" font-size="8.6558" lengthAdjust="spacingAndGlyphs" textLength="55.9301" x="9.3217" y="48.6755">Entering idle...</text><polygon fill="#4A4A86" points="557.6363,72.1182,564.2946,74.7815,557.6363,77.4449,560.2996,74.7815" style="stroke: #4A4A86; stroke-width: 0.6658343736995422;"/><line style="stroke: #4A4A86; stroke-width: 0.6658343736995422;" x1="183.7703" x2="561.6313" y1="74.7815" y2="74.7815"/><text fill="#33335B" font-family="sans-serif" font-size="8.6558" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="179.1094" x="188.4311" y="71.5479">pm_runtime_enable(PM_RUNTIME_DSP, 0)</text><line style="stroke: #4A4A86; stroke-width: 0.6658343736995422;" x1="572.2846" x2="600.2497" y1="94.9906" y2="94.9906"/><line style="stroke: #4A4A86; stroke-width: 0.6658343736995422;" x1="600.2497" x2="600.2497" y1="94.9906" y2="103.6465"/><line style="stroke: #4A4A86; stroke-width: 0.6658343736995422;" x1="572.9505" x2="600.2497" y1="103.6465" y2="103.6465"/><polygon fill="#4A4A86" points="579.6088,100.9831,572.9505,103.6465,579.6088,106.3098,576.9455,103.6465" style="stroke: #4A4A86; stroke-width: 0.6658343736995422;"/><text fill="#33335B" font-family="sans-serif" font-size="8.6558" lengthAdjust="spacingAndGlyphs" textLength="31.2942" x="576.9455" y="91.757">ref_cnt--</text><path d="M615.8968,84.4361 L615.8968,101.7478 L789.0137,101.7478 L789.0137,91.0945 L782.3554,84.4361 L615.8968,84.4361 " fill="#F6ED80" filter="url(#f1ifalq3qdur3a)" style="stroke: #D6D6DE; stroke-width: 0.6658343736995422;"/><path d="M782.3554,84.4361 L782.3554,91.0945 L789.0137,91.0945 L782.3554,84.4361 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 0.6658343736995422;"/><text fill="#33335B" font-family="sans-serif" font-size="8.6558" lengthAdjust="spacingAndGlyphs" textLength="159.1344" x="619.8918" y="96.7508">1 -&gt; 0 (if there was no other disable calls)</text><polygon fill="#4A4A86" points="191.0945,110.3048,184.4361,112.9682,191.0945,115.6315,188.4311,112.9682" style="stroke: #4A4A86; stroke-width: 0.6658343736995422;"/><line style="stroke: #4A4A86; stroke-width: 0.6658343736995422; stroke-dasharray: 2.0,2.0;" x1="187.0995" x2="568.2896" y1="112.9682" y2="112.9682"/><polygon fill="#4A4A86" points="88.556,119.6265,81.8976,122.2898,88.556,124.9532,85.8926,122.2898" style="stroke: #4A4A86; stroke-width: 0.6658343736995422;"/><line style="stroke: #4A4A86; stroke-width: 0.6658343736995422; stroke-dasharray: 2.0,2.0;" x1="84.561" x2="179.7753" y1="122.2898" y2="122.2898"/><polygon fill="#4A4A86" points="351.8935,139.8356,358.5518,142.499,351.8935,145.1623,354.5568,142.499" style="stroke: #4A4A86; stroke-width: 0.6658343736995422;"/><line style="stroke: #4A4A86; stroke-width: 0.6658343736995422;" x1="240.6991" x2="355.8885" y1="142.499" y2="142.499"/><text fill="#33335B" font-family="sans-serif" font-size="8.6558" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106.5335" x="245.36" y="139.2654">platform_wait_for_interrupt()</text><polygon fill="#4A4A86" points="557.6363,160.0447,564.2946,162.7081,557.6363,165.3714,560.2996,162.7081" style="stroke: #4A4A86; stroke-width: 0.6658343736995422;"/><line style="stroke: #4A4A86; stroke-width: 0.6658343736995422;" x1="366.5418" x2="561.6313" y1="162.7081" y2="162.7081"/><text fill="#33335B" font-family="sans-serif" font-size="8.6558" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="186.4336" x="371.2027" y="159.4745">pm_runtime_is_active(PM_RUNTIME_DSP, 0)</text><polygon fill="#4A4A86" points="373.866,180.2538,367.2077,182.9172,373.866,185.5805,371.2027,182.9172" style="stroke: #4A4A86; stroke-width: 0.6658343736995422;"/><line style="stroke: #4A4A86; stroke-width: 0.6658343736995422; stroke-dasharray: 2.0,2.0;" x1="369.871" x2="568.2896" y1="182.9172" y2="182.9172"/><text fill="#33335B" font-family="sans-serif" font-size="8.6558" lengthAdjust="spacingAndGlyphs" textLength="17.9775" x="377.861" y="179.6836">false</text><line style="stroke: #4A4A86; stroke-width: 0.6658343736995422;" x1="366.5418" x2="394.5069" y1="206.4555" y2="206.4555"/><line style="stroke: #4A4A86; stroke-width: 0.6658343736995422;" x1="394.5069" x2="394.5069" y1="206.4555" y2="215.1113"/><line style="stroke: #4A4A86; stroke-width: 0.6658343736995422;" x1="363.2127" x2="394.5069" y1="215.1113" y2="215.1113"/><polygon fill="#4A4A86" points="369.871,212.448,363.2127,215.1113,369.871,217.7747,367.2077,215.1113" style="stroke: #4A4A86; stroke-width: 0.6658343736995422;"/><text fill="#33335B" font-family="sans-serif" font-size="8.6558" lengthAdjust="spacingAndGlyphs" textLength="89.2218" x="371.2027" y="203.2219">d?-idle state if available</text><!--MD5=[8318d49fd6624880574f24b56db6c6e2]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
scale max 800 width

participant drv as "Driver"
participant ipc
participant mct as "master-core-task"
participant platform
participant pm_rt as "pm-runtime"

drv -> ipc : PM_GATE (PPG = 0)
note left: Entering idle...
   activate ipc
   ipc -> pm_rt : <b>pm_runtime_enable(PM_RUNTIME_DSP, 0)</b>
      activate pm_rt
      pm_rt -> pm_rt : ref_cnt- -
         note right: 1 -> 0 (if there was no other disable calls)
   ipc <- - pm_rt
   deactivate pm_rt
drv <- - ipc
deactivate ipc

mct -> platform : <i>platform_wait_for_interrupt()</i>
   activate platform
   platform -> pm_rt : <b>pm_runtime_is_active(PM_RUNTIME_DSP, 0)</b>
      activate pm_rt
   platform <- - pm_rt : false
   deactivate pm_rt
   platform -> platform : d?-idle state if available
   deactivate platform

@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_302-b08
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>