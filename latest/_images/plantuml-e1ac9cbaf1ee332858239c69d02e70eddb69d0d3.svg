<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="395px" preserveAspectRatio="none" style="width:553px;height:395px;" version="1.1" viewBox="0 0 553 395" width="553px" zoomAndPan="magnify"><defs><filter height="300%" id="f11toaidhw738m" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[09acfa745e828315b550bb1a630bf02b]
class lib--><rect fill="#FFFFFF" filter="url(#f11toaidhw738m)" height="67.6719" id="lib" style="stroke: #33335B; stroke-width: 1.5;" width="165" x="377" y="77"/><ellipse cx="448.75" cy="93" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M451.5156,88.875 Q451.6719,88.6563 451.8594,88.5469 Q452.0469,88.4375 452.2656,88.4375 Q452.6406,88.4375 452.875,88.7031 Q453.1094,88.9531 453.1094,89.5625 L453.1094,91.0156 Q453.1094,91.625 452.875,91.8906 Q452.6406,92.1563 452.2656,92.1563 Q451.9219,92.1563 451.7188,91.9531 Q451.5156,91.7656 451.4063,91.25 Q451.3594,90.8906 451.1719,90.7031 Q450.8438,90.3281 450.2344,90.1094 Q449.625,89.8906 449,89.8906 Q448.2344,89.8906 447.5938,90.2188 Q446.9688,90.5469 446.4688,91.2969 Q445.9844,92.0469 445.9844,93.0781 L445.9844,94.1719 Q445.9844,95.4063 446.875,96.2344 Q447.7656,97.0469 449.3594,97.0469 Q450.2969,97.0469 450.9531,96.7969 Q451.3438,96.6406 451.7656,96.2031 Q452.0313,95.9375 452.1719,95.8594 Q452.3281,95.7813 452.5313,95.7813 Q452.8594,95.7813 453.1094,96.0469 Q453.375,96.2969 453.375,96.6406 Q453.375,96.9844 453.0313,97.3906 Q452.5313,97.9688 451.7344,98.2969 Q450.6563,98.75 449.3594,98.75 Q447.8438,98.75 446.6406,98.125 Q445.6563,97.625 444.9688,96.5625 Q444.2813,95.4844 444.2813,94.2031 L444.2813,93.0469 Q444.2813,91.7188 444.8906,90.5781 Q445.5156,89.4219 446.6094,88.8125 Q447.7031,88.1875 448.9375,88.1875 Q449.6719,88.1875 450.3125,88.3594 Q450.9688,88.5156 451.5156,88.875 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="13" x="469.25" y="97.9102">lib</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="378" x2="541" y1="109" y2="109"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="383" y="124.4189">dma_get(dmac_id) : struct dma*</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="383" y="138.2549">dma_put(struct dma*)</text><!--MD5=[2a19531738c4b67fe1c87b097f6c6198]
class dma_ops--><rect fill="#FFFFFF" filter="url(#f11toaidhw738m)" height="206.0313" id="dma_ops" style="stroke: #33335B; stroke-width: 1.5;" width="117" x="6" y="8"/><ellipse cx="35.4" cy="24" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M38.1656,19.875 Q38.3219,19.6563 38.5094,19.5469 Q38.6969,19.4375 38.9156,19.4375 Q39.2906,19.4375 39.525,19.7031 Q39.7594,19.9531 39.7594,20.5625 L39.7594,22.0156 Q39.7594,22.625 39.525,22.8906 Q39.2906,23.1563 38.9156,23.1563 Q38.5719,23.1563 38.3688,22.9531 Q38.1656,22.7656 38.0563,22.25 Q38.0094,21.8906 37.8219,21.7031 Q37.4938,21.3281 36.8844,21.1094 Q36.275,20.8906 35.65,20.8906 Q34.8844,20.8906 34.2438,21.2188 Q33.6188,21.5469 33.1188,22.2969 Q32.6344,23.0469 32.6344,24.0781 L32.6344,25.1719 Q32.6344,26.4063 33.525,27.2344 Q34.4156,28.0469 36.0094,28.0469 Q36.9469,28.0469 37.6031,27.7969 Q37.9938,27.6406 38.4156,27.2031 Q38.6813,26.9375 38.8219,26.8594 Q38.9781,26.7813 39.1813,26.7813 Q39.5094,26.7813 39.7594,27.0469 Q40.025,27.2969 40.025,27.6406 Q40.025,27.9844 39.6813,28.3906 Q39.1813,28.9688 38.3844,29.2969 Q37.3063,29.75 36.0094,29.75 Q34.4938,29.75 33.2906,29.125 Q32.3063,28.625 31.6188,27.5625 Q30.9313,26.4844 30.9313,25.2031 L30.9313,24.0469 Q30.9313,22.7188 31.5406,21.5781 Q32.1656,20.4219 33.2594,19.8125 Q34.3531,19.1875 35.5875,19.1875 Q36.3219,19.1875 36.9625,19.3594 Q37.6188,19.5156 38.1656,19.875 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="53" x="52.6" y="28.9102">dma_ops</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="7" x2="122" y1="40" y2="40"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="12" y="55.4189">channel_get()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="67" x="12" y="69.2549">channel_put()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="30" x="12" y="83.0908">start()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="29" x="12" y="96.9268">stop()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="12" y="110.7627">pause()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="12" y="124.5986">release()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="12" y="138.4346">status()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="12" y="152.2705">set_config()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="12" y="166.1064">set_cb()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="12" y="179.9424">pm_context_restore()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="12" y="193.7783">probe()</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="44" x="12" y="207.6143">remove()</text><!--MD5=[a432fd5df7428633a8c69c6aec8c3f35]
class dma_plat_data--><rect fill="#FFFFFF" filter="url(#f11toaidhw738m)" height="109.1797" id="dma_plat_data" style="stroke: #33335B; stroke-width: 1.5;" width="115" x="168" y="275"/><ellipse cx="183" cy="291" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M185.7656,286.875 Q185.9219,286.6563 186.1094,286.5469 Q186.2969,286.4375 186.5156,286.4375 Q186.8906,286.4375 187.125,286.7031 Q187.3594,286.9531 187.3594,287.5625 L187.3594,289.0156 Q187.3594,289.625 187.125,289.8906 Q186.8906,290.1563 186.5156,290.1563 Q186.1719,290.1563 185.9688,289.9531 Q185.7656,289.7656 185.6563,289.25 Q185.6094,288.8906 185.4219,288.7031 Q185.0938,288.3281 184.4844,288.1094 Q183.875,287.8906 183.25,287.8906 Q182.4844,287.8906 181.8438,288.2188 Q181.2188,288.5469 180.7188,289.2969 Q180.2344,290.0469 180.2344,291.0781 L180.2344,292.1719 Q180.2344,293.4063 181.125,294.2344 Q182.0156,295.0469 183.6094,295.0469 Q184.5469,295.0469 185.2031,294.7969 Q185.5938,294.6406 186.0156,294.2031 Q186.2813,293.9375 186.4219,293.8594 Q186.5781,293.7813 186.7813,293.7813 Q187.1094,293.7813 187.3594,294.0469 Q187.625,294.2969 187.625,294.6406 Q187.625,294.9844 187.2813,295.3906 Q186.7813,295.9688 185.9844,296.2969 Q184.9063,296.75 183.6094,296.75 Q182.0938,296.75 180.8906,296.125 Q179.9063,295.625 179.2188,294.5625 Q178.5313,293.4844 178.5313,292.2031 L178.5313,291.0469 Q178.5313,289.7188 179.1406,288.5781 Q179.7656,287.4219 180.8594,286.8125 Q181.9531,286.1875 183.1875,286.1875 Q183.9219,286.1875 184.5625,286.3594 Q185.2188,286.5156 185.7656,286.875 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="197" y="295.9102">dma_plat_data</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="169" x2="282" y1="307" y2="307"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="55" x="174" y="322.4189">id : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="174" y="336.2549">base : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="174" y="350.0908">channels : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="174" y="363.9268">irq : uint32_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="174" y="377.7627">drv_plat_data : void *</text><!--MD5=[1dc6b159e49bcfc9a9c6c2ca2ed8028d]
class s_dma--><rect fill="#FFFFFF" filter="url(#f11toaidhw738m)" height="95.3438" id="s_dma" style="stroke: #33335B; stroke-width: 1.5;" width="135" x="158" y="63.5"/><ellipse cx="193.25" cy="79.5" fill="#6FCCDD" rx="11" ry="11" style="stroke: #33335B; stroke-width: 1.0;"/><path d="M196.0156,75.375 Q196.1719,75.1563 196.3594,75.0469 Q196.5469,74.9375 196.7656,74.9375 Q197.1406,74.9375 197.375,75.2031 Q197.6094,75.4531 197.6094,76.0625 L197.6094,77.5156 Q197.6094,78.125 197.375,78.3906 Q197.1406,78.6563 196.7656,78.6563 Q196.4219,78.6563 196.2188,78.4531 Q196.0156,78.2656 195.9063,77.75 Q195.8594,77.3906 195.6719,77.2031 Q195.3438,76.8281 194.7344,76.6094 Q194.125,76.3906 193.5,76.3906 Q192.7344,76.3906 192.0938,76.7188 Q191.4688,77.0469 190.9688,77.7969 Q190.4844,78.5469 190.4844,79.5781 L190.4844,80.6719 Q190.4844,81.9063 191.375,82.7344 Q192.2656,83.5469 193.8594,83.5469 Q194.7969,83.5469 195.4531,83.2969 Q195.8438,83.1406 196.2656,82.7031 Q196.5313,82.4375 196.6719,82.3594 Q196.8281,82.2813 197.0313,82.2813 Q197.3594,82.2813 197.6094,82.5469 Q197.875,82.7969 197.875,83.1406 Q197.875,83.4844 197.5313,83.8906 Q197.0313,84.4688 196.2344,84.7969 Q195.1563,85.25 193.8594,85.25 Q192.3438,85.25 191.1406,84.625 Q190.1563,84.125 189.4688,83.0625 Q188.7813,81.9844 188.7813,80.7031 L188.7813,79.5469 Q188.7813,78.2188 189.3906,77.0781 Q190.0156,75.9219 191.1094,75.3125 Q192.2031,74.6875 193.4375,74.6875 Q194.1719,74.6875 194.8125,74.8594 Q195.4688,75.0156 196.0156,75.375 Z "/><text fill="#33335B" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="211.75" y="84.4102">struct dma</text><line style="stroke: #33335B; stroke-width: 1.5;" x1="159" x2="292" y1="95.5" y2="95.5"/><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="164" y="110.9189">plat_data : dma_plat_data</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="164" y="124.7549">lock : spinlock_t</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="164" y="138.5908">ops : const dma_ops *</text><text fill="#33335B" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="164" y="152.4268">private : void *</text><!--MD5=[79b030a94a629842d2e0dacbe68a5ad7]
link dma_ops to s_dma--><path d="M123.3,111 C134.75,111 146.19,111 157.63,111 " fill="none" id="dma_ops-s_dma" style="stroke: #4A4A86; stroke-width: 1.0;"/><!--MD5=[4d140f7abc58be0a6c967c6f58ed7373]
link s_dma to dma_plat_data--><path d="M225.5,158.71 C225.5,192.77 225.5,239 225.5,274.62 " fill="none" id="s_dma-dma_plat_data" style="stroke: #4A4A86; stroke-width: 1.0;"/><!--MD5=[a2a6b5a5a48041a8a9884b47500737ab]
reverse link s_dma to lib--><path d="M298.42,111 C323.21,111 351.09,111 376.6,111 " fill="none" id="s_dma&lt;-lib" style="stroke: #4A4A86; stroke-width: 1.0;"/><polygon fill="#4A4A86" points="293.18,111,302.18,115,298.18,111,302.18,107,293.18,111" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="311.5" y="104.4951">provides</text><!--MD5=[99d855045f5e049a4ba65262ad0c5ff7]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
class lib {
   dma_get(dmac_id) : struct dma*
   dma_put(struct dma*)
}
hide lib attributes

class dma_ops {
   channel_get()
   channel_put()
   start()
   stop()
   pause()
   release()
   status()
   set_config()
   set_cb()
   pm_context_restore()
   probe()
   remove()
}
hide dma_ops attributes

class dma_plat_data {
   id : uint32_t
   base : uint32_t
   channels : uint32_t
   irq : uint32_t
   drv_plat_data : void *
}
hide dma_plat_data methods

class "struct dma" as s_dma {
   plat_data : dma_plat_data
   lock : spinlock_t
   ops : const dma_ops *
   private : void *
}
hide s_dma methods

dma_ops - s_dma
s_dma - - dma_plat_data
s_dma <- lib : provides

@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_302-b08
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>