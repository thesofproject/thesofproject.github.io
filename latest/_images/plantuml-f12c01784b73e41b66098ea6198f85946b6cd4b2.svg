<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="283.7814px" preserveAspectRatio="none" style="width:806px;height:283px;" version="1.1" viewBox="0 0 806 283" width="806.9384px" zoomAndPan="magnify"><defs><filter height="300%" id="fy5jyz3fg5kf2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.3876843018213356"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.7753686036426712" dy="2.7753686036426712" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="75.8131" style="stroke: #F05772; stroke-width: 0.6938421509106678;" width="6.9384" x="324.0243" y="48.1732"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="64.8038" style="stroke: #F05772; stroke-width: 0.6938421509106678;" width="6.9384" x="324.0243" y="174.1273"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="42.4165" style="stroke: #F05772; stroke-width: 0.6938421509106678;" width="6.9384" x="566.869" y="71.856"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="20.2136" style="stroke: #F05772; stroke-width: 0.6938421509106678;" width="6.9384" x="566.869" y="194.3408"/><line style="stroke: #F05772; stroke-width: 0.6938421509106678; stroke-dasharray: 5.0,5.0;" x1="25.6722" x2="25.6722" y1="26.572" y2="275.7047"/><line style="stroke: #F05772; stroke-width: 0.6938421509106678; stroke-dasharray: 5.0,5.0;" x1="117.2593" x2="117.2593" y1="26.572" y2="275.7047"/><line style="stroke: #F05772; stroke-width: 0.6938421509106678; stroke-dasharray: 5.0,5.0;" x1="184.562" x2="184.562" y1="26.572" y2="275.7047"/><line style="stroke: #F05772; stroke-width: 0.6938421509106678; stroke-dasharray: 5.0,5.0;" x1="327.4935" x2="327.4935" y1="26.572" y2="275.7047"/><line style="stroke: #F05772; stroke-width: 0.6938421509106678; stroke-dasharray: 5.0,5.0;" x1="570.3382" x2="570.3382" y1="26.572" y2="275.7047"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="21.0212" style="stroke: #33335B; stroke-width: 1.0407632263660016;" width="37.4675" x="5.5507" y="2.0815"/><text fill="#33335B" font-family="sans-serif" font-size="9.7138" lengthAdjust="spacingAndGlyphs" textLength="27.7537" x="10.4076" y="15.955">Driver</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="21.0212" style="stroke: #33335B; stroke-width: 1.0407632263660016;" width="23.5906" x="104.0763" y="2.0815"/><text fill="#33335B" font-family="sans-serif" font-size="9.7138" lengthAdjust="spacingAndGlyphs" textLength="13.8768" x="108.9332" y="15.955">ipc</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="21.0212" style="stroke: #33335B; stroke-width: 1.0407632263660016;" width="91.5872" x="137.3807" y="2.0815"/><text fill="#33335B" font-family="sans-serif" font-size="9.7138" lengthAdjust="spacingAndGlyphs" textLength="81.8734" x="142.2376" y="15.955">master-core-task</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="21.0212" style="stroke: #33335B; stroke-width: 1.0407632263660016;" width="48.569" x="301.8213" y="2.0815"/><text fill="#33335B" font-family="sans-serif" font-size="9.7138" lengthAdjust="spacingAndGlyphs" textLength="38.8552" x="306.6782" y="15.955">platform</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="21.0212" style="stroke: #33335B; stroke-width: 1.0407632263660016;" width="65.2212" x="536.34" y="2.0815"/><text fill="#33335B" font-family="sans-serif" font-size="9.7138" lengthAdjust="spacingAndGlyphs" textLength="55.5074" x="541.1969" y="15.955">pm-runtime</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="75.8131" style="stroke: #F05772; stroke-width: 0.6938421509106678;" width="6.9384" x="324.0243" y="48.1732"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="64.8038" style="stroke: #F05772; stroke-width: 0.6938421509106678;" width="6.9384" x="324.0243" y="174.1273"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="42.4165" style="stroke: #F05772; stroke-width: 0.6938421509106678;" width="6.9384" x="566.869" y="71.856"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="20.2136" style="stroke: #F05772; stroke-width: 0.6938421509106678;" width="6.9384" x="566.869" y="194.3408"/><polygon fill="#4A4A86" points="315.6982,45.3979,322.6366,48.1732,315.6982,50.9486,318.4735,48.1732" style="stroke: #4A4A86; stroke-width: 0.6938421509106678;"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678;" x1="184.562" x2="319.8612" y1="48.1732" y2="48.1732"/><text fill="#33335B" font-family="sans-serif" font-size="9.0199" lengthAdjust="spacingAndGlyphs" textLength="62.4458" x="189.4189" y="44.6583">platform_init()</text><polygon fill="#4A4A86" points="558.5429,69.0807,565.4814,71.856,558.5429,74.6314,561.3183,71.856" style="stroke: #4A4A86; stroke-width: 0.6938421509106678;"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678;" x1="330.9627" x2="562.706" y1="71.856" y2="71.856"/><text fill="#33335B" font-family="sans-serif" font-size="9.0199" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="216.4788" x="339.2888" y="68.3411">pm_runtime_disable(PM_RUNTIME_DSP, 0)</text><path d="M577.2767,57.1932 L577.2767,74.5392 L798.6123,74.5392 L798.6123,64.1316 L791.6739,57.1932 L577.2767,57.1932 " fill="#F6ED80" filter="url(#fy5jyz3fg5kf2)" style="stroke: #D6D6DE; stroke-width: 0.6938421509106678;"/><path d="M791.6739,57.1932 L791.6739,64.1316 L798.6123,64.1316 L791.6739,57.1932 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 0.6938421509106678;"/><text fill="#33335B" font-family="sans-serif" font-size="9.0199" lengthAdjust="spacingAndGlyphs" textLength="206.765" x="581.4397" y="69.0349">Make latency of dsp core 0 int handler minimal</text><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678;" x1="573.8075" x2="602.9488" y1="95.5388" y2="95.5388"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678;" x1="602.9488" x2="602.9488" y1="95.5388" y2="104.5588"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678;" x1="574.5013" x2="602.9488" y1="104.5588" y2="104.5588"/><polygon fill="#4A4A86" points="581.4397,101.7834,574.5013,104.5588,581.4397,107.3341,578.6644,104.5588" style="stroke: #4A4A86; stroke-width: 0.6938421509106678;"/><text fill="#33335B" font-family="sans-serif" font-size="9.0199" lengthAdjust="spacingAndGlyphs" textLength="45.7936" x="578.6644" y="92.0239">ref_cnt++</text><path d="M632.784,85.3859 L632.784,102.732 L675.1084,102.732 L675.1084,92.3244 L668.17,85.3859 L632.784,85.3859 " fill="#F6ED80" filter="url(#fy5jyz3fg5kf2)" style="stroke: #D6D6DE; stroke-width: 0.6938421509106678;"/><path d="M668.17,85.3859 L668.17,92.3244 L675.1084,92.3244 L668.17,85.3859 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 0.6938421509106678;"/><text fill="#33335B" font-family="sans-serif" font-size="9.0199" lengthAdjust="spacingAndGlyphs" textLength="27.7537" x="636.9471" y="97.2277">0 -&gt; 1</text><polygon fill="#4A4A86" points="338.595,111.4972,331.6565,114.2725,338.595,117.0479,335.8196,114.2725" style="stroke: #4A4A86; stroke-width: 0.6938421509106678;"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678; stroke-dasharray: 2.0,2.0;" x1="334.4319" x2="569.6444" y1="114.2725" y2="114.2725"/><polygon fill="#4A4A86" points="192.1943,121.211,185.2559,123.9863,192.1943,126.7617,189.4189,123.9863" style="stroke: #4A4A86; stroke-width: 0.6938421509106678;"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678; stroke-dasharray: 2.0,2.0;" x1="188.0312" x2="326.7997" y1="123.9863" y2="123.9863"/><polygon fill="#4A4A86" points="108.9332,141.4245,115.8716,144.1999,108.9332,146.9753,111.7086,144.1999" style="stroke: #4A4A86; stroke-width: 0.6938421509106678;"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678;" x1="25.6722" x2="113.0963" y1="144.1999" y2="144.1999"/><text fill="#33335B" font-family="sans-serif" font-size="9.0199" lengthAdjust="spacingAndGlyphs" textLength="74.935" x="30.5291" y="140.685">building topology</text><polygon fill="#4A4A86" points="176.2359,151.1383,183.1743,153.9137,176.2359,156.6891,179.0113,153.9137" style="stroke: #4A4A86; stroke-width: 0.6938421509106678;"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678;" x1="117.2593" x2="180.399" y1="153.9137" y2="153.9137"/><polygon fill="#4A4A86" points="315.6982,171.3519,322.6366,174.1273,315.6982,176.9026,318.4735,174.1273" style="stroke: #4A4A86; stroke-width: 0.6938421509106678;"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678;" x1="184.562" x2="319.8612" y1="174.1273" y2="174.1273"/><text fill="#33335B" font-family="sans-serif" font-size="9.0199" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="126.2793" x="189.4189" y="170.6123">platform_wait_for_interrupt()</text><polygon fill="#4A4A86" points="558.5429,191.5655,565.4814,194.3408,558.5429,197.1162,561.3183,194.3408" style="stroke: #4A4A86; stroke-width: 0.6938421509106678;"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678;" x1="330.9627" x2="562.706" y1="194.3408" y2="194.3408"/><text fill="#33335B" font-family="sans-serif" font-size="9.0199" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="222.7233" x="335.8196" y="190.8259">pm_runtime_is_active(PM_RUNTIME_DSP, 0)</text><polygon fill="#4A4A86" points="338.595,211.7791,331.6565,214.5544,338.595,217.3298,335.8196,214.5544" style="stroke: #4A4A86; stroke-width: 0.6938421509106678;"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678; stroke-dasharray: 2.0,2.0;" x1="334.4319" x2="569.6444" y1="214.5544" y2="214.5544"/><text fill="#33335B" font-family="sans-serif" font-size="9.0199" lengthAdjust="spacingAndGlyphs" textLength="18.0399" x="342.758" y="211.0395">true</text><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678;" x1="330.9627" x2="360.1041" y1="238.2372" y2="238.2372"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678;" x1="360.1041" x2="360.1041" y1="238.2372" y2="247.2572"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678;" x1="327.4935" x2="360.1041" y1="247.2572" y2="247.2572"/><polygon fill="#4A4A86" points="334.4319,244.4818,327.4935,247.2572,334.4319,250.0325,331.6565,247.2572" style="stroke: #4A4A86; stroke-width: 0.6938421509106678;"/><text fill="#33335B" font-family="sans-serif" font-size="9.0199" lengthAdjust="spacingAndGlyphs" textLength="55.5074" x="335.8196" y="234.7223">d0-idle state</text><polygon fill="#4A4A86" points="124.8916,250.7264,117.9532,253.5017,124.8916,256.2771,122.1162,253.5017" style="stroke: #4A4A86; stroke-width: 0.6938421509106678;"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678; stroke-dasharray: 2.0,2.0;" x1="120.7285" x2="183.8682" y1="253.5017" y2="253.5017"/><polygon fill="#4A4A86" points="33.3044,260.4402,26.366,263.2155,33.3044,265.9909,30.5291,263.2155" style="stroke: #4A4A86; stroke-width: 0.6938421509106678;"/><line style="stroke: #4A4A86; stroke-width: 0.6938421509106678; stroke-dasharray: 2.0,2.0;" x1="29.1414" x2="116.5655" y1="263.2155" y2="263.2155"/><!--MD5=[1717c53c97260e6d171718711bfbc75e]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
scale max 800 width

participant drv as "Driver"
participant ipc
participant mct as "master-core-task"
participant platform
participant pm_rt as "pm-runtime"

mct -> platform : platform_init()
   activate platform

   platform -> pm_rt :<b> pm_runtime_disable(PM_RUNTIME_DSP, 0)</b>
      activate pm_rt
      note right: Make latency of dsp core 0 int handler minimal
      pm_rt -> pm_rt : ref_cnt++
         note right: 0 -> 1
   platform <- - pm_rt
   deactivate pm_rt

mct <- - platform
deactivate platform

drv -> ipc : building topology
   ipc -> mct
      mct -> platform : <i>platform_wait_for_interrupt()</i>
         activate platform
         platform -> pm_rt : <b>pm_runtime_is_active(PM_RUNTIME_DSP, 0)</b>
            activate pm_rt
         platform <- - pm_rt : true
         deactivate pm_rt
         platform -> platform : d0-idle state
         deactivate platform
   ipc <- - mct
drv <- - ipc

@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.2+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>