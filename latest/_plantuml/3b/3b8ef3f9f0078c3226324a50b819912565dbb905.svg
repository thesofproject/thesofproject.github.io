<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="205.4711px" preserveAspectRatio="none" style="width:797px;height:205px;" version="1.1" viewBox="0 0 797 205" width="797.5684px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ifalq3qdur3a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.21580547112462"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.43161094224924" dy="2.43161094224924" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="63.3834" style="stroke: #F05772; stroke-width: 0.60790273556231;" width="6.079" x="167.1733" y="45.246"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="56.7772" style="stroke: #F05772; stroke-width: 0.60790273556231;" width="6.079" x="352.5836" y="126.3393"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="34.1233" style="stroke: #F05772; stroke-width: 0.60790273556231;" width="6.079" x="565.3495" y="65.9954"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="17.7099" style="stroke: #F05772; stroke-width: 0.60790273556231;" width="6.079" x="565.3495" y="144.0492"/><line style="stroke: #F05772; stroke-width: 0.60790273556231; stroke-dasharray: 5.0,5.0;" x1="78.4195" x2="78.4195" y1="23.2808" y2="198.314"/><line style="stroke: #F05772; stroke-width: 0.60790273556231; stroke-dasharray: 5.0,5.0;" x1="170.2128" x2="170.2128" y1="23.2808" y2="198.314"/><line style="stroke: #F05772; stroke-width: 0.60790273556231; stroke-dasharray: 5.0,5.0;" x1="229.1793" x2="229.1793" y1="23.2808" y2="198.314"/><line style="stroke: #F05772; stroke-width: 0.60790273556231; stroke-dasharray: 5.0,5.0;" x1="355.6231" x2="355.6231" y1="23.2808" y2="198.314"/><line style="stroke: #F05772; stroke-width: 0.60790273556231; stroke-dasharray: 5.0,5.0;" x1="568.3891" x2="568.3891" y1="23.2808" y2="198.314"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="18.4176" style="stroke: #33335B; stroke-width: 0.9118541033434651;" width="32.8267" x="60.7903" y="1.8237"/><text fill="#33335B" font-family="sans-serif" font-size="8.5106" lengthAdjust="spacingAndGlyphs" textLength="24.3161" x="65.0456" y="13.9788">Driver</text><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="18.4176" style="stroke: #33335B; stroke-width: 0.9118541033434651;" width="20.6687" x="158.6626" y="1.8237"/><text fill="#33335B" font-family="sans-serif" font-size="8.5106" lengthAdjust="spacingAndGlyphs" textLength="12.1581" x="162.9179" y="13.9788">ipc</text><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="18.4176" style="stroke: #33335B; stroke-width: 0.9118541033434651;" width="80.2432" x="187.8419" y="1.8237"/><text fill="#33335B" font-family="sans-serif" font-size="8.5106" lengthAdjust="spacingAndGlyphs" textLength="71.7325" x="192.0973" y="13.9788">master-core-task</text><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="18.4176" style="stroke: #33335B; stroke-width: 0.9118541033434651;" width="42.5532" x="333.1307" y="1.8237"/><text fill="#33335B" font-family="sans-serif" font-size="8.5106" lengthAdjust="spacingAndGlyphs" textLength="34.0426" x="337.386" y="13.9788">platform</text><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="18.4176" style="stroke: #33335B; stroke-width: 0.9118541033434651;" width="57.1429" x="538.6018" y="1.8237"/><text fill="#33335B" font-family="sans-serif" font-size="8.5106" lengthAdjust="spacingAndGlyphs" textLength="48.6322" x="542.8571" y="13.9788">pm-runtime</text><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="63.3834" style="stroke: #F05772; stroke-width: 0.60790273556231;" width="6.079" x="167.1733" y="45.246"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="56.7772" style="stroke: #F05772; stroke-width: 0.60790273556231;" width="6.079" x="352.5836" y="126.3393"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="34.1233" style="stroke: #F05772; stroke-width: 0.60790273556231;" width="6.079" x="565.3495" y="65.9954"/><rect fill="#FFFFFF" filter="url(#f1ifalq3qdur3a)" height="17.7099" style="stroke: #F05772; stroke-width: 0.60790273556231;" width="6.079" x="565.3495" y="144.0492"/><polygon fill="#4A4A86" points="159.8784,42.8144,165.9574,45.246,159.8784,47.6776,162.31,45.246" style="stroke: #4A4A86; stroke-width: 0.60790273556231;"/><line style="stroke: #4A4A86; stroke-width: 0.60790273556231;" x1="78.4195" x2="163.5258" y1="45.246" y2="45.246"/><text fill="#33335B" font-family="sans-serif" font-size="7.9027" lengthAdjust="spacingAndGlyphs" textLength="77.2036" x="82.6748" y="42.1664">PM_GATE (PPG = 0)</text><path d="M4.8632,32.3993 L4.8632,47.5969 L72.9483,47.5969 L72.9483,38.4783 L66.8693,32.3993 L4.8632,32.3993 " fill="#F6ED80" filter="url(#f1ifalq3qdur3a)" style="stroke: #D6D6DE; stroke-width: 0.60790273556231;"/><path d="M66.8693,32.3993 L66.8693,38.4783 L72.9483,38.4783 L66.8693,32.3993 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 0.60790273556231;"/><text fill="#33335B" font-family="sans-serif" font-size="7.9027" lengthAdjust="spacingAndGlyphs" textLength="55.3191" x="8.5106" y="42.7743">Entering idle...</text><polygon fill="#4A4A86" points="558.0547,63.5638,564.1337,65.9954,558.0547,68.4271,560.4863,65.9954" style="stroke: #4A4A86; stroke-width: 0.60790273556231;"/><line style="stroke: #4A4A86; stroke-width: 0.60790273556231;" x1="173.2523" x2="561.7021" y1="65.9954" y2="65.9954"/><text fill="#33335B" font-family="sans-serif" font-size="7.9027" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187.234" x="177.5076" y="62.9159">pm_runtime_enable(PM_RUNTIME_DSP, 0)</text><line style="stroke: #4A4A86; stroke-width: 0.60790273556231;" x1="571.4286" x2="596.9605" y1="83.7054" y2="83.7054"/><line style="stroke: #4A4A86; stroke-width: 0.60790273556231;" x1="596.9605" x2="596.9605" y1="83.7054" y2="91.6081"/><line style="stroke: #4A4A86; stroke-width: 0.60790273556231;" x1="572.0365" x2="596.9605" y1="91.6081" y2="91.6081"/><polygon fill="#4A4A86" points="578.1155,89.1765,572.0365,91.6081,578.1155,94.0397,575.6839,91.6081" style="stroke: #4A4A86; stroke-width: 0.60790273556231;"/><text fill="#33335B" font-family="sans-serif" font-size="7.9027" lengthAdjust="spacingAndGlyphs" textLength="32.8267" x="575.6839" y="80.6258">ref_cnt--</text><path d="M615.8055,74.81 L615.8055,90.0076 L790.2736,90.0076 L790.2736,80.8891 L784.1945,74.81 L615.8055,74.81 " fill="#F6ED80" filter="url(#f1ifalq3qdur3a)" style="stroke: #D6D6DE; stroke-width: 0.60790273556231;"/><path d="M784.1945,74.81 L784.1945,80.8891 L790.2736,80.8891 L784.1945,74.81 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 0.60790273556231;"/><text fill="#33335B" font-family="sans-serif" font-size="7.9027" lengthAdjust="spacingAndGlyphs" textLength="161.7021" x="619.4529" y="85.185">1 -&gt; 0 (if there was no other disable calls)</text><polygon fill="#4A4A86" points="179.9392,97.6871,173.8602,100.1187,179.9392,102.5503,177.5076,100.1187" style="stroke: #4A4A86; stroke-width: 0.60790273556231;"/><line style="stroke: #4A4A86; stroke-width: 0.60790273556231; stroke-dasharray: 2.0,2.0;" x1="176.2918" x2="567.7812" y1="100.1187" y2="100.1187"/><polygon fill="#4A4A86" points="85.1064,106.1978,79.0274,108.6294,85.1064,111.061,82.6748,108.6294" style="stroke: #4A4A86; stroke-width: 0.60790273556231;"/><line style="stroke: #4A4A86; stroke-width: 0.60790273556231; stroke-dasharray: 2.0,2.0;" x1="81.459" x2="169.6049" y1="108.6294" y2="108.6294"/><polygon fill="#4A4A86" points="345.2888,123.9077,351.3678,126.3393,345.2888,128.7709,347.7204,126.3393" style="stroke: #4A4A86; stroke-width: 0.60790273556231;"/><line style="stroke: #4A4A86; stroke-width: 0.60790273556231;" x1="229.1793" x2="348.9362" y1="126.3393" y2="126.3393"/><text fill="#33335B" font-family="sans-serif" font-size="7.9027" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="111.8541" x="233.4347" y="123.2597">platform_wait_for_interrupt()</text><polygon fill="#4A4A86" points="558.0547,141.6176,564.1337,144.0492,558.0547,146.4808,560.4863,144.0492" style="stroke: #4A4A86; stroke-width: 0.60790273556231;"/><line style="stroke: #4A4A86; stroke-width: 0.60790273556231;" x1="358.6626" x2="561.7021" y1="144.0492" y2="144.0492"/><text fill="#33335B" font-family="sans-serif" font-size="7.9027" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="195.1368" x="362.9179" y="140.9696">pm_runtime_is_active(PM_RUNTIME_DSP, 0)</text><polygon fill="#4A4A86" points="365.3495,159.3275,359.2705,161.7591,365.3495,164.1907,362.9179,161.7591" style="stroke: #4A4A86; stroke-width: 0.60790273556231;"/><line style="stroke: #4A4A86; stroke-width: 0.60790273556231; stroke-dasharray: 2.0,2.0;" x1="361.7021" x2="567.7812" y1="161.7591" y2="161.7591"/><text fill="#33335B" font-family="sans-serif" font-size="7.9027" lengthAdjust="spacingAndGlyphs" textLength="18.2371" x="368.997" y="158.6795">false</text><line style="stroke: #4A4A86; stroke-width: 0.60790273556231;" x1="358.6626" x2="384.1945" y1="182.5085" y2="182.5085"/><line style="stroke: #4A4A86; stroke-width: 0.60790273556231;" x1="384.1945" x2="384.1945" y1="182.5085" y2="190.4113"/><line style="stroke: #4A4A86; stroke-width: 0.60790273556231;" x1="355.6231" x2="384.1945" y1="190.4113" y2="190.4113"/><polygon fill="#4A4A86" points="361.7021,187.9797,355.6231,190.4113,361.7021,192.8429,359.2705,190.4113" style="stroke: #4A4A86; stroke-width: 0.60790273556231;"/><text fill="#33335B" font-family="sans-serif" font-size="7.9027" lengthAdjust="spacingAndGlyphs" textLength="91.1854" x="362.9179" y="179.429">d?-idle state if available</text><!--MD5=[b55030e9e727ce228fde6d1c4120d5e4]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
scale max 800 width

participant drv as "Driver"
participant ipc
participant mct as "master-core-task"
participant platform
participant pm_rt as "pm-runtime"

drv -> ipc : PM_GATE (PPG = 0)
note left: Entering idle...
   activate ipc
   ipc -> pm_rt : <b>pm_runtime_enable(PM_RUNTIME_DSP, 0)</b>
      activate pm_rt
      pm_rt -> pm_rt : ref_cnt- -
         note right: 1 -> 0 (if there was no other disable calls)
   ipc <- - pm_rt
   deactivate pm_rt
drv <- - ipc
deactivate ipc

mct -> platform : <i>platform_wait_for_interrupt()</i>
   activate platform
   platform -> pm_rt : <b>pm_runtime_is_active(PM_RUNTIME_DSP, 0)</b>
      activate pm_rt
   platform <- - pm_rt : false
   deactivate pm_rt
   platform -> platform : d?-idle state if available
   deactivate platform

@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.10+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>