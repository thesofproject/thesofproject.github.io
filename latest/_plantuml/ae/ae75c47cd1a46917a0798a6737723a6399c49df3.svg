<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="251px" preserveAspectRatio="none" style="width:561px;height:251px;" version="1.1" viewBox="0 0 561 251" width="561px" zoomAndPan="magnify"><defs><filter height="300%" id="fglizh98lnuzv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" height="229.0938" style="stroke: #A1A1CA; stroke-width: 1.0;" width="134" x="8" y="4"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="60.5" y="16.0669">SOF</text><rect fill="#90EE90" height="229.0938" style="stroke: #A1A1CA; stroke-width: 1.0;" width="220" x="185" y="4"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="269" y="16.0669">Zephyr</text><rect fill="#D3D3D3" height="229.0938" style="stroke: #A1A1CA; stroke-width: 1.0;" width="81" x="463.5" y="4"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="468" y="16.0669">Hardware</text><rect fill="#FFFFFF" filter="url(#fglizh98lnuzv)" height="161.6641" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="70" y="68.4297"/><rect fill="#FFFFFF" filter="url(#fglizh98lnuzv)" height="116.3984" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="290" y="104.6953"/><rect fill="#FFFFFF" filter="url(#fglizh98lnuzv)" height="46.2656" style="stroke: #A1A1CA; stroke-width: 2.0;" width="371.5" x="179" y="161.8281"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="75" x2="75" y1="58.4297" y2="239.0938"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="295" x2="295" y1="58.4297" y2="239.0938"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="503.5" x2="503.5" y1="58.4297" y2="239.0938"/><rect fill="#FFFFFF" filter="url(#fglizh98lnuzv)" height="30.2969" style="stroke: #33335B; stroke-width: 1.5;" width="122" x="12" y="23.1328"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="19" y="43.1279">Library Manager</text><rect fill="#FFFFFF" filter="url(#fglizh98lnuzv)" height="30.2969" style="stroke: #33335B; stroke-width: 1.5;" width="208" x="189" y="23.1328"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="194" x="196" y="43.1279">Memory Management Driver</text><rect fill="#FFFFFF" filter="url(#fglizh98lnuzv)" height="30.2969" style="stroke: #33335B; stroke-width: 1.5;" width="69" x="467.5" y="23.1328"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="55" x="474.5" y="43.1279">Memory</text><rect fill="#FFFFFF" filter="url(#fglizh98lnuzv)" height="161.6641" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="70" y="68.4297"/><rect fill="#FFFFFF" filter="url(#fglizh98lnuzv)" height="116.3984" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="290" y="104.6953"/><polygon fill="#F05772" points="278,100.6953,288,104.6953,278,108.6953,282,104.6953" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="80" x2="284" y1="104.6953" y2="104.6953"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="87" y="84.4966">sys_mm_drv_map_region</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="87" y="99.6294">(virt*, phys=NULL, size, flags)</text><line style="stroke: #F05772; stroke-width: 1.0;" x1="300" x2="342" y1="133.8281" y2="133.8281"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="342" x2="342" y1="133.8281" y2="146.8281"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="301" x2="342" y1="146.8281" y2="146.8281"/><polygon fill="#F05772" points="311,142.8281,301,146.8281,311,150.8281,307,146.8281" style="stroke: #F05772; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="307" y="128.7622">allocate memory phys pages</text><path d="M179,161.8281 L249,161.8281 L249,168.8281 L239,178.8281 L179,178.8281 L179,161.8281 " fill="#EEEEEE" style="stroke: #A1A1CA; stroke-width: 1.0;"/><rect fill="none" height="46.2656" style="stroke: #A1A1CA; stroke-width: 2.0;" width="371.5" x="179" y="161.8281"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="194" y="174.895">opt</text><text fill="#33335B" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="264" x="264" y="174.0386">[if phys memory pages require power up]</text><polygon fill="#F05772" points="492,196.0938,502,200.0938,492,204.0938,496,200.0938" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="300" x2="498" y1="200.0938" y2="200.0938"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="307" y="195.0278">power up memory banks</text><polygon fill="#F05772" points="91,217.0938,81,221.0938,91,225.0938,87,221.0938" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="85" x2="294" y1="221.0938" y2="221.0938"/><!--MD5=[f5d87a5f90678637ba5e5a582d78f51d]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}

skinparam activity {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam activityDiamond {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam arrowColor	#f05772
skinparam maxMessageSize 400
skinparam BoxPadding 4

box "SOF" #LightBlue
	participant "Library Manager" as library_manager
end box

box "Zephyr" #LightGreen
	participant "Memory Management Driver" as memory_management_driver
end box

box "Hardware" #LightGrey
	participant "Memory" as hw_memory
end box

activate library_manager

library_manager -> memory_management_driver: sys_mm_drv_map_region\n(virt*, phys=NULL, size, flags)
	activate memory_management_driver
	memory_management_driver -> memory_management_driver: allocate memory phys pages
	opt if phys memory pages require power up
		memory_management_driver -> hw_memory: power up memory banks
	end

	return

@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.18+10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>