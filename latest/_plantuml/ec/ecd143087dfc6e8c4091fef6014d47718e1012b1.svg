<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1546px" preserveAspectRatio="none" style="width:942px;height:1546px;" version="1.1" viewBox="0 0 942 1546" width="942px" zoomAndPan="magnify"><defs><filter height="300%" id="fhxj4r0wdv7fb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="35" x2="35" y1="54.5938" y2="1534.9688"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="97" x2="97" y1="54.5938" y2="1534.9688"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="162" x2="162" y1="54.5938" y2="1534.9688"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="521" x2="521" y1="54.5938" y2="1534.9688"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="902.5" x2="902.5" y1="54.5938" y2="1534.9688"/><rect fill="#FFFFFF" filter="url(#fhxj4r0wdv7fb)" height="30.2969" style="stroke: #33335B; stroke-width: 1.5;" width="50" x="8" y="19.2969"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="15" y="39.292">State</text><rect fill="#FFFFFF" filter="url(#fhxj4r0wdv7fb)" height="30.2969" style="stroke: #33335B; stroke-width: 1.5;" width="47" x="72" y="19.2969"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="79" y="39.292">Error</text><rect fill="#FFFFFF" filter="url(#fhxj4r0wdv7fb)" height="46.5938" style="stroke: #33335B; stroke-width: 1.5;" width="54" x="133" y="3"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="144" y="22.9951">Host</text><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="140" y="39.292">Driver</text><rect fill="#FFFFFF" filter="url(#fhxj4r0wdv7fb)" height="46.5938" style="stroke: #33335B; stroke-width: 1.5;" width="47" x="496" y="3"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="25" x="507" y="22.9951">APL</text><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="503" y="39.292">ROM</text><rect fill="#FFFFFF" filter="url(#fhxj4r0wdv7fb)" height="30.2969" style="stroke: #33335B; stroke-width: 1.5;" width="42" x="879.5" y="19.2969"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="886.5" y="39.292">CSE</text><polygon fill="#F05772" points="509.5,81.7266,519.5,85.7266,509.5,89.7266,513.5,85.7266" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="162" x2="515.5" y1="85.7266" y2="85.7266"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="169" y="80.6606">&lt;&lt;IPC&gt;&gt; RomControl (purge=1, dma_id)</text><rect fill="#EEEEEE" filter="url(#fhxj4r0wdv7fb)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="927.5" x="3" y="114.293"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="930.5" y1="114.293" y2="114.293"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="930.5" y1="117.293" y2="117.293"/><rect fill="#EEEEEE" filter="url(#fhxj4r0wdv7fb)" height="23.1328" style="stroke: #D6D6DE; stroke-width: 1.0;" width="108" x="412.75" y="103.7266"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="418.75" y="119.7935">Initialization</text><line style="stroke: #F05772; stroke-width: 1.0;" x1="521.5" x2="563.5" y1="157.9922" y2="157.9922"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="563.5" x2="563.5" y1="157.9922" y2="170.9922"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="522.5" x2="563.5" y1="170.9922" y2="170.9922"/><polygon fill="#F05772" points="532.5,166.9922,522.5,170.9922,532.5,174.9922,528.5,170.9922" style="stroke: #F05772; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="528.5" y="152.9263">Boot</text><polygon fill="#FF0000" points="108.5,211.2578,98.5,215.2578,108.5,219.2578,104.5,215.2578" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="520.5" y1="215.2578" y2="215.2578"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="355" x="114.5" y="195.0591">ADSP_UNHANDLED_INTERRUPT [anytime unhandled int</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="114.5" y="210.1919">reported]</text><polygon fill="#FF0000" points="108.5,255.5234,98.5,259.5234,108.5,263.5234,104.5,259.5234" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="520.5" y1="259.5234" y2="259.5234"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="343" x="114.5" y="239.3247">ADSP_MEMORY_HOLE_ECC [anytime memory hole int</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="114.5" y="254.4575">reported]</text><polygon fill="#FF0000" points="108.5,299.7891,98.5,303.7891,108.5,307.7891,104.5,303.7891" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="520.5" y1="303.7891" y2="303.7891"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="361" x="114.5" y="283.5903">ADSP_USER_EXCEPTION [anytime unhandled user mode</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="114.5" y="298.7231">exception happens]</text><polygon fill="#FF0000" points="108.5,344.0547,98.5,348.0547,108.5,352.0547,104.5,348.0547" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="520.5" y1="348.0547" y2="348.0547"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="386" x="114.5" y="327.856">ADSP_KERNEL_EXCEPTION [anytime unhandled kernel mode</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="114.5" y="342.9888">exception happens]</text><line style="stroke: #F05772; stroke-width: 1.0;" x1="521.5" x2="563.5" y1="377.1875" y2="377.1875"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="563.5" x2="563.5" y1="377.1875" y2="390.1875"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="522.5" x2="563.5" y1="390.1875" y2="390.1875"/><polygon fill="#F05772" points="532.5,386.1875,522.5,390.1875,532.5,394.1875,528.5,390.1875" style="stroke: #F05772; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="528.5" y="372.1216">L2Cache Initialization</text><polygon fill="#FF0000" points="108.5,415.3203,98.5,419.3203,108.5,423.3203,104.5,419.3203" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="520.5" y1="419.3203" y2="419.3203"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="114.5" y="414.2544">ADSP_L2_CACHE_ERROR [Failed to init L2$]</text><line style="stroke: #F05772; stroke-width: 1.0;" x1="521.5" x2="563.5" y1="448.4531" y2="448.4531"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="563.5" x2="563.5" y1="448.4531" y2="461.4531"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="522.5" x2="563.5" y1="461.4531" y2="461.4531"/><polygon fill="#F05772" points="532.5,457.4531,522.5,461.4531,532.5,465.4531,528.5,461.4531" style="stroke: #F05772; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="528.5" y="443.3872">Requesting IMR</text><polygon fill="#008000" points="46,486.5859,36,490.5859,46,494.5859,42,490.5859" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="520.5" y1="490.5859" y2="490.5859"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="52" y="485.52">FSR_ROM_BASEFW_CSE_IMR_REQUEST</text><polygon fill="#F05772" points="890.5,515.7188,900.5,519.7188,890.5,523.7188,894.5,519.7188" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="521.5" x2="896.5" y1="519.7188" y2="519.7188"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="528.5" y="514.6528">&lt;&lt;IPC&gt;&gt; IPC_ADSP2CSE_REQUEST_IMR</text><polygon fill="#F05772" points="532.5,544.8516,522.5,548.8516,532.5,552.8516,528.5,548.8516" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="526.5" x2="901.5" y1="548.8516" y2="548.8516"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="338" x="538.5" y="543.7856">&lt;&lt;IPC&gt;&gt; IPC_CSE2ADSP_REQUEST_IMR_RESPONSE</text><polygon fill="#008000" points="46,573.9844,36,577.9844,46,581.9844,42,577.9844" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="520.5" y1="577.9844" y2="577.9844"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="52" y="572.9185">FSR_ROM_BASEFW_CSE_IMR_GRANTED</text><line style="stroke: #F05772; stroke-width: 1.0;" x1="521.5" x2="563.5" y1="607.1172" y2="607.1172"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="563.5" x2="563.5" y1="607.1172" y2="620.1172"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="522.5" x2="563.5" y1="620.1172" y2="620.1172"/><polygon fill="#F05772" points="532.5,616.1172,522.5,620.1172,532.5,624.1172,528.5,620.1172" style="stroke: #F05772; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="528.5" y="602.0513">Initializing Code Load DMA</text><polygon fill="#FF0000" points="108.5,645.25,98.5,649.25,108.5,653.25,104.5,649.25" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="520.5" y1="649.25" y2="649.25"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="289" x="114.5" y="644.1841">ADSP_INVALID_PARAM [dma_id out of range]</text><polygon fill="#008000" points="46,674.3828,36,678.3828,46,682.3828,42,678.3828" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="520.5" y1="678.3828" y2="678.3828"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="52" y="673.3169">FSR_ROM_INIT_DONE</text><rect fill="#EEEEEE" filter="url(#fhxj4r0wdv7fb)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="927.5" x="3" y="706.9492"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="930.5" y1="706.9492" y2="706.9492"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="930.5" y1="709.9492" y2="709.9492"/><rect fill="#EEEEEE" filter="url(#fhxj4r0wdv7fb)" height="23.1328" style="stroke: #D6D6DE; stroke-width: 1.0;" width="129" x="402.25" y="696.3828"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110" x="408.25" y="712.4497">Loading Image</text><line style="stroke: #F05772; stroke-width: 1.0;" x1="521.5" x2="563.5" y1="750.6484" y2="750.6484"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="563.5" x2="563.5" y1="750.6484" y2="763.6484"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="522.5" x2="563.5" y1="763.6484" y2="763.6484"/><polygon fill="#F05772" points="532.5,759.6484,522.5,763.6484,532.5,767.6484,528.5,763.6484" style="stroke: #F05772; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="528.5" y="745.5825">Loading Firmware</text><polygon fill="#008000" points="46,788.7813,36,792.7813,46,796.7813,42,792.7813" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="520.5" y1="792.7813" y2="792.7813"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="52" y="787.7153">FSR_ROM_VERIFY_FEATURE_MASK</text><polygon fill="#FF0000" points="108.5,817.9141,98.5,821.9141,108.5,825.9141,104.5,821.9141" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="520.5" y1="821.9141" y2="821.9141"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="400" x="114.5" y="816.8481">ADSP_INVALID_FEAT_MASK [mft mask does not match SKUID]</text><polygon fill="#008000" points="46,847.0469,36,851.0469,46,855.0469,42,851.0469" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="520.5" y1="851.0469" y2="851.0469"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="52" y="845.981">FSR_ROM_GET_LOAD_OFFSET</text><polygon fill="#FF0000" points="108.5,891.3125,98.5,895.3125,108.5,899.3125,104.5,895.3125" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="520.5" y1="895.3125" y2="895.3125"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="390" x="114.5" y="875.1138">ADSP_LOAD_OFFSET_TOO_SMALL [load offset less then Rsvd</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="114.5" y="890.2466">space]</text><polygon fill="#FF0000" points="108.5,935.5781,98.5,939.5781,108.5,943.5781,104.5,939.5781" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="520.5" y1="939.5781" y2="939.5781"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="396" x="114.5" y="919.3794">ADSP_IMR_TOO_SMALL [load offset greater than assigned IMR</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="114.5" y="934.5122">size]</text><line style="stroke: #F05772; stroke-width: 1.0;" x1="521.5" x2="563.5" y1="968.7109" y2="968.7109"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="563.5" x2="563.5" y1="968.7109" y2="981.7109"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="522.5" x2="563.5" y1="981.7109" y2="981.7109"/><polygon fill="#F05772" points="532.5,977.7109,522.5,981.7109,532.5,985.7109,528.5,981.7109" style="stroke: #F05772; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="528.5" y="963.645">Loading CSE Manifest</text><polygon fill="#FF0000" points="108.5,1006.8438,98.5,1010.8438,108.5,1014.8438,104.5,1010.8438" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="520.5" y1="1010.8438" y2="1010.8438"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="319" x="114.5" y="1005.7778">ADSP_IMR_TOO_SMALL [CSE manifest &gt; IMR size]</text><polygon fill="#008000" points="46,1035.9766,36,1039.9766,46,1043.9766,42,1039.9766" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="520.5" y1="1039.9766" y2="1039.9766"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="52" y="1034.9106">FSR_ROM_CSE_MANIFEST_LOADED</text><line style="stroke: #F05772; stroke-width: 1.0;" x1="521.5" x2="563.5" y1="1069.1094" y2="1069.1094"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="563.5" x2="563.5" y1="1069.1094" y2="1082.1094"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="522.5" x2="563.5" y1="1082.1094" y2="1082.1094"/><polygon fill="#F05772" points="532.5,1078.1094,522.5,1082.1094,532.5,1086.1094,528.5,1082.1094" style="stroke: #F05772; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="528.5" y="1064.0435">Loading ADSP FW Manifest</text><polygon fill="#FF0000" points="108.5,1107.2422,98.5,1111.2422,108.5,1115.2422,104.5,1111.2422" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="520.5" y1="1111.2422" y2="1111.2422"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="351" x="114.5" y="1106.1763">ADSP_IMR_TOO_SMALL [ADSP FW manifest &gt; IMR size]</text><polygon fill="#008000" points="46,1136.375,36,1140.375,46,1144.375,42,1140.375" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="520.5" y1="1140.375" y2="1140.375"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="52" y="1135.3091">FSR_ROM_FW_MANIFEST_LOADED</text><polygon fill="#FF0000" points="108.5,1180.6406,98.5,1184.6406,108.5,1188.6406,104.5,1184.6406" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="520.5" y1="1184.6406" y2="1184.6406"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="365" x="114.5" y="1164.4419">ADSP_BASE_FW_NOT_FOUND [module entry not found in</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="114.5" y="1179.5747">manifest]</text><line style="stroke: #F05772; stroke-width: 1.0;" x1="521.5" x2="563.5" y1="1213.7734" y2="1213.7734"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="563.5" x2="563.5" y1="1213.7734" y2="1226.7734"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="522.5" x2="563.5" y1="1226.7734" y2="1226.7734"/><polygon fill="#F05772" points="532.5,1222.7734,522.5,1226.7734,532.5,1230.7734,528.5,1226.7734" style="stroke: #F05772; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="528.5" y="1208.7075">Loading FW</text><polygon fill="#008000" points="46,1251.9063,36,1255.9063,46,1259.9063,42,1255.9063" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="520.5" y1="1255.9063" y2="1255.9063"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="52" y="1250.8403">FSR_ROM_FW_FW_LOADED</text><rect fill="#EEEEEE" filter="url(#fhxj4r0wdv7fb)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="927.5" x="3" y="1284.4727"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="930.5" y1="1284.4727" y2="1284.4727"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="930.5" y1="1287.4727" y2="1287.4727"/><rect fill="#EEEEEE" filter="url(#fhxj4r0wdv7fb)" height="23.1328" style="stroke: #D6D6DE; stroke-width: 1.0;" width="178" x="377.75" y="1273.9063"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159" x="383.75" y="1289.9731">Authenticating Image</text><polygon fill="#008000" points="46,1324.1719,36,1328.1719,46,1332.1719,42,1328.1719" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="520.5" y1="1328.1719" y2="1328.1719"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="337" x="52" y="1323.106">FSR_ROM_BASEFW_CSE_VALIDATE_IMAGE_REQUEST</text><polygon fill="#F05772" points="890.5,1353.3047,900.5,1357.3047,890.5,1361.3047,894.5,1357.3047" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="521.5" x2="896.5" y1="1357.3047" y2="1357.3047"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="528.5" y="1352.2388">&lt;&lt;IPC&gt;&gt; IPC_CSE2ADSP_START_FW_AUTH</text><polygon fill="#F05772" points="532.5,1382.4375,522.5,1386.4375,532.5,1390.4375,528.5,1386.4375" style="stroke: #F05772; stroke-width: 1.0;"/><line style="stroke: #F05772; stroke-width: 1.0;" x1="526.5" x2="901.5" y1="1386.4375" y2="1386.4375"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="357" x="538.5" y="1381.3716">&lt;&lt;IPC&gt;&gt; IPC_CSE2ADSP_START_FW_AUTH_RESPONSE</text><polygon fill="#FF0000" points="108.5,1411.5703,98.5,1415.5703,108.5,1419.5703,104.5,1415.5703" style="stroke: #FF0000; stroke-width: 1.0;"/><line style="stroke: #FF0000; stroke-width: 1.0;" x1="102.5" x2="520.5" y1="1415.5703" y2="1415.5703"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="366" x="114.5" y="1410.5044">ADSP_CSE_VALIDATION_FAILED [invalid image signature]</text><polygon fill="#008000" points="46,1440.7031,36,1444.7031,46,1448.7031,42,1444.7031" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="520.5" y1="1444.7031" y2="1444.7031"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="280" x="52" y="1439.6372">FSR_ROM_BASEFW_CSE_IMAGE_VALIDATED</text><rect fill="#EEEEEE" filter="url(#fhxj4r0wdv7fb)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="927.5" x="3" y="1473.2695"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="930.5" y1="1473.2695" y2="1473.2695"/><line style="stroke: #D6D6DE; stroke-width: 0.5;" x1="3" x2="930.5" y1="1476.2695" y2="1476.2695"/><rect fill="#EEEEEE" filter="url(#fhxj4r0wdv7fb)" height="23.1328" style="stroke: #D6D6DE; stroke-width: 1.0;" width="104" x="414.75" y="1462.7031"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="420.75" y="1478.77">Booting FW</text><polygon fill="#008000" points="46,1512.9688,36,1516.9688,46,1520.9688,42,1516.9688" style="stroke: #008000; stroke-width: 1.0;"/><line style="stroke: #008000; stroke-width: 1.0;" x1="40" x2="520.5" y1="1516.9688" y2="1516.9688"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="52" y="1511.9028">FSR_ROM_FW_ENTERED</text><!--MD5=[9fbae0023c2da6078f1538565322e904]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}

skinparam activity {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam activityDiamond {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam arrowColor	#f05772
skinparam maxMessageSize 400
skinparam BoxPadding 4
participant "State" as st
participant "Error" as err
participant "Host\nDriver" as host
participant "APL\nROM" as rom
participant "CSE" as cse

host -> rom : <<IPC>> RomControl (purge=1, dma_id)

== Initialization ==
rom -> rom : Boot
	err <[#red]- rom : ADSP_UNHANDLED_INTERRUPT [anytime unhandled int reported]
	err <[#red]- rom : ADSP_MEMORY_HOLE_ECC [anytime memory hole int reported]
	err <[#red]- rom : ADSP_USER_EXCEPTION [anytime unhandled user mode exception happens]
	err <[#red]- rom : ADSP_KERNEL_EXCEPTION [anytime unhandled kernel mode exception happens]

rom -> rom : L2Cache Initialization
	err <[#red]- rom : ADSP_L2_CACHE_ERROR [Failed to init L2$]

rom -> rom : Requesting IMR
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_IMR_REQUEST
	rom -> cse : <<IPC>> IPC_ADSP2CSE_REQUEST_IMR
	rom <- cse : <<IPC>> IPC_CSE2ADSP_REQUEST_IMR_RESPONSE
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_IMR_GRANTED

rom -> rom : Initializing Code Load DMA
	err <[#red]- rom : ADSP_INVALID_PARAM [dma_id out of range]

st <[#green]- rom : FSR_ROM_INIT_DONE

== Loading Image ==
	rom -> rom : Loading Firmware
	st <[#green]- rom : FSR_ROM_VERIFY_FEATURE_MASK
	err <[#red]- rom : ADSP_INVALID_FEAT_MASK [mft mask does not match SKUID]
	st <[#green]- rom : FSR_ROM_GET_LOAD_OFFSET
	err <[#red]- rom : ADSP_LOAD_OFFSET_TOO_SMALL [load offset less then Rsvd space]
	err <[#red]- rom : ADSP_IMR_TOO_SMALL [load offset greater than assigned IMR size]
	rom -> rom : Loading CSE Manifest
	err <[#red]- rom : ADSP_IMR_TOO_SMALL [CSE manifest > IMR size]
	st <[#green]- rom : FSR_ROM_CSE_MANIFEST_LOADED
	rom -> rom : Loading ADSP FW Manifest
	err <[#red]- rom : ADSP_IMR_TOO_SMALL [ADSP FW manifest > IMR size]
	st <[#green]- rom : FSR_ROM_FW_MANIFEST_LOADED
	err <[#red]- rom : ADSP_BASE_FW_NOT_FOUND [module entry not found in manifest]
	rom -> rom : Loading FW
	st <[#green]- rom : FSR_ROM_FW_FW_LOADED

== Authenticating Image ==
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_VALIDATE_IMAGE_REQUEST
	rom -> cse : <<IPC>> IPC_CSE2ADSP_START_FW_AUTH
	rom <- cse : <<IPC>> IPC_CSE2ADSP_START_FW_AUTH_RESPONSE
	err <[#red]- rom : ADSP_CSE_VALIDATION_FAILED [invalid image signature]
	st <[#green]- rom : FSR_ROM_BASEFW_CSE_IMAGE_VALIDATED
== Booting FW ==
	st <[#green]- rom : FSR_ROM_FW_ENTERED

@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.23+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>