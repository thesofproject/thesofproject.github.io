<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="283.29px" preserveAspectRatio="none" style="width:806px;height:283px;" version="1.1" viewBox="0 0 806 283" width="806.9264px" zoomAndPan="magnify"><defs><filter height="300%" id="fy5jyz3fg5kf2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.3852813852813852"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.7705627705627704" dy="2.7705627705627704" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="75.6818" style="stroke: #F05772; stroke-width: 0.6926406926406926;" width="6.9264" x="324.8485" y="48.0898"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="64.6916" style="stroke: #F05772; stroke-width: 0.6926406926406926;" width="6.9264" x="324.8485" y="173.8258"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="42.3431" style="stroke: #F05772; stroke-width: 0.6926406926406926;" width="6.9264" x="567.2727" y="71.7316"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="20.1786" style="stroke: #F05772; stroke-width: 0.6926406926406926;" width="6.9264" x="567.2727" y="194.0043"/><line style="stroke: #F05772; stroke-width: 0.6926406926406926; stroke-dasharray: 5.0,5.0;" x1="25.6277" x2="25.6277" y1="26.526" y2="275.2273"/><line style="stroke: #F05772; stroke-width: 0.6926406926406926; stroke-dasharray: 5.0,5.0;" x1="117.0563" x2="117.0563" y1="26.526" y2="275.2273"/><line style="stroke: #F05772; stroke-width: 0.6926406926406926; stroke-dasharray: 5.0,5.0;" x1="184.2424" x2="184.2424" y1="26.526" y2="275.2273"/><line style="stroke: #F05772; stroke-width: 0.6926406926406926; stroke-dasharray: 5.0,5.0;" x1="328.3117" x2="328.3117" y1="26.526" y2="275.2273"/><line style="stroke: #F05772; stroke-width: 0.6926406926406926; stroke-dasharray: 5.0,5.0;" x1="570.7359" x2="570.7359" y1="26.526" y2="275.2273"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="20.9848" style="stroke: #33335B; stroke-width: 1.0389610389610389;" width="37.4026" x="5.5411" y="2.0779"/><text fill="#33335B" font-family="sans-serif" font-size="9.697" lengthAdjust="spacingAndGlyphs" textLength="27.7056" x="10.3896" y="15.9274">Driver</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="20.9848" style="stroke: #33335B; stroke-width: 1.0389610389610389;" width="23.5498" x="103.8961" y="2.0779"/><text fill="#33335B" font-family="sans-serif" font-size="9.697" lengthAdjust="spacingAndGlyphs" textLength="13.8528" x="108.7446" y="15.9274">ipc</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="20.9848" style="stroke: #33335B; stroke-width: 1.0389610389610389;" width="91.4286" x="137.1429" y="2.0779"/><text fill="#33335B" font-family="sans-serif" font-size="9.697" lengthAdjust="spacingAndGlyphs" textLength="81.7316" x="141.9913" y="15.9274">master-core-task</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="20.9848" style="stroke: #33335B; stroke-width: 1.0389610389610389;" width="48.4848" x="302.684" y="2.0779"/><text fill="#33335B" font-family="sans-serif" font-size="9.697" lengthAdjust="spacingAndGlyphs" textLength="38.7879" x="307.5325" y="15.9274">platform</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="20.9848" style="stroke: #33335B; stroke-width: 1.0389610389610389;" width="65.1082" x="536.7965" y="2.0779"/><text fill="#33335B" font-family="sans-serif" font-size="9.697" lengthAdjust="spacingAndGlyphs" textLength="55.4113" x="541.645" y="15.9274">pm-runtime</text><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="75.6818" style="stroke: #F05772; stroke-width: 0.6926406926406926;" width="6.9264" x="324.8485" y="48.0898"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="64.6916" style="stroke: #F05772; stroke-width: 0.6926406926406926;" width="6.9264" x="324.8485" y="173.8258"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="42.3431" style="stroke: #F05772; stroke-width: 0.6926406926406926;" width="6.9264" x="567.2727" y="71.7316"/><rect fill="#FFFFFF" filter="url(#fy5jyz3fg5kf2)" height="20.1786" style="stroke: #F05772; stroke-width: 0.6926406926406926;" width="6.9264" x="567.2727" y="194.0043"/><polygon fill="#4A4A86" points="316.5368,45.3193,323.4632,48.0898,316.5368,50.8604,319.3074,48.0898" style="stroke: #4A4A86; stroke-width: 0.6926406926406926;"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926;" x1="184.2424" x2="320.6926" y1="48.0898" y2="48.0898"/><text fill="#33335B" font-family="sans-serif" font-size="9.0043" lengthAdjust="spacingAndGlyphs" textLength="62.3377" x="189.0909" y="44.581">platform_init()</text><polygon fill="#4A4A86" points="558.961,68.961,565.8874,71.7316,558.961,74.5022,561.7316,71.7316" style="stroke: #4A4A86; stroke-width: 0.6926406926406926;"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926;" x1="331.7749" x2="563.1169" y1="71.7316" y2="71.7316"/><text fill="#33335B" font-family="sans-serif" font-size="9.0043" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="216.1039" x="340.0866" y="68.2227">pm_runtime_disable(PM_RUNTIME_DSP, 0)</text><path d="M577.6623,57.0942 L577.6623,74.4102 L798.6147,74.4102 L798.6147,64.0206 L791.6883,57.0942 L577.6623,57.0942 " fill="#F6ED80" filter="url(#fy5jyz3fg5kf2)" style="stroke: #D6D6DE; stroke-width: 0.6926406926406926;"/><path d="M791.6883,57.0942 L791.6883,64.0206 L798.6147,64.0206 L791.6883,57.0942 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 0.6926406926406926;"/><text fill="#33335B" font-family="sans-serif" font-size="9.0043" lengthAdjust="spacingAndGlyphs" textLength="206.4069" x="581.8182" y="68.9154">Make latency of dsp core 0 int handler minimal</text><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926;" x1="574.1991" x2="603.29" y1="95.3734" y2="95.3734"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926;" x1="603.29" x2="603.29" y1="95.3734" y2="104.3777"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926;" x1="574.8918" x2="603.29" y1="104.3777" y2="104.3777"/><polygon fill="#4A4A86" points="581.8182,101.6071,574.8918,104.3777,581.8182,107.1483,579.0476,104.3777" style="stroke: #4A4A86; stroke-width: 0.6926406926406926;"/><text fill="#33335B" font-family="sans-serif" font-size="9.0043" lengthAdjust="spacingAndGlyphs" textLength="45.7143" x="579.0476" y="91.8645">ref_cnt++</text><path d="M633.0736,85.2381 L633.0736,102.5541 L675.3247,102.5541 L675.3247,92.1645 L668.3983,85.2381 L633.0736,85.2381 " fill="#F6ED80" filter="url(#fy5jyz3fg5kf2)" style="stroke: #D6D6DE; stroke-width: 0.6926406926406926;"/><path d="M668.3983,85.2381 L668.3983,92.1645 L675.3247,92.1645 L668.3983,85.2381 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 0.6926406926406926;"/><text fill="#33335B" font-family="sans-serif" font-size="9.0043" lengthAdjust="spacingAndGlyphs" textLength="27.7056" x="637.2294" y="97.0593">0 -&gt; 1</text><polygon fill="#4A4A86" points="339.3939,111.3041,332.4675,114.0747,339.3939,116.8452,336.6234,114.0747" style="stroke: #4A4A86; stroke-width: 0.6926406926406926;"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926; stroke-dasharray: 2.0,2.0;" x1="335.2381" x2="570.0433" y1="114.0747" y2="114.0747"/><polygon fill="#4A4A86" points="191.8615,121.0011,184.9351,123.7716,191.8615,126.5422,189.0909,123.7716" style="stroke: #4A4A86; stroke-width: 0.6926406926406926;"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926; stroke-dasharray: 2.0,2.0;" x1="187.7056" x2="327.619" y1="123.7716" y2="123.7716"/><polygon fill="#4A4A86" points="108.7446,141.1797,115.671,143.9502,108.7446,146.7208,111.5152,143.9502" style="stroke: #4A4A86; stroke-width: 0.6926406926406926;"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926;" x1="25.6277" x2="112.9004" y1="143.9502" y2="143.9502"/><text fill="#33335B" font-family="sans-serif" font-size="9.0043" lengthAdjust="spacingAndGlyphs" textLength="74.8052" x="30.4762" y="140.4414">building topology</text><polygon fill="#4A4A86" points="175.9307,150.8766,182.8571,153.6472,175.9307,156.4177,178.7013,153.6472" style="stroke: #4A4A86; stroke-width: 0.6926406926406926;"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926;" x1="117.0563" x2="180.0866" y1="153.6472" y2="153.6472"/><polygon fill="#4A4A86" points="316.5368,171.0552,323.4632,173.8258,316.5368,176.5963,319.3074,173.8258" style="stroke: #4A4A86; stroke-width: 0.6926406926406926;"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926;" x1="184.2424" x2="320.6926" y1="173.8258" y2="173.8258"/><text fill="#33335B" font-family="sans-serif" font-size="9.0043" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="127.4459" x="189.0909" y="170.3169">platform_wait_for_interrupt()</text><polygon fill="#4A4A86" points="558.961,191.2338,565.8874,194.0043,558.961,196.7749,561.7316,194.0043" style="stroke: #4A4A86; stroke-width: 0.6926406926406926;"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926;" x1="331.7749" x2="563.1169" y1="194.0043" y2="194.0043"/><text fill="#33335B" font-family="sans-serif" font-size="9.0043" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="222.3377" x="336.6234" y="190.4955">pm_runtime_is_active(PM_RUNTIME_DSP, 0)</text><polygon fill="#4A4A86" points="339.3939,211.4123,332.4675,214.1829,339.3939,216.9535,336.6234,214.1829" style="stroke: #4A4A86; stroke-width: 0.6926406926406926;"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926; stroke-dasharray: 2.0,2.0;" x1="335.2381" x2="570.0433" y1="214.1829" y2="214.1829"/><text fill="#33335B" font-family="sans-serif" font-size="9.0043" lengthAdjust="spacingAndGlyphs" textLength="18.0087" x="343.5498" y="210.674">true</text><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926;" x1="331.7749" x2="360.8658" y1="237.8247" y2="237.8247"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926;" x1="360.8658" x2="360.8658" y1="237.8247" y2="246.829"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926;" x1="328.3117" x2="360.8658" y1="246.829" y2="246.829"/><polygon fill="#4A4A86" points="335.2381,244.0584,328.3117,246.829,335.2381,249.5996,332.4675,246.829" style="stroke: #4A4A86; stroke-width: 0.6926406926406926;"/><text fill="#33335B" font-family="sans-serif" font-size="9.0043" lengthAdjust="spacingAndGlyphs" textLength="55.4113" x="336.6234" y="234.3158">d0-idle state</text><polygon fill="#4A4A86" points="124.6753,250.2922,117.7489,253.0628,124.6753,255.8333,121.9048,253.0628" style="stroke: #4A4A86; stroke-width: 0.6926406926406926;"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926; stroke-dasharray: 2.0,2.0;" x1="120.5195" x2="183.5498" y1="253.0628" y2="253.0628"/><polygon fill="#4A4A86" points="33.2468,259.9892,26.3203,262.7597,33.2468,265.5303,30.4762,262.7597" style="stroke: #4A4A86; stroke-width: 0.6926406926406926;"/><line style="stroke: #4A4A86; stroke-width: 0.6926406926406926; stroke-dasharray: 2.0,2.0;" x1="29.0909" x2="116.3636" y1="262.7597" y2="262.7597"/><!--MD5=[7f81bc1175fedc6622b37652341895d2]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
scale max 800 width

participant drv as "Driver"
participant ipc
participant mct as "master-core-task"
participant platform
participant pm_rt as "pm-runtime"

mct -> platform : platform_init()
   activate platform

   platform -> pm_rt :<b> pm_runtime_disable(PM_RUNTIME_DSP, 0)</b>
      activate pm_rt
      note right: Make latency of dsp core 0 int handler minimal
      pm_rt -> pm_rt : ref_cnt++
         note right: 0 -> 1
   platform <- - pm_rt
   deactivate pm_rt

mct <- - platform
deactivate platform

drv -> ipc : building topology
   ipc -> mct
      mct -> platform : <i>platform_wait_for_interrupt()</i>
         activate platform
         platform -> pm_rt : <b>pm_runtime_is_active(PM_RUNTIME_DSP, 0)</b>
            activate pm_rt
         platform <- - pm_rt : true
         deactivate pm_rt
         platform -> platform : d0-idle state
         deactivate platform
   ipc <- - mct
drv <- - ipc

@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.10+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>