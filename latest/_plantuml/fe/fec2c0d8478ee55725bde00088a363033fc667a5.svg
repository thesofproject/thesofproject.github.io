<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="516px" preserveAspectRatio="none" style="width:1007px;height:516px;" version="1.1" viewBox="0 0 1007 516" width="1007px" zoomAndPan="magnify"><defs><filter height="300%" id="f1rklastsoraje" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#6FCCDD" height="494.8906" style="stroke: #A1A1CA; stroke-width: 1.0;" width="355" x="248.5" y="4"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106" x="373" y="16.0669">boot_ldr @IMR</text><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="378.4609" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="310.5" y="117.4297"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="279.9297" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="570.5" y="215.9609"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="127.3984" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="575.5" y="368.4922"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="56.1328" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="811.5" y="439.7578"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="14" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="816.5" y="481.8906"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="59.2656" style="stroke: #A1A1CA; stroke-width: 2.0;" width="455" x="541.5" y="273.0938"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="27" x2="27" y1="86.2969" y2="504.8906"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="315.5" x2="315.5" y1="86.2969" y2="504.8906"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="575.5" x2="575.5" y1="86.2969" y2="504.8906"/><line style="stroke: #F05772; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="816" x2="816" y1="86.2969" y2="504.8906"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="8" y="82.9951">ROM</text><ellipse cx="27.5" cy="13" fill="#FFFFFF" filter="url(#f1rklastsoraje)" rx="8" ry="8" style="stroke: #33335B; stroke-width: 2.0;"/><path d="M27.5,21 L27.5,48 M14.5,29 L40.5,29 M27.5,48 L14.5,63 M27.5,48 L40.5,63 " fill="none" filter="url(#f1rklastsoraje)" style="stroke: #33335B; stroke-width: 2.0;"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="30.2969" style="stroke: #33335B; stroke-width: 1.5;" width="122" x="252.5" y="51"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="259.5" y="70.9951">.boot_entry.text</text><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="30.2969" style="stroke: #33335B; stroke-width: 1.5;" width="44" x="551.5" y="51"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="558.5" y="70.9951">.text</text><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="30.2969" style="stroke: #33335B; stroke-width: 1.5;" width="35" x="797" y="51"/><text fill="#33335B" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="804" y="70.9951">sof</text><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="378.4609" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="310.5" y="117.4297"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="279.9297" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="570.5" y="215.9609"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="127.3984" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="575.5" y="368.4922"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="56.1328" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="811.5" y="439.7578"/><rect fill="#FFFFFF" filter="url(#f1rklastsoraje)" height="14" style="stroke: #F05772; stroke-width: 1.0;" width="10" x="816.5" y="481.8906"/><polygon fill="#4A4A86" points="298.5,113.4297,308.5,117.4297,298.5,121.4297,302.5,117.4297" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="27.5" x2="304.5" y1="117.4297" y2="117.4297"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="34.5" y="112.3638">boot_entry() @boot_ldr.ep (boot_entry.S)</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="320.5" x2="362.5" y1="160.1953" y2="160.1953"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="362.5" x2="362.5" y1="160.1953" y2="173.1953"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="321.5" x2="362.5" y1="173.1953" y2="173.1953"/><polygon fill="#4A4A86" points="331.5,169.1953,321.5,173.1953,331.5,177.1953,327.5,173.1953" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="327.5" y="155.1294">j boot_init:</text><path d="M405,130.4297 L405,185.4297 L703,185.4297 L703,140.4297 L693,130.4297 L405,130.4297 " fill="#F6ED80" filter="url(#f1rklastsoraje)" style="stroke: #D6D6DE; stroke-width: 1.0;"/><path d="M693,130.4297 L693,140.4297 L703,140.4297 L693,130.4297 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="411" y="147.4966">Platform specific actions (compilation flags)</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="411" y="162.6294">- reset MHE</text><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="411" y="177.7622">- disable L2$</text><polygon fill="#4A4A86" points="558.5,211.9609,568.5,215.9609,558.5,219.9609,562.5,215.9609" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="320.5" x2="564.5" y1="215.9609" y2="215.9609"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="327.5" y="210.895">call8 boot_pri_core() (boot_loader.c)</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="580.5" x2="622.5" y1="245.0938" y2="245.0938"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="622.5" x2="622.5" y1="245.0938" y2="258.0938"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="581.5" x2="622.5" y1="258.0938" y2="258.0938"/><polygon fill="#4A4A86" points="591.5,254.0938,581.5,258.0938,591.5,262.0938,587.5,258.0938" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="587.5" y="240.0278">hp_sram_init()</text><path d="M541.5,273.0938 L611.5,273.0938 L611.5,280.0938 L601.5,290.0938 L541.5,290.0938 L541.5,273.0938 " fill="#EEEEEE" style="stroke: #A1A1CA; stroke-width: 1.0;"/><rect fill="none" height="59.2656" style="stroke: #A1A1CA; stroke-width: 2.0;" width="455" x="541.5" y="273.0938"/><text fill="#33335B" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="556.5" y="286.1606">opt</text><text fill="#33335B" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="217" x="626.5" y="285.3042">[defined(CONFIG_BOOT_LOADER)]</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="580.5" x2="622.5" y1="311.3594" y2="311.3594"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="622.5" x2="622.5" y1="311.3594" y2="324.3594"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="581.5" x2="622.5" y1="324.3594" y2="324.3594"/><polygon fill="#4A4A86" points="591.5,320.3594,581.5,324.3594,591.5,328.3594,587.5,324.3594" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="587.5" y="306.2935">parse_manifest()</text><path d="M708,296.7266 L708,321.7266 L972,321.7266 L972,306.7266 L962,296.7266 L708,296.7266 " fill="#F6ED80" filter="url(#f1rklastsoraje)" style="stroke: #D6D6DE; stroke-width: 1.0;"/><path d="M962,296.7266 L962,306.7266 L972,306.7266 L962,296.7266 " fill="#F6ED80" style="stroke: #D6D6DE; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="714" y="313.7935">copying of FW IMR -&gt; SRAM done here</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="580.5" x2="627.5" y1="355.4922" y2="355.4922"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="627.5" x2="627.5" y1="355.4922" y2="368.4922"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="586.5" x2="627.5" y1="368.4922" y2="368.4922"/><polygon fill="#4A4A86" points="596.5,364.4922,586.5,368.4922,596.5,372.4922,592.5,368.4922" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="592.5" y="350.4263">_ResetVector()</text><polygon fill="#4A4A86" points="804.5,398.625,814.5,402.625,804.5,406.625,808.5,402.625" style="stroke: #4A4A86; stroke-width: 1.0;"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="585.5" x2="810.5" y1="402.625" y2="402.625"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="592.5" y="397.5591">_MainEntry() @SOF_TEXT_START</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="816.5" x2="863.5" y1="426.7578" y2="426.7578"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="863.5" x2="863.5" y1="426.7578" y2="439.7578"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="822.5" x2="863.5" y1="439.7578" y2="439.7578"/><polygon fill="#4A4A86" points="832.5,435.7578,822.5,439.7578,832.5,443.7578,828.5,439.7578" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="828.5" y="421.6919">call0 _start</text><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="821.5" x2="868.5" y1="468.8906" y2="468.8906"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="868.5" x2="868.5" y1="468.8906" y2="481.8906"/><line style="stroke: #4A4A86; stroke-width: 1.0;" x1="827.5" x2="868.5" y1="481.8906" y2="481.8906"/><polygon fill="#4A4A86" points="837.5,477.8906,827.5,481.8906,837.5,485.8906,833.5,481.8906" style="stroke: #4A4A86; stroke-width: 1.0;"/><text fill="#33335B" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="833.5" y="463.8247">call main</text><!--MD5=[d7a5ed21127328fec82d473435d7296c]
@startuml
hidefootbox
skinparam componentStyle uml2

skinparam defaultFontColor	#33335b

skinparam rectangle {
	color		#d6d6de
	backgroundColor	#ffffff
}

skinparam component {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}

skinparam interface {
	backgroundColor	#ffffff
	borderColor	#f05772
}

skinparam class {
	backgroundColor	#ffffff
	borderColor	#33335b
	arrowColor	#f05772
}
skinparam stereotypeCBackgroundColor	#6fccdd

skinparam sequence {
	arrowColor		#4a4a86
	lifeLineBorderColor	#f05772
	groupBorderColor	#a1a1ca
	boxBorderColor		#a1a1ca
	dividerBorderColor	#d6d6de
	dividerBorderThickness	1
}
skinparam participant {
	borderColor		#33335b
	backgroundColor		#ffffff
}
skinparam actor {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam state {
	borderColor		#33335b
	backgroundColor		#ffffff
}

skinparam node {
	backgroundColor		#ffffff
}

skinparam note {
	backgroundColor 	#f6ed80
	borderColor		#d6d6de
}
actor "ROM" as rom
box "boot_ldr @IMR" #6fccdd
	participant ".boot_entry.text" as bup_be
	participant ".text" as bup
end box
participant "sof" as fw

rom -> bup_be : boot_entry() @boot_ldr.ep (boot_entry.S)
	activate bup_be
	bup_be -> bup_be : j boot_init:
	note right: Platform specific actions (compilation flags)\n- reset MHE\n- disable L2$
	bup_be -> bup : call8 boot_pri_core() (boot_loader.c)
		activate bup
		bup -> bup : hp_sram_init()
		opt defined(CONFIG_BOOT_LOADER)
			bup -> bup : parse_manifest()
			note right: copying of FW IMR -> SRAM done here
		end

	bup -> bup : _ResetVector()
		activate bup
		bup -> fw : _MainEntry() @SOF_TEXT_START
			fw -> fw : call0 _start
				activate fw
				fw -> fw : call main
					activate fw

@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.10+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>