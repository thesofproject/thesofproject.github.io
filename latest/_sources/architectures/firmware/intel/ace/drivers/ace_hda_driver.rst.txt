.. _ace_hda_driver:

HD-A IO Driver
##############

This chapter include HD-A driver details specific for ACE architecture.

Updating DMA Pointers in Buffers
********************************

Once the driver copies requested chunk of data from the DMA buffer to the client
supplied buffer, FPI and LPIBI are updated. Writes to FPI register drive DMA
transfers while LPIB is just incremented by HW for the sake of consistency with
coupled mode. Since LLPI delivers data used by the host SW to calculate
presentation position, it must reflect position in the stream close to the link
output therefore it is driven by the MixOut component of the mixer pipeline (one
that is typically directly attached to a link).

HD-A Chaining Operations
************************

.. note:: HW programming routine details can be found in platform integration HAS
          documentation.

Creating Chain

.. uml:: images/hda_chain_create.pu
   :caption: HD-A Create Chain

Starting Chain

.. uml:: images/hda_chain_start.pu
   :caption: HD-A Start Chain

Pausing Chain

.. uml:: images/hda_chain_pause.pu
   :caption: HD-A Pause Chain

Removing Chain

.. uml:: images/hda_chain_remove.pu
   :caption: HD-A Remove Chain

Running Chain in LL

.. uml:: images/hda_chain_run.pu
   :caption: HD-A Run Chain
