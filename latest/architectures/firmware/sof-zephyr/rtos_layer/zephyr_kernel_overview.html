<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zephyr based kernel &mdash; SOF Project 2.5.0 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/sof-custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../_static/sof-favicon-16x16.png"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Memory Management" href="memory_management/index.html" />
    <link rel="prev" title="RTOS Layer Infrastructure" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            SOF Project
              <img src="../../../../_static/logo_sof_white_200w.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference external" href="https://sofproject.org">SOF project website</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction/index.html">Introduction to the SOF Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../introduction/index.html#sdk-introduction-and-overview">SDK Introduction and Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../introduction/index.html#sof-source-code-tools-and-topologies">SOF source code, tools, and topologies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../introduction/index.html#host-os-drivers">Host OS Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../introduction/index.html#firmware-toolchain">Firmware Toolchain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../introduction/index.html#dsp-emulator">DSP Emulator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../introduction/index.html#general-faq">General FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../introduction/index.html#toolchain-faq">Toolchain FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../getting_started/index.html">Getting Started Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../getting_started/index.html#build-sof">Build SOF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../getting_started/build-guide/build-from-scratch.html">Build toolchains and SOF from sources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-from-scratch.html#step-1-set-up-the-workspace-directory">Step 1. Set up the workspace directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-from-scratch.html#step-2-set-up-build-environment">Step 2. Set up build environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-from-scratch.html#step-3-build-toolchains-from-source">Step 3. Build toolchains from source</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-from-scratch.html#step-4-build-and-sign-firmware-binaries">Step 4. Build and sign firmware binaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-from-scratch.html#step-5-build-topology-and-tools">Step 5. Build topology and tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-from-scratch.html#step-6-build-linux-kernel">Step 6. Build Linux kernel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../getting_started/build-guide/build-with-docker.html">Build SOF with Docker</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-with-docker.html#set-up-the-workspace-directory">Set up the workspace directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-with-docker.html#set-up-docker">Set up Docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-with-docker.html#build-firmware-binaries-with-docker">Build firmware binaries with Docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-with-docker.html#build-topology-and-tools-with-docker">Build topology and tools with Docker</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../getting_started/build-guide/build-3rd-party-toolchain.html">Build SOF with a 3rd Party Toolchain</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-3rd-party-toolchain.html#cadence-tensilica-xtensa-c-c-compiler-xcc">Cadence® Tensilica® Xtensa® C/C++ Compiler (XCC)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../getting_started/build-guide/build-with-zephyr.html">Build SOF with Zephyr</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-with-zephyr.html#prepare">Prepare</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-with-zephyr.html#clone-and-initialize-sof-project">Clone and initialize SOF project</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-with-zephyr.html#check-out-and-build-using-python-convenience-script">Check out and build using Python convenience script</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-with-zephyr.html#check-out-and-build-using-west-tool-directly">Check out and build using west tool directly</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-with-zephyr.html#run">Run</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/build-guide/build-with-zephyr.html#troubleshoot">Troubleshoot</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../getting_started/index.html#set-up-sof-on-a-linux-machine">Set up SOF on a Linux machine</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../getting_started/setup_linux/prepare_build_environment.html">Set up a Development Environment to Build the Kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../getting_started/setup_linux/install_locally.html">Install the Kernel Locally</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/setup_linux/install_locally.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/setup_linux/install_locally.html#build-and-install-the-kernel">Build and install the kernel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/setup_linux/install_locally.html#update-and-rebuild">Update and rebuild</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/setup_linux/install_locally.html#remove-the-kernel">Remove the kernel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../getting_started/setup_linux/setup_ktest_environment.html">Set up a Ktest-based Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/setup_linux/setup_ktest_environment.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/setup_linux/setup_ktest_environment.html#set-up-a-target">Set up a target</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/setup_linux/setup_ktest_environment.html#configure-ssh-without-password">Configure SSH without password</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/setup_linux/setup_ktest_environment.html#build-and-install-the-kernel-with-ktest">Build and install the kernel with ktest</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../getting_started/index.html#set-up-sof-on-a-special-device">Set up SOF on a special device</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../getting_started/setup_special_device/setup_minnowboard_turbot.html">Set up SOF on MinnowBoard Turbot</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/setup_special_device/setup_minnowboard_turbot.html#minnowboard-resources">MinnowBoard resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/setup_special_device/setup_minnowboard_turbot.html#development">Development</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../getting_started/setup_special_device/setup_up_2_board.html">Set up SOF on Up Squared board with Hifiberry DAC+ (STD)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/setup_special_device/setup_up_2_board.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/setup_special_device/setup_up_2_board.html#setup-instructions">Setup Instructions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../getting_started/index.html#debug-audio-issues-on-intel-platforms">Debug Audio issues on Intel platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../getting_started/intel_debug/introduction.html">Overview of Intel hardware platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/introduction.html#acpi-platforms-introduced-before-and-up-to-2015">ACPI platforms (introduced before and up to 2015)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/introduction.html#pci-devices-introduced-after-2016">PCI devices (introduced after 2016)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/introduction.html#user-space-and-filesystem-requirements">User space and filesystem requirements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../getting_started/intel_debug/suggestions.html">Suggestions before filing an SOF bug</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/suggestions.html#run-alsa-info">Run alsa-info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/suggestions.html#disable-sof-on-pci-hdaudio-devices-to-test-audio-playback">Disable SOF on PCI/HDaudio devices to test audio playback</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/suggestions.html#try-booting-into-windows-first-then-reboot-into-linux">Try booting into Windows first, then reboot into Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/suggestions.html#reverse-engineer-the-windows-audio-driver">Reverse-engineer the Windows audio driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/suggestions.html#make-sure-the-me-is-enabled">Make sure the ME is enabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/suggestions.html#test-at-the-alsa-hw-device-level">Test at the ALSA ‘hw’ device level</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/suggestions.html#verify-mixer-settings">Verify mixer settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/suggestions.html#enable-dynamic-debug">Enable dynamic debug</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/suggestions.html#install-sof-logger">Install sof-logger</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/suggestions.html#digital-mic-issues">Digital mic issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/intel_debug/suggestions.html#es8336-support">ES8336 support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../getting_started/index.html#sof-on-nxp-platforms">SOF on NXP platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../getting_started/nxp/sof_imx_user_guide.html">SOF User Guide on NXP i.MX8 platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/nxp/sof_imx_user_guide.html#supported-nxp-platforms">Supported NXP platforms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/nxp/sof_imx_user_guide.html#toolchain">Toolchain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/nxp/sof_imx_user_guide.html#quick-run-with-sof-from-i-mx8-board-support-package">Quick run with SOF from i.MX8 Board Support Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/nxp/sof_imx_user_guide.html#build-sof-binaries-from-sources">Build SOF binaries from sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/nxp/sof_imx_user_guide.html#audio-scenarios">Audio scenarios</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../getting_started/index.html#building-loadable-modules-using-lmdk">Building loadable modules using LMDK</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../getting_started/loadable_modules/lmdk_user_guide.html">Loadable modules build guide using LMDK</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/loadable_modules/lmdk_user_guide.html#what-is-lmdk">What is LMDK</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../getting_started/loadable_modules/lmdk_user_guide.html#how-to-build">How to build</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Architecture</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../host/index.html">Host Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../host/linux_driver/architecture/sof_driver_arch.html">SOF Linux Driver Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../host/linux_driver/architecture/sof_driver_arch.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../host/linux_driver/architecture/sof_driver_arch.html#driver-probe">Driver Probe</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../host/linux_driver/architecture/sof_driver_arch.html#sof-platform-driver">SOF Platform Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../host/linux_driver/architecture/sof_driver_arch.html#ipc-processing">IPC Processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../host/linux_driver/architecture/sof_driver_arch.html#pcm-driver">PCM Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../host/linux_driver/architecture/sof_driver_arch.html#power-management">Power Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../host/linux_driver/architecture/sof_driver_arch.html#intel-drivers">Intel Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../host/linux_driver/architecture/sof_driver_arch.html#support-for-high-definition-audio-hd-audio">Support for High Definition Audio (HD-Audio)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../host/linux_driver/architecture/sof_driver_arch.html#kernel-configuration-kconfig">Kernel Configuration/Kconfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../host/linux_driver/architecture/sof_driver_arch.html#debug-options">Debug Options</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Firmware Architecture</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../sof-common/index.html">SOF Common Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sof-common/components/index.html">Components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sof-xtos/index.html">SOF with XTOS Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../sof-xtos/overview.html">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sof-xtos/mem-mgmt.html">Memory Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sof-xtos/pm-runtime/index.html">Power Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sof-xtos/schedulers.html">Schedulers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sof-xtos/drivers/index.html">Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sof-xtos/pipelines/index.html">Pipelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../sof-xtos/kd_integration/index.html">Keyword detection</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">SOF with Zephyr Architecture</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_layer/index.html">Application Layer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../mpp_layer/index.html">Media Processing Pipelines Layer</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">RTOS Layer Infrastructure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../zephyr_api_integration.html">Zephyr API Integration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../intel/index.html">Vendor-Specific Architecture Information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../intel/cavs/index.html">Intel cAVS Architecture</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../intel/ace/index.html">Intel ACE Architecture</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../platforms/index.html">Platforms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../platforms/index.html#supported-platforms">Supported Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../platforms/index.html#minimum-platform-requirements">Minimum Platform Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../platforms/index.html#footprint">Footprint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../platforms/index.html#dsp-clock-speed">DSP Clock Speed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../platforms/index.html#toolchain">Toolchain</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../platforms/index.html#platform-specific-information">Platform Specific Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../platforms/intel-legacy/index.html">Intel Hifi2-EP Platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../platforms/intel-legacy/merrifield/index.html">Intel Merrifield</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../platforms/intel-legacy/baytrail/index.html">Intel Bay Trail / Cherry Trail</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../platforms/intel-legacy/broadwell/index.html">Intel Broadwell</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../platforms/intel-cavs/index.html">Intel CAVS Platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../platforms/intel-cavs/commons/index.html">CAVS Commons</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../platforms/intel-cavs/apollolake/index.html">Intel Apollo Lake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../platforms/intel-cavs/cannonlake/index.html">Intel Cannon Lake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../platforms/intel-cavs/icelake/index.html">Intel Ice Lake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../platforms/intel-cavs/tigerlake/index.html">Intel Tiger Lake</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../algos/index.html">Algorithms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../algos/index.html#supplied-processing-algorithms">Supplied Processing Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../algos/index.html#algorithm-specific-information">Algorithm Specific Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../algos/demux/demux.html">Multiplexer/Demultiplexer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/demux/demux.html#introduction">Introduction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../algos/eq/equalizers_tuning.html">Equalizers, IIR and FIR</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/eq/equalizers_tuning.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/eq/equalizers_tuning.html#preparations">Preparations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/eq/equalizers_tuning.html#frequency-response-measurement">Frequency response measurement</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/eq/equalizers_tuning.html#equalizer-design">Equalizer design</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/eq/equalizers_tuning.html#fir-equalizer">FIR equalizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/eq/equalizers_tuning.html#iir-equalizer">IIR equalizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/eq/equalizers_tuning.html#combined-iir-and-fir">Combined IIR and FIR</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/eq/equalizers_tuning.html#exporting-coefficients-to-sof">Exporting coefficients to SOF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/eq/equalizers_tuning.html#testing-the-response-with-sof-ctl">Testing the response with sof-ctl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/eq/equalizers_tuning.html#using-the-eq-settings-in-topology">Using the EQ settings in topology</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/eq/equalizers_tuning.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../algos/src/sample_rate_conversion.html">Sample Rate Conversion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/src/sample_rate_conversion.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/src/sample_rate_conversion.html#use-of-src-generator-tool">Use of SRC generator tool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/src/sample_rate_conversion.html#test-the-src-component">Test the SRC component</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/src/sample_rate_conversion.html#polyphase-decomposition">Polyphase decomposition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/src/sample_rate_conversion.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../algos/tdfb/time_domain_fixed_beamformer.html">Time Domain Fixed Beamformer (TDFB)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/tdfb/time_domain_fixed_beamformer.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/tdfb/time_domain_fixed_beamformer.html#beamformer-types">Beamformer types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/tdfb/time_domain_fixed_beamformer.html#microphone-array-geometries">Microphone array geometries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/tdfb/time_domain_fixed_beamformer.html#filter-bank-design-procedure">Filter bank design procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/tdfb/time_domain_fixed_beamformer.html#design-examples">Design examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../algos/tdfb/time_domain_fixed_beamformer.html#simulation">Simulation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_guides/index.html">Developer Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/introduction.html">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/introduction.html#sof-core-concepts">SOF Core Concepts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/firmware/index.html">Firmware</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/firmware/component-tutorial/tut-intro.html">Hello World Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/component-tutorial/tut-i-basic-fw-code.html">Part I - Adding a Component Code to FW</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/component-tutorial/tut-ii-topology.html">Part II - Modifying the Topology &amp; Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/component-tutorial/tut-iii-runtime-params.html">Part III - Adding Run-time Parameter Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/component-tutorial/tut-iv-exceptions.html">Part IV - Working with Exception Reports</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/firmware/porting.html">Porting Guides</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/porting.html#architecture-porting-guide">Architecture Porting Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/porting.html#platform-porting-guide">Platform Porting Guide</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/firmware/cmake.html">CMake Arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/cmake.html#firmware-unit-tests">Firmware &amp; Unit Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/cmake.html#firmware">Firmware</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/cmake.html#unit-tests">Unit Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/cmake.html#host-testbench">Host Testbench</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/firmware/async_messaging_best_practices.html">Async Messaging Best Practices</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/async_messaging_best_practices.html#message-type-ids">Message Type IDs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/async_messaging_best_practices.html#message-handling">Message Handling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/async_messaging_best_practices.html#processing-in-a-consumer-callback">Processing in a consumer callback</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/async_messaging_best_practices.html#message-filtering-mechanism">Message Filtering Mechanism</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/async_messaging_best_practices.html#passing-pointers-in-asynchronous-messages">Passing Pointers In Asynchronous Messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/async_messaging_best_practices.html#one-way-messages">One-way Messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/async_messaging_best_practices.html#two-way-messages-example-1">Two-way Messages - Example #1</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/async_messaging_best_practices.html#two-way-messages-example-2">Two-way Messages - Example #2</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/async_messaging_best_practices.html#max-message-size">Max message size</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/firmware/async_messaging_best_practices.html#queue-is-full">Queue is Full</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/unit_tests.html">Unit Tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/unit_tests.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/unit_tests.html#configuring-for-unit-tests">Configuring for unit tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/unit_tests.html#example-running-tests-for-apl">Example: Running tests for APL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/unit_tests.html#compiling-unit-tests-without-a-cross-compilation-toolchain">Compiling unit tests without a cross-compilation toolchain</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/unit_tests.html#wrapping-objects-for-unit-tests">Wrapping objects for unit tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/unit_tests.html#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/xtrun/index.html">Xtensa Simulator (xt-run)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/xtrun/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/xtrun/index.html#standalone-programs">Standalone programs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/xtrun/index.html#unit-tests">Unit tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/topology/topology.html">SOF Topology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/topology/topology.html#topology-ingredients">1. Topology Ingredients</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/topology/topology.html#widgets">1.1 Widgets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/topology/topology.html#tokens-vendor-tuples">1.2 Tokens/Vendor Tuples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/topology/topology.html#kcontrols">1.3 Kcontrols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/topology/topology.html#pipelines">1.4 Pipelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/topology/topology.html#backend-dai">1.5 Backend DAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/topology/topology.html#backend-dai-link-config">1.6 Backend DAI link Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/topology/topology.html#dsp-core-index">1.7 DSP Core Index</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/topology/topology.html#create-a-new-topology">2. Create a new topology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/topology/topology.html#example-topology-with-single-pipeline">2.1 Example topology with single pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/topology/topology.html#example-topology-with-multiple-pipelines">2.2 Example topology with multiple pipelines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/topology/topology.html#debug-topology">3. Debug topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/topology/topology.html#acronyms">4. Acronyms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/topology2/topology2.html">Topology 2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/topology2/topology2.html#ingredients">Ingredients</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/topology2/topology2.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/topology2/topology2.html#objects">Objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/topology2/topology2.html#arguments-in-top-level-configuration-files">Arguments in top-level configuration files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/topology2/topology2.html#includes">Includes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/topology2/topology2.html#simple-machine-topology">Simple machine topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/topology2/topology2.html#conditional-includes">Conditional includes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/topology2/topology2.html#building-2-0-configuration-files">Building 2.0 configuration files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/topology2/topology2.html#topology-reminders">Topology reminders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/topology2/topology2.html#alsaconf-reminders">Alsaconf reminders</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/uuid/index.html">UUID Usage in SOF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/uuid/index.html#why-uuids">Why UUIDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/uuid/index.html#uuid-allocation">UUID allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/uuid/index.html#uuid-in-topology">UUID in topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/uuid/index.html#linux-topology-driver">Linux topology driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/uuid/index.html#uuid-arrays-stored-section">UUID arrays stored section</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/uuid/index.html#uuid-to-component-driver-mapping">UUID to component driver mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/uuid/index.html#abi-alignment-for-uuid-support">ABI alignment for UUID support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/debugability/index.html">Debugability</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/debugability/traces/index.html">Traces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/traces/index.html#building-processing-traces">Building &amp; Processing Traces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/traces/index.html#enabling-traces">Enabling Traces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/traces/index.html#adding-traces">Adding Traces</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/debugability/logger/index.html">Logger</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/logger/index.html#logger-usage">Logger usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/logger/index.html#trace-filtering">Trace filtering</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/debugability/coredump-reader/index.html">Coredump-reader</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/coredump-reader/index.html#coredump-reader-usage">Coredump-reader usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/coredump-reader/index.html#usage-with-linux-sof-driver">Usage with Linux SOF Driver</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/debugability/probes/index.html">Probes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/probes/index.html#requirements">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/probes/index.html#enabling-probes">Enabling Probes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/probes/index.html#data-extraction">Data extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/probes/index.html#data-parsing">Data parsing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/probes/index.html#simple-logging-case">Simple logging case</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/debugability/ri-info/index.html">sof-ri-info</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/ri-info/index.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/debugability/perf-counters/index.html">Performance Counters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/perf-counters/index.html#performance-counters-usage">Performance Counters usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/debugability/perf-counters/index.html#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/tuning/sof-ctl.html">Runtime Tuning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/tuning/sof-ctl.html#find-out-effect-numids">Find out effect numids</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/tuning/sof-ctl.html#example-equalizer-settings">Example equalizer settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/tuning/sof-ctl.html#help">Help</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/rimage/index.html">Rimage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/rimage/extended_manifest.html">Extended Manifest</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/rimage/extended_manifest.html#build-flow">Build flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/rimage/extended_manifest.html#add-a-new-element">Add a new element</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/rimage/index.html#build-flow">Build flow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/linux_driver/index.html">SOF Linux Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/linux_driver/third_party/index.html">Third Party Features User Guides</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/linux_driver/third_party/keyword_detect/keyword_detect.html">Keyword Detection Driver Implementation and User Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/virtualization/virtualization.html">SOF VirtIO design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/virtualization/virtualization.html#general-information">General information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/virtualization/virtualization.html#id1">SOF VirtIO design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/virtualization/virtualization.html#communication-channels">Communication channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/virtualization/virtualization.html#topology">Topology</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/virtualization/virtualization.html#dpcm-audio-routing">DPCM audio routing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/virtualization/virtualization.html#implementation">Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/virtualization/virtualization.html#initialization">Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/virtualization/virtualization.html#streaming">Streaming</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/virtualization/virtualization.html#deactivation">Deactivation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/virtualization/running.html">Run SOF VirtIO</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/virtualization/running.html#general-information">General information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/virtualization/running.html#create-a-vm-image">1. Create a VM image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/virtualization/running.html#build-the-linux-kernel">2. Build the Linux kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/virtualization/running.html#build-qemu">3. Build QEMU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/virtualization/running.html#build-the-sof-firmware">4. Build the SOF firmware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/virtualization/running.html#run-qemu">5. Run QEMU</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/fuzzing/index.html">Fuzzing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/fuzzing/fuzzing_in_docker.html">Fuzzing in Docker</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/fuzzing/fuzzing_in_docker.html#instructions">Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/fuzzing/fuzzing_in_docker.html#important-notes">Important notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/fuzzing/testbench_afl_fuzzing.html">Build a Fuzzing Testbench with AFL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/fuzzing/testbench_afl_fuzzing.html#install-afl">Install AFL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/fuzzing/testbench_afl_fuzzing.html#build-a-testbench-with-afl-instrumentation">Build a testbench with AFL instrumentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/fuzzing/testbench_afl_fuzzing.html#run-afl">Run AFL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/fuzzing/testbench_afl_fuzzing.html#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/testbench/index.html">Testbench</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/testbench/build_testbench.html">Build and Run Testbench</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/testbench/build_testbench.html#host-testbench-sh">host-testbench.sh</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/testbench/debug_in_testbench.html">Debug Component in Testbench</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/testbench/debug_in_testbench.html#gdb-and-ddd">GDB and DDD</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/testbench/debug_in_testbench.html#valgrind">Valgrind</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/testbench/debug_in_testbench.html#gprof">Gprof</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/testbench/prepare_new_component.html">Prepare a New Component for Testbench</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/testbench/test_audio_quality.html">Test Audio Quality</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/add_new_arch.html">Adding a new DSP architecture to SOF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/add_new_arch.html#method-1-new-hal">Method 1 - New HAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/add_new_arch.html#method-2-use-existing-rtos">Method 2 - Use existing RTOS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../developer_guides/index.html#technical-notes">Technical Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/tech/build-cmocka.html">Build Cmocka for Xtensa</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/tech/build-cmocka.html#cmocka-fork">Cmocka fork</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/tech/build-cmocka.html#simple-build-on-linux">Simple build on Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/tech/build-cmocka.html#cross-platform-build">Cross-platform build</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../developer_guides/tech/compile_wsl.html">Build on Windows 10 with WSL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/tech/compile_wsl.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/tech/compile_wsl.html#enable-32-bit-binaries">Enable 32-bit binaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/tech/compile_wsl.html#fix-stat-in-32-bit-binaries">Fix stat in 32-bit binaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../developer_guides/tech/compile_wsl.html#compile">Compile</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../release.html">Release</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../release.html#firmware-and-tools">Firmware and Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../release.html#git">Git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../release.html#source-and-binary-releases">Source and Binary Releases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../release.html#linux-driver">Linux Driver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contribute/index.html">Contributing to the Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../contribute/contribute_guidelines.html">Contribution Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/contribute_guidelines.html#licensing">Licensing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/contribute_guidelines.html#developer-certification-of-origin-dco">Developer Certification of Origin (DCO)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../contribute/contribute_guidelines.html#dco-sign-off-methods">DCO Sign-Off Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/contribute_guidelines.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../contribute/doc_guidelines.html">Documentation Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/doc_guidelines.html#headings">Headings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/doc_guidelines.html#content-highlighting">Content Highlighting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/doc_guidelines.html#lists">Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/doc_guidelines.html#multi-column-lists">Multi-column lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/doc_guidelines.html#file-names-and-commands">File names and Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/doc_guidelines.html#internal-cross-reference-linking">Internal Cross-Reference Linking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/doc_guidelines.html#non-ascii-characters">Non-ASCII Characters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/doc_guidelines.html#code-and-command-examples">Code and Command Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/doc_guidelines.html#tabs-spaces-and-indenting">Tabs, spaces, and indenting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../contribute/dox-source-code.html">Documenting the Source Code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/dox-source-code.html#basic-rules">Basic Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/dox-source-code.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../contribute/process/bug-tracking.html">Bug Tracking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/bug-tracking.html#life-cycle-of-a-bug">Life Cycle of a Bug</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/bug-tracking.html#labels">Labels</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../contribute/process/bug-tracking.html#solution-labels">Solution Labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../contribute/process/bug-tracking.html#priority-labels">Priority Labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../contribute/process/bug-tracking.html#plaform-and-branch-labels">Plaform and Branch Labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../contribute/process/bug-tracking.html#other-optional-labels">Other optional Labels</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/bug-tracking.html#how-to-report-a-bug">How to Report a Bug</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/bug-tracking.html#how-to-close-a-bug">How to Close a Bug</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../contribute/process/docbuild.html">SOF Documentation Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/docbuild.html#documentation-overview">Documentation overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/docbuild.html#set-up-documentation-working-folders">Set up documentation working folders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/docbuild.html#install-documentation-tools">Install documentation tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/docbuild.html#documentation-presentation-theme">Documentation presentation theme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/docbuild.html#run-documentation-processors">Run documentation processors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/docbuild.html#publish-content">Publish content</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/docbuild.html#installation-troubleshooting">Installation troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/docbuild.html#windows-troubleshooting">Windows troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/docbuild.html#diagram-compilation-troubleshooting">Diagram compilation troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../contribute/process/abiprocess.html">SOF ABI Change Process</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/abiprocess.html#sof-abi-definitions">SOF ABI definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/abiprocess.html#change-process">Change process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/abiprocess.html#document-modified-fields">Document modified fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/process/abiprocess.html#abi-change-approvers">ABI change approvers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../contribute/process/abiprocess.html#tsc">TSC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../contribute/process/abiprocess.html#sof-driver">SOF driver</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../contribute/linux/development_tree.html">Linux SOF drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/linux/development_tree.html#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/linux/development_tree.html#instructions-for-sof-developers">Instructions for SOF developers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../contribute/linux/development_tree.html#abi-changes">ABI changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../contribute/linux/development_tree.html#development-branch">Development branch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../contribute/linux/development_tree.html#rebasing-tree">Rebasing tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../contribute/linux/development_tree.html#upstream-merges">Upstream merges</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/linux/development_tree.html#development-flow">Development flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../contribute/linux/development_tree.html#sof-linux-maintainers">SOF Linux maintainers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../contribute/linux/development_tree.html#sof-maintainers-process">SOF maintainers process</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../contribute/linux/development_tree.html#development-summary">Development summary</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../tsc/index.html">Technical Steering Committee (TSC)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../tsc/representatives.html">TSC Representatives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../tsc/meetings.html">TSC Meetings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../maintainers/index.html">SOF admin, maintainers and code owners</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../maintainers/admin.html">SOF admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../maintainers/merge_rights.html">Merge rights</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../maintainers/code_owners.html">SOF code owners</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/index.html">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/uuid-api.html">UUID API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/dma-drivers-api.html">DMA Drivers API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/dai-drivers-api.html">DAI Drivers API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/pm-runtime-api.html">PM Runtime API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/platform-api.html">Platform API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/memory-alloc-api.html">Memory Allocation API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/audio-stream-api.html">Audio Stream API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/component-api.html">Component API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/component-ext-api.html">Component API Ext</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../api/uapi.html">uAPI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../presentations/index.html">Presentations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../presentations/index.html#sof-mentions">SOF Mentions</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">SOF Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Architecture</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Firmware Architecture</a></li>
          <li class="breadcrumb-item"><a href="../index.html">SOF with Zephyr Architecture</a></li>
          <li class="breadcrumb-item"><a href="index.html">RTOS Layer Infrastructure</a></li>
      <li class="breadcrumb-item active">Zephyr based kernel</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="zephyr-based-kernel">
<span id="kernel-overview"></span><h1>Zephyr based kernel<a class="headerlink" href="#zephyr-based-kernel" title="Permalink to this headline">¶</a></h1>
<p>Zephyr has been introduced as an IP agnostic solution that replaced existing SOF
audio specific kernel. The Zephyr base kernel has been complemented with SOF Low
Level Drivers, SoC HAL and kernel extensions. The new solution continues
scalable kernel concept and it serves as a generic part of infrastructure that
can be statically and dynamically customized based on usage, compute, and memory
constrains, HW configuration etc.</p>
<p>As a result of the kernel customization, a firmware infrastructure is produced.
This firmware infrastructure can run on a given processor type and it is tuned
for specified usage.</p>
<p>For more Zephyr kernel details, see <a class="reference external" href="https://docs.zephyrproject.org/3.0.0/introduction/index.html">Zephyr Introduction
documentation</a></p>
<p>The Zephyr based kernel consists of the following components:</p>
<ul class="simple">
<li><p>Hardware integration layer: XTHAL,</p></li>
<li><p>Low Level Drivers,</p>
<ul>
<li><p>DMIC,</p></li>
<li><p>I2S,</p></li>
<li><p>SNDW,</p></li>
<li><p>GPIO,</p></li>
<li><p>I2C,</p></li>
<li><p>I3C,</p></li>
<li><p>timers,</p></li>
<li><p>GPDMA,</p></li>
<li><p>IDC,</p></li>
<li><p>IPC,</p></li>
<li><p>watchdog,</p></li>
<li><p>etc.</p></li>
</ul>
</li>
<li><p>SoC HAL,</p>
<ul>
<li><p>OEM SoC specific code,</p></li>
</ul>
</li>
<li><p>Services: shared resource services, communication services, memory manager,
power manager, interrupt manager, system service, etc.</p></li>
<li><p>Kernel extensions:</p>
<ul>
<li><p>AVS schedulers,</p></li>
<li><p>Firmware Manager,</p></li>
<li><p>Media Processing Pipeline Components,</p></li>
</ul>
</li>
</ul>
<p>The Zephyr base kernel expectations:</p>
<ul class="simple">
<li><p>it can scale down to meet all KPIs via static and dynamic scaling options,</p></li>
<li><p>Zephyr itself is IP agnostic and shared across other SW and FW projects,</p></li>
<li><p>it is available and maintain under open source license,</p></li>
</ul>
<figure class="align-default" id="id1">
<p class="plantuml">
<object data="../../../../_images/plantuml-cbea7627539bde0795521ebb6f0bd52f2aaaa1b9.svg" type="image/svg+xml" style="width:1271px;height:967px;">
<img src="../../../../_images/plantuml-cbea7627539bde0795521ebb6f0bd52f2aaaa1b9.png" alt="&#64;startuml
allowmixing

scale max 1280 width

package &quot;Kernel space&quot; {

  package &quot;Media Processing Pipelines - kernel extension&quot; as MPP_KERNEL_EXTENSION {
    interface &quot;Extended System Services&quot; as ESS

    component &quot;Firmware Manager&quot; as FIRMWARE_MANAGER

    package &quot;Communication&quot; as COMMUNICATION {
        component &quot;IPC Message Processing&quot; as IPC_MESSAGE_PROCESSING
        component &quot;Async Messaging&quot; as ASYNC_MESSAGING

        IPC_MESSAGE_PROCESSING -[hidden]right- ASYNC_MESSAGING
    }

    package &quot;Pipeline/Component Infrastructure&quot; as PIPELINE_COMPONENT_INFRASTRUCTURE {
        component &quot;Pipeline Management&quot; as PIPELINE_MANAGEMENT
        component &quot;Host/DAI Gateways&quot; as HOST_DAI_GATEWAYS
        component &quot;Processing Component Management&quot; as PROCESSING_COMPONENT_MANAGEMENT

        PIPELINE_MANAGEMENT -[hidden]right- HOST_DAI_GATEWAYS
        HOST_DAI_GATEWAYS -[hidden]right- PROCESSING_COMPONENT_MANAGEMENT
    }

    package &quot;AVS Scheduling&quot; as AVS_SCHEDULING {
        component &quot;Data Processing (DP) Tasks (EDF based)&quot; as DP_TASKS
        component &quot;Low Latency (LL) Tasks&quot; as LL_TASKS

        DP_TASKS -[hidden]right- LL_TASKS
    }

    FIRMWARE_MANAGER -[hidden]right- PIPELINE_COMPONENT_INFRASTRUCTURE
    FIRMWARE_MANAGER -[hidden]down- COMMUNICATION
    COMMUNICATION -[hidden]right- AVS_SCHEDULING

    ESS -[hidden]down- FIRMWARE_MANAGER
    ESS -[hidden]down- PIPELINE_COMPONENT_INFRASTRUCTURE
  }

  package &quot;Zephyr&quot; as Zephyr_RTOS {
    interface &quot;Zephyr System Services&quot; as SS

    package &quot;Schedulers&quot; as SCHEDULERS {
        component &quot;RTOS Scheduling&quot; as RTOS_SCHEDULER
    }

    package &quot;Services&quot; as SERVICES {
        component &quot;Memory Manager&quot; as MEMORY_MANAGER
        component &quot;Power Manager&quot; as POWER_MANAGER
        component &quot;IPC/IDC&quot; as IXC
        component &quot;Logging&quot; as LOGGING
        component &quot;Debug&quot; as DEBUG
        component &quot;Timer Manager&quot; as TIMER_MANAGER
        component &quot;Interrupt Handler&quot; as INTERRUPT_HANDLER

        MEMORY_MANAGER -[hidden]right- POWER_MANAGER
        POWER_MANAGER -[hidden]right- IXC
        IXC -[hidden]down- LOGGING
        LOGGING -[hidden]right- TIMER_MANAGER
        TIMER_MANAGER -[hidden]right- INTERRUPT_HANDLER
    }

    package &quot;SoC HAL&quot; as SOC {
        component &quot;OEM SoC 1&quot; as SOC_1
        component &quot;OEM SoC 2&quot; as SOC_2
        component &quot;Other SoCs&quot; as OTHER_SOCS

        SOC_1 -[hidden]right- SOC_2
        SOC_2 -[hidden]right- OTHER_SOCS
    }

    package &quot;Drivers&quot; as DRIVERS {
        package &quot;Common Drivers&quot; as COMMON_DRIVERS {
          component &quot;GPDMA&quot; as GPDMA
          component &quot;Timer&quot; as TIMER
          component &quot;SHA-384&quot; as SHA384
          component &quot;Watchdog&quot; as WATCHDOG
          component &quot;IPC&quot; as IPC
          component &quot;IDC&quot; as IDC
        }

          package &quot;Audio Drivers&quot; as AUDIO_DRIVERS{
          component &quot;DMIC&quot; as DMIC
          component &quot;I2S&quot; as I2S
          component &quot;SDW&quot; as SDW
          component &quot;HDA&quot; as HDA

          DMIC -[hidden]right- I2S
          I2S -[hidden]right- SDW
          SDW -[hidden]right- HDA
        }

        package &quot;Sensing Drivers&quot; as SENSING_DRIVERS {
          component &quot;I2C&quot; as I2C
          component &quot;GPIO&quot; as GPIO
          component &quot;I3C&quot; as I3C
          component &quot;SPI&quot; as SPI
          component &quot;UART&quot; as UART

          I2C -[hidden]right- GPIO
          GPIO -[hidden]right- I3C
          I3C -[hidden]right- SPI
          SPI -[hidden]right- UART
        }
    }

    component &quot;XTHAL&quot; as XTHAL

    SS -[hidden]down- SCHEDULERS
    SS -[hidden]down- SERVICES
    SCHEDULERS -[hidden]right- SERVICES
    SERVICES -[hidden]right- SOC
    SERVICES --[hidden]down-- DRIVERS
    DRIVERS -[hidden]down- XTHAL
  }

  MPP_KERNEL_EXTENSION --[hidden]down-- Zephyr_RTOS
}

&#64;enduml
"/>

</object></p>
<figcaption>
<p><span class="caption-number">Figure 57 </span><span class="caption-text">Zephyr Kernel diagram</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<section id="scaling-options">
<h2>Scaling Options<a class="headerlink" href="#scaling-options" title="Permalink to this headline">¶</a></h2>
<p>Zephyr kernel offers scaling options to adjust to selected HW configuration,
scale down to meet aggressive KPIs on a given platform, scale up to meet
functional requirements.</p>
<p>The scaling is achieved in two ways:</p>
<ul>
<li><p>static, kernel components can be selectively enabled in the build process</p>
<ul class="simple">
<li><p>Drivers selected depending on SoC Configuration</p></li>
<li><p>Services and execution frameworks chosen in Zephyr</p></li>
</ul>
</li>
<li><p>dynamic, not used parts can be unloaded and saved in “backup storage” memory,
that typically has large capacity and high access latency. They will be
loaded again once a specific event will happen</p>
<ul>
<li><p>It is only applicable to SoCs that support it.</p></li>
<li><p>It is achieved via one of the following mechanisms:</p>
<blockquote>
<div><ul class="simple">
<li><p>Firmware Paging (if present) - Only currently executing modules are in
SRAM.</p></li>
<li><p>Split Firmware into modules - Modules are loaded from “backup storage”
or unloaded on explicit request. No runtime dynamism.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</li>
</ul>
</section>
<section id="handling-project-configuration">
<h2>Handling Project Configuration<a class="headerlink" href="#handling-project-configuration" title="Permalink to this headline">¶</a></h2>
<p>Zephyr is prepared to be configured via device tree that describe given SoC
board audio hardware configuration.</p>
<p>A SoC board device tree allows configuring:</p>
<ul>
<li><p>HW configuration</p>
<blockquote>
<div><ul class="simple">
<li><p>number of HP DSP cores,</p></li>
<li><p>types of memories available per cores,</p></li>
<li><p>supported clocks,</p></li>
<li><p>number of I/Os,</p></li>
<li><p>number of IPC and IDC interfaces for DSP cores,</p></li>
<li><p>etc.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p>DSP memory space,</p></li>
<li><p>IPC mailbox address,</p></li>
<li><p>etc.</p></li>
</ul>
</div></blockquote>
</section>
<section id="low-level-drivers">
<h2>Low Level Drivers<a class="headerlink" href="#low-level-drivers" title="Permalink to this headline">¶</a></h2>
<p>SOF is capable to support hardware with several audio I/Os, sensor I/Os, DSP
accelerators and DMAs which count can be customized per architcture.</p>
<p>HW resources with low level drivers:</p>
<ul class="simple">
<li><p>Audio I/Os: I2S, DMIC, SNDW, HD/A,</p></li>
<li><p>Sensor I/Os: I2C, I3C, GPIO, UART, SPI, ADC, PWM,</p></li>
<li><p>Common resources: HP GPDMA, IPC, IDC, Timers, SHA-384, Watchdog</p></li>
</ul>
<p><strong>NOTE:</strong> Not all I/Os are supported in each SoC board.</p>
<p>Zephyr based firmware provides low level drivers for all these resources. A
specific driver can be enabled during build process.</p>
</section>
<section id="soc-hal">
<h2>SoC HAL<a class="headerlink" href="#soc-hal" title="Permalink to this headline">¶</a></h2>
<p>The SoC HAL include implementation and configuration details specific for
selected SoC architecture. The SoC HAL abstraction allow to seamlesly switch
between target SoC configuration builds.</p>
<p>More details can be found in Zephyr documentation:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.zephyrproject.org/3.0.0/guides/porting/board_porting.html">Zephyr Board Porting Guide</a></p></li>
<li><p><a class="reference external" href="https://docs.zephyrproject.org/3.0.0/guides/porting/arch.html">Zephyr Architecture Porting Guide</a></p></li>
</ul>
</section>
<section id="services">
<h2>Services<a class="headerlink" href="#services" title="Permalink to this headline">¶</a></h2>
<figure class="align-default" id="id2">
<p class="plantuml">
<object data="../../../../_images/plantuml-3cbad092647c118d80c9f82c48c066dbd8939071.svg" type="image/svg+xml" style="width:1273px;height:252px;">
<img src="../../../../_images/plantuml-3cbad092647c118d80c9f82c48c066dbd8939071.png" alt="&#64;startuml
allowmixing

scale max 1280 width

package &quot;SOF&quot; {
  package &quot;Kernel Infrastructure&quot; {
    interface &quot;Zephyr System Services&quot; as SS

    package &quot;Services&quot; {
        component &quot;Memory Manager&quot; as MEMORY_MANAGER
        component &quot;Power Manager&quot; as POWER_MANAGER
        component &quot;IPC/IDC&quot; as IXC
        component &quot;Logging&quot; as LOGGING
        component &quot;Debug&quot; as DEBUG
        component &quot;Interrupt Handler&quot; as INTERRUPT_HANDLER
    }

    SS .down. MEMORY_MANAGER
    SS .down. POWER_MANAGER
    SS .down. IXC
    SS .down. LOGGING
    SS .down. DEBUG
    SS .down. INTERRUPT_HANDLER
  }

  package &quot;Kernel Extension&quot; {
    interface &quot;Extended System Services&quot; as ESS

    component &quot;AVS Scheduling&quot; as AVS_Scheduling

    package &quot;Extended Services&quot; as EXTENDED_SERVICES {
          component &quot;Firmware Manager&quot; as FIRMWARE_MANAGEMENT
          component &quot;Pipeline Management&quot; as PIPELINE_MANAGEMENT
          component &quot;Async Messaging&quot; as ASYNC_MESSAGING
          component &quot;Processing Component Management&quot; as COMPONENT_MANAGEMENT
          component &quot;IPC Message Processing&quot; as IPC_MESSAGE_PROCESSING
    }

    ESS .down. FIRMWARE_MANAGEMENT
    ESS .down. PIPELINE_MANAGEMENT
    ESS .down. ASYNC_MESSAGING
    ESS .down. IPC_MESSAGE_PROCESSING
    ESS .down. COMPONENT_MANAGEMENT

    AVS_Scheduling -[hidden]down- EXTENDED_SERVICES
  }

  package &quot;Loadable modules&quot; {
      component &quot;WoV&quot; as WOV

      WOV .down. SS
      WOV .down. ESS
  }
}

&#64;enduml"/>

</object></p>
<figcaption>
<p><span class="caption-number">Figure 58 </span><span class="caption-text">Example of kernel services</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The base Zephyr services provide generic system management functionality for
memory, interrupts, autonomous power control (clock and power gating, clock
management).</p>
<p>The SOF specific functionality is exposed in a form of an extended kernel
services. The extended services utilize Zephyr base services infrastructure and
low level drivers to supply user space interface for the firmware application
layer components. The user space separation from hardware and low level drivers
significantly increase the firmware security and stability.</p>
<section id="firmware-management">
<h3>Firmware Management<a class="headerlink" href="#firmware-management" title="Permalink to this headline">¶</a></h3>
<p>The firmware manager is a core service that is responsible for:</p>
<ul class="simple">
<li><p>reading HW capabilities (number of cores, memory available, etc.),</p></li>
<li><p>firmware initialization,</p></li>
<li><p>instantiation and initialization of Low Level drivers for the existing HW
components,</p>
<ul>
<li><p>memory type drivers initialization with size read form capability
registers</p></li>
<li><p>audio drivers for supported interfaces</p></li>
</ul>
</li>
<li><p>instantiate and initialize Extended Kernel Services</p>
<ul>
<li><p>component manager</p></li>
<li><p>pipeline manager</p></li>
<li><p>IPC/IDC communication service</p></li>
<li><p>async messaging service</p></li>
<li><p>debug service</p></li>
</ul>
</li>
</ul>
</section>
<section id="interrupt-management">
<h3>Interrupt Management<a class="headerlink" href="#interrupt-management" title="Permalink to this headline">¶</a></h3>
<p>The interrupt handler service allows to:</p>
<ul class="simple">
<li><p>enable and disable an interrupt for DSP core,</p></li>
<li><p>register a callback that will be called once a specified interrupt occur,</p></li>
</ul>
<p>For more details, see <a class="reference external" href="https://docs.zephyrproject.org/3.0.0/reference/kernel/other/interrupts.html">Zephyr Interrupts
documentation</a></p>
</section>
<section id="memory-management">
<h3>Memory Management<a class="headerlink" href="#memory-management" title="Permalink to this headline">¶</a></h3>
<p>The Memory Manager provides a service to other FW components to allocate a block
out of available memory pools, it provides high level API, scans for unused
memory areas, handles physical memory defragmentation, prefetch and cache
policies. Most of the memory is expected to be paged.</p>
<p>All allocation requests refer to virtual memory address space, which shall be
continuous. This also applies to DMA buffer allocations, where continuous memory
is guaranteed by either continuous physical memory or VA/PA translation.</p>
<p>The map of available memory resources is passed to the Memory Manager during
initialization of Memory Manager via firmware infrastructure.</p>
<p>For more details, see <a class="reference external" href="https://docs.zephyrproject.org/3.0.0/reference/memory_management/index.html">Zephyr Memory Management
documentation</a>.</p>
</section>
<section id="power-management">
<h3>Power Management<a class="headerlink" href="#power-management" title="Permalink to this headline">¶</a></h3>
<p>The power management behavior highly depends on platform that firmware runs on,
and it can be configured during build time. There are platforms that only allow
clock gating and power gating is not applicable.</p>
<p>The power management interface provides the following functionality:</p>
<ul class="simple">
<li><p>allow and prevent power gating,</p></li>
<li><p>allow and prevent clock gating,</p></li>
<li><p>allow and prevent slower clock,</p></li>
<li><p>allow and prevent XTAL shutdown,</p></li>
</ul>
<p>In all cases, the implementation relies on atomic counter which is incremented
every time when prevent function is called and decremented when allow function
is called.</p>
<p><a class="reference external" href="https://docs.zephyrproject.org/3.0.0/guides/pm/index.html">Zephyr Power Management documentation</a>.</p>
</section>
<section id="ipc-and-idc-service">
<h3>IPC and IDC Service<a class="headerlink" href="#ipc-and-idc-service" title="Permalink to this headline">¶</a></h3>
<p>The IPC and IDC Service provides communication channel over IPC or IDC. IPCs are
used for the external communication with Host, other processors within SoC or
other subsystems within PCH. IDCs are used for the internal communication
between processors within SOF subsystem.</p>
<p>The introduction of SOF with Zephyr is followed with new IPC4 interface and
message formats that replaced IPC3.</p>
<p>The following types of sequences are supported:</p>
<ul class="simple">
<li><p>request-response initiated by Host,</p>
<ul>
<li><p>it is synchronous sequence,</p></li>
<li><p>long-running operations shall queue request and send response immediately.
The actual completion information should be sent via one-way asynchronous
notification,</p></li>
</ul>
</li>
<li><p>one-way asynchronous notification,</p></li>
</ul>
</section>
<section id="debugging">
<h3>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h3>
<p>The Zephyr based kernel provides a few services that helps with debugging FW.</p>
<section id="logging">
<h4>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h4>
<p>The Logger Service provides a lightweight mechanism to push log entries to all
firmware modules that are based on Zephyr logging infrastructure.</p>
<p>It is a very useful mechanism to do a first level of debugging.</p>
<p>Zephyr related documentation:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.zephyrproject.org/3.1.0/services/logging/index.html">Zephyr
Logging</a></p></li>
</ul>
</section>
<section id="probes">
<h4>Probes<a class="headerlink" href="#probes" title="Permalink to this headline">¶</a></h4>
<p>SOF supports injection and extraction probes. The probes are mainly used to
extract audio data from queues between components.</p>
<p>The other probe use cases include:</p>
<ul class="simple">
<li><p>injection of audio data to a component input queue - useful during testing
and debugging,</p></li>
<li><p>injection of data to internal probes,</p></li>
<li><p>extraction of data from internal probes i.e. internal component states,
intermediate data, debug information,</p></li>
<li><p>logging - probes can be used as transport for firmware logs,</p></li>
</ul>
</section>
<section id="performance-measurements">
<h4>Performance Measurements<a class="headerlink" href="#performance-measurements" title="Permalink to this headline">¶</a></h4>
<p>The firmware infrastructures support performance measurements to collect
information about DSP cycles or amount of data moved via interfaces.</p>
</section>
<section id="telemetry">
<h4>Telemetry<a class="headerlink" href="#telemetry" title="Permalink to this headline">¶</a></h4>
<p>Firmware infrastructure supports collection of telemetry events which then can
be read by the Host Software. The modules running in FW infrastructure can push
telemetry events via System Services.</p>
<p>If the telemetry collection is started, the telemetry events will be written to
a common circular buffer.</p>
<p>If the telemetry collection is stopped/disabled, the telemetry events will be
dropped at telemetry service level and they will not be written to the telemetry
circular buffer. During transition from started to stopped state, the telemetry
events that are already in the circular buffer will be dropped.</p>
</section>
</section>
<section id="schedulers">
<span id="schedulers-zephyr"></span><h3>Schedulers<a class="headerlink" href="#schedulers" title="Permalink to this headline">¶</a></h3>
<p>The scheduling method depends on compute and memory available for firmware
running on processor as well as type of workloads executed on given domain.</p>
<p>There are following types of schedulers supported in SOF</p>
<ul class="simple">
<li><p>AVS scheduling,</p></li>
</ul>
</section>
<section id="async-messaging-service">
<h3>Async Messaging Service<a class="headerlink" href="#async-messaging-service" title="Permalink to this headline">¶</a></h3>
<p>Asynchronous Messaging Service (AMS) is mechanism to exchange asynchronous
events between components running in the same firmware infrastructure or running
on the another processor (e.g. between HiFi and Fusion cores).</p>
<p>The Async Messages can be also injected and extracted via Host Async Message
Gateway module by Host SW.</p>
</section>
<section id="system-services">
<h3>System Services<a class="headerlink" href="#system-services" title="Permalink to this headline">¶</a></h3>
<p>The FW components do not know location of driver and service functions in base
firmware library, so they need to access base firmware services via System
Services.</p>
<p>In SOF with Zephyr the <a class="reference external" href="https://docs.zephyrproject.org/3.0.0/reference/drivers/index.html">Zephyr interfaces for
drivers</a>
were adopted. All newly developed drivers must be compliant to this standard and
the legacy ones must be ported to it.</p>
<p>In Zephyr based firmware, a driver instance is obtained via
<code class="docutils literal notranslate"><span class="pre">device_get_binding</span></code> function call with a name of a driver instance. There is
no explicit driver initialization call as a driver instance is initialized with
the first call.</p>
<p>A driver implementation must be ready for using the same hardware instance from
many modules and from many cores (it must be thread-safe implementation). There
can be more than one device instance if there is more than 1 instance of a
hardware (i.e. 2 I2C owner controllers).</p>
<p>The example functionalities that should be exposed via system services:</p>
<ul class="simple">
<li><p>IPC and IDC,</p></li>
<li><p>Logger Service,</p></li>
<li><p>RTOS scheduler functionalities, like yield,</p></li>
<li><p>Async Messaging Service,</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, SOF Project.
      <span class="lastupdated">Last updated on Jun 29, 2023.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-M4BL5NF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'GTM-M4BL5NF', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>