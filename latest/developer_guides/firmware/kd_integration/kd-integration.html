<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Keyword Detection integration &mdash; SOF Project 0.1 documentation</title><link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/sof-custom.css" type="text/css" /><link rel="shortcut icon" href="../../../_static/sof-favicon-16x16.png"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="CMake Arguments" href="../cmake.html" />
    <link rel="prev" title="Keyword detection" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> SOF Project<img src="../../../_static/logo_sof_white_200w.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference external" href="https://sofproject.org">SOF project website</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/index.html">Introduction to the SOF Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../introduction/index.html#sdk-introduction-and-overview">SDK Introduction and Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../introduction/index.html#sof-source-code-tools-and-topologies">SOF source code, tools, and topologies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../introduction/index.html#host-os-drivers">Host OS Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../introduction/index.html#firmware-toolchain">Firmware Toolchain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../introduction/index.html#dsp-emulator">DSP Emulator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../introduction/index.html#general-faq">General FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../introduction/index.html#toolchain-faq">Toolchain FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">Getting Started Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started/index.html#build-sof">Build SOF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../getting_started/build-guide/build-from-scratch.html">Build SOF from scratch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/build-guide/build-from-scratch.html#build-sof">Build SOF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/build-guide/build-from-scratch.html#build-linux-kernel">Build Linux kernel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../getting_started/build-guide/build-with-docker.html">Build SOF with Docker</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/build-guide/build-with-docker.html#set-up-the-workspace-directory">Set up the workspace directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/build-guide/build-with-docker.html#set-up-docker">Set up Docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/build-guide/build-with-docker.html#id1">Build with Docker</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../getting_started/build-guide/build-3rd-party-toolchain.html">Build SOF with a 3rd Party Toolchain</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/build-guide/build-3rd-party-toolchain.html#cadence-tensilica-xtensa-c-c-compiler-xcc">Cadence® Tensilica® Xtensa® C/C++ Compiler (XCC)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../getting_started/build-guide/build-with-zephyr.html">Build SOF with Zephyr</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/build-guide/build-with-zephyr.html#prepare">Prepare</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/build-guide/build-with-zephyr.html#check-out-and-build">Check out and build</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/build-guide/build-with-zephyr.html#run">Run</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started/index.html#set-up-sof-on-hardware">Set up SOF on hardware</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../getting_started/setup/setup_minnowboard_turbot.html">Set up SOF on MinnowBoard Turbot</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/setup/setup_minnowboard_turbot.html#minnowboard-resources">MinnowBoard resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/setup/setup_minnowboard_turbot.html#development">Development</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../getting_started/setup/setup_up_2_board.html">Set up SOF on Up Squared board with Hifiberry DAC+ (STD)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/setup/setup_up_2_board.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/setup/setup_up_2_board.html#setup-instructions">Setup Instructions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../getting_started/setup/setup_ktest_environment.html">Set up a Ktest-based environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/setup/setup_ktest_environment.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/setup/setup_ktest_environment.html#prerequisites-on-the-target-device">Prerequisites on the target device</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/setup/setup_ktest_environment.html#configure-ssh-without-password">Configure SSH without password</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/setup/setup_ktest_environment.html#create-a-linux-development-environment">Create a linux development environment</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started/index.html#debug-audio-issues-on-intel-platforms">Debug Audio issues on Intel platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../getting_started/intel_debug/introduction.html">Overview of Intel hardware platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/intel_debug/introduction.html#acpi-platforms-introduced-before-and-up-to-2015">ACPI platforms (introduced before and up to 2015)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/intel_debug/introduction.html#pci-devices-introduced-after-2016">PCI devices (introduced after 2016)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/intel_debug/introduction.html#user-space-and-filesystem-requirements">User space and filesystem requirements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../getting_started/intel_debug/suggestions.html">Suggestions before filing an SOF bug</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/intel_debug/suggestions.html#run-alsa-info">Run alsa-info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/intel_debug/suggestions.html#disable-sof-on-pci-hdaudio-devices-to-test-audio-playback">Disable SOF on PCI/HDaudio devices to test audio playback</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/intel_debug/suggestions.html#try-booting-into-windows-first-then-reboot-into-linux">Try booting into Windows first, then reboot into Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/intel_debug/suggestions.html#make-sure-the-me-is-enabled">Make sure the ME is enabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/intel_debug/suggestions.html#test-at-the-alsa-hw-device-level">Test at the ALSA ‘hw’ device level</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/intel_debug/suggestions.html#verify-mixer-settings">Verify mixer settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/intel_debug/suggestions.html#enable-dynamic-debug">Enable dynamic debug</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/intel_debug/suggestions.html#install-sof-logger">Install sof-logger</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started/index.html#sof-on-nxp-platforms">SOF on NXP platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../getting_started/nxp/sof_imx_user_guide.html">SOF User Guide on NXP i.MX8 platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/nxp/sof_imx_user_guide.html#supported-nxp-platforms">Supported NXP platforms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/nxp/sof_imx_user_guide.html#toolchain">Toolchain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/nxp/sof_imx_user_guide.html#quick-run-with-sof-from-i-mx8-board-support-package">Quick run with SOF from i.MX8 Board Support Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/nxp/sof_imx_user_guide.html#build-sof-binaries-from-sources">Build SOF binaries from sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../getting_started/nxp/sof_imx_user_guide.html#audio-scenarios">Audio scenarios</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../architectures/index.html">Supported Architectures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../architectures/host/index.html">Host Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../architectures/host/index.html#sof-driver-architecture">SOF Driver Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../architectures/host/index.html#linux-driver">Linux Driver</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../architectures/dsp/index.html">DSP Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../architectures/dsp/index.html#adding-a-new-dsp-architecture-to-sof">Adding a new DSP architecture to SOF</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../architectures/dsp/index.html#method-1-new-hal">Method 1 - New HAL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../architectures/dsp/index.html#method-2-use-existing-rtos">Method 2 - Use existing RTOS</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../architectures/dsp/index.html#vendor-specific-architecture-information">Vendor Specific Architecture Information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../architectures/dsp/index.html#intel">Intel</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../platforms/index.html">Platforms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../platforms/index.html#supported-platforms">Supported Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../platforms/index.html#minimum-platform-requirements">Minimum Platform Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../platforms/index.html#footprint">Footprint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platforms/index.html#dsp-clock-speed">DSP Clock Speed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../platforms/index.html#toolchain">Toolchain</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../platforms/index.html#platform-specific-information">Platform Specific Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../platforms/intel-legacy/index.html">Intel Hifi2-EP Platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../platforms/intel-legacy/merrifield/index.html">Intel Merrifield</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../platforms/intel-legacy/baytrail/index.html">Intel Baytrail/CherryTrail</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../platforms/intel-legacy/broadwell/index.html">Intel Broadwell</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../platforms/intel-cavs/index.html">Intel CAVS Platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../platforms/intel-cavs/commons/index.html">CAVS Commons</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../platforms/intel-cavs/apollolake/index.html">Intel Apollo Lake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../platforms/intel-cavs/cannonlake/index.html">Intel Cannon Lake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../platforms/intel-cavs/icelake/index.html">Intel Ice Lake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../platforms/intel-cavs/tigerlake/index.html">Intel Tiger Lake</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../algos/index.html">Algorithms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../algos/index.html#supplied-processing-algorithms">Supplied Processing Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../algos/index.html#algorithm-specific-information">Algorithm Specific Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../algos/src/sample_rate_conversion.html">Sample Rate Conversion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../algos/src/sample_rate_conversion.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../algos/src/sample_rate_conversion.html#use-of-src-generator-tool">Use of SRC generator tool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../algos/src/sample_rate_conversion.html#test-the-src-component">Test the SRC component</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../algos/src/sample_rate_conversion.html#polyphase-decomposition">Polyphase decomposition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../algos/src/sample_rate_conversion.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../algos/demux/demux.html">Multiplexer/Demultiplexer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../algos/demux/demux.html#introduction">Introduction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../algos/tdfb/time_domain_fixed_beamformer.html">Time Domain Fixed Beamformer (TDFB)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../algos/tdfb/time_domain_fixed_beamformer.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../algos/tdfb/time_domain_fixed_beamformer.html#beamformer-types">Beamformer types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../algos/tdfb/time_domain_fixed_beamformer.html#microphone-array-geometries">Microphone array geometries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../algos/tdfb/time_domain_fixed_beamformer.html#filter-bank-design-procedure">Filter bank design procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../algos/tdfb/time_domain_fixed_beamformer.html#design-examples">Design examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../algos/tdfb/time_domain_fixed_beamformer.html#simulation">Simulation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Developer Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../introduction.html">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../introduction.html#sof-core-concepts">SOF Core Concepts</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Firmware</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../component-tutorial/tut-intro.html">Hello World Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../component-tutorial/tut-i-basic-fw-code.html">Part I - Adding a Component Code to FW</a></li>
<li class="toctree-l4"><a class="reference internal" href="../component-tutorial/tut-ii-topology.html">Part II - Modifying the Topology &amp; Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../component-tutorial/tut-iii-runtime-params.html">Part III - Adding Run-time Parameter Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../component-tutorial/tut-iv-exceptions.html">Part IV - Working with Exception Reports</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../mem-mgmt.html">Memory Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../mem-mgmt.html#heap-memory-zones">Heap Memory Zones</a></li>
<li class="toctree-l4"><a class="reference internal" href="../mem-mgmt.html#system-zone">System Zone</a></li>
<li class="toctree-l4"><a class="reference internal" href="../mem-mgmt.html#runtime-zone">Runtime Zone</a></li>
<li class="toctree-l4"><a class="reference internal" href="../mem-mgmt.html#buffer-zone">Buffer Zone</a></li>
<li class="toctree-l4"><a class="reference internal" href="../mem-mgmt.html#shared-data">Shared Data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pm-runtime/index.html">Power Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pm-runtime/pm-dsp-core.html">Power Management for DSP Cores</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pm-runtime/intel/pm-dsp-core-cavs.html">cAVS pm-runtime for DSP core 0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pm-runtime/index.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../schedulers.html">Schedulers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../schedulers.html#scheduler-registration">Scheduler Registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../schedulers.html#low-latency-scheduler">Low Latency Scheduler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../schedulers.html#edf-scheduler">EDF Scheduler</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../drivers/index.html">Drivers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../drivers/index.html#registering-the-devices">Registering the Devices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../drivers/index.html#probing-on-demand">Probing on Demand</a></li>
<li class="toctree-l4"><a class="reference internal" href="../drivers/index.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../components/index.html">Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../components/component-overview.html">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../components/component-mgmt-api.html">Managing the Components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../pipelines/index.html">Pipelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../pipelines/index.html#creating-a-pipeline">Creating a Pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pipelines/index.html#executing-an-operation">Executing an Operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pipelines/index.html#resetting-pipeline">Resetting Pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pipelines/index.html#configuring-audio-parameters-preparing-for-use">Configuring Audio Parameters &amp; Preparing for Use</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pipelines/index.html#scheduling">Scheduling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pipelines/index.html#processing">Processing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../porting.html">Porting Guides</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../porting.html#architecture-porting-guide">Architecture Porting Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../porting.html#platform-porting-guide">Platform Porting Guide</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Keyword detection</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Keyword Detection integration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../cmake.html">CMake Arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../cmake.html#firmware-unit-tests">Firmware &amp; Unit Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cmake.html#firmware">Firmware</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cmake.html#unit-tests">Unit Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cmake.html#host-testbench">Host Testbench</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../unit_tests.html">Unit Tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../unit_tests.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../unit_tests.html#configuring-for-unit-tests">Configuring for unit tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../unit_tests.html#example-running-tests-for-apl">Example: Running tests for APL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../unit_tests.html#compiling-unit-tests-without-a-cross-compilation-toolchain">Compiling unit tests without a cross-compilation toolchain</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../unit_tests.html#wrapping-objects-for-unit-tests">Wrapping objects for unit tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../unit_tests.html#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../xtrun/index.html">Xtensa Simulator (xt-run)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../xtrun/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../xtrun/index.html#standalone-programs">Standalone programs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../xtrun/index.html#unit-tests">Unit tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../topology/topology.html">SOF Topology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../topology/topology.html#topology-ingredients">1. Topology Ingredients</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../topology/topology.html#widgets">1.1 Widgets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../topology/topology.html#tokens-vendor-tuples">1.2 Tokens/Vendor Tuples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../topology/topology.html#kcontrols">1.3 Kcontrols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../topology/topology.html#pipelines">1.4 Pipelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../topology/topology.html#backend-dai">1.5 Backend DAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../topology/topology.html#backend-dai-link-config">1.6 Backend DAI link Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../topology/topology.html#dsp-core-index">1.7 DSP Core Index</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../topology/topology.html#create-a-new-topology">2. Create a new topology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../topology/topology.html#example-topology-with-single-pipeline">2.1 Example topology with single pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../topology/topology.html#example-topology-with-multiple-pipelines">2.2 Example topology with multiple pipelines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../topology/topology.html#debug-topology">3. Debug topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../topology/topology.html#acronyms">4. Acronyms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../uuid/index.html">UUID Usage in SOF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../uuid/index.html#why-uuids">Why UUIDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../uuid/index.html#uuid-allocation">UUID allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../uuid/index.html#uuid-in-topology">UUID in topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../uuid/index.html#linux-topology-driver">Linux topology driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../uuid/index.html#uuid-arrays-stored-section">UUID arrays stored section</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../uuid/index.html#uuid-to-component-driver-mapping">UUID to component driver mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../uuid/index.html#abi-alignment-for-uuid-support">ABI alignment for UUID support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../debugability/index.html">Debugability</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../debugability/traces/index.html">Traces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../debugability/traces/index.html#building-processing-traces">Building &amp; Processing Traces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../debugability/traces/index.html#enabling-traces">Enabling Traces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../debugability/traces/index.html#adding-traces">Adding Traces</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../debugability/logger/index.html">Logger</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../debugability/logger/index.html#logger-usage">Logger usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../debugability/logger/index.html#trace-filtering">Trace filtering</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../debugability/coredump-reader/index.html">Coredump-reader</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../debugability/coredump-reader/index.html#coredump-reader-usage">Coredump-reader usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../debugability/probes/index.html">Probes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../debugability/probes/index.html#requirements">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../debugability/probes/index.html#enabling-probes">Enabling Probes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../debugability/probes/index.html#data-extraction">Data extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../debugability/probes/index.html#data-parsing">Data parsing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../debugability/ri-info/index.html">sof-ri-info</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../debugability/ri-info/index.html#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tuning/sof-ctl.html">Runtime Tuning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tuning/sof-ctl.html#find-out-effect-numids">Find out effect numids</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tuning/sof-ctl.html#example-equalizer-settings">Example equalizer settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tuning/sof-ctl.html#help">Help</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../rimage/index.html">Rimage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../rimage/extended_manifest.html">Extended Manifest</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../rimage/extended_manifest.html#build-flow">Build flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../rimage/extended_manifest.html#add-a-new-element">Add a new element</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../rimage/index.html#build-flow">Build flow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../linux_driver/index.html">SOF Linux Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../linux_driver/architecture/sof_driver_arch.html">SOF Driver Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../linux_driver/architecture/sof_driver_arch.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../linux_driver/architecture/sof_driver_arch.html#driver-probe">Driver Probe</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../linux_driver/architecture/sof_driver_arch.html#sof-platform-driver">SOF Platform Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../linux_driver/architecture/sof_driver_arch.html#ipc-processing">IPC Processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../linux_driver/architecture/sof_driver_arch.html#pcm-driver">PCM Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../linux_driver/architecture/sof_driver_arch.html#power-management">Power Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../linux_driver/architecture/sof_driver_arch.html#intel-drivers">Intel Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../linux_driver/architecture/sof_driver_arch.html#support-for-high-definition-audio-hd-audio">Support for High Definition Audio (HD-Audio)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../linux_driver/architecture/sof_driver_arch.html#kernel-configuration-kconfig">Kernel Configuration/Kconfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../linux_driver/architecture/sof_driver_arch.html#debug-options">Debug Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../linux_driver/third_party/index.html">Third Party Features User Guides</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../linux_driver/third_party/keyword_detect/keyword_detect.html">Keyword Detection Driver Implementation and User Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../virtualization/virtualization.html">SOF VirtIO design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../virtualization/virtualization.html#general-information">General information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../virtualization/virtualization.html#id1">SOF VirtIO design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../virtualization/virtualization.html#communication-channels">Communication channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../virtualization/virtualization.html#topology">Topology</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../virtualization/virtualization.html#dpcm-audio-routing">DPCM audio routing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../virtualization/virtualization.html#implementation">Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../virtualization/virtualization.html#initialization">Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../virtualization/virtualization.html#streaming">Streaming</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../virtualization/virtualization.html#deactivation">Deactivation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../virtualization/running.html">Run SOF VirtIO</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../virtualization/running.html#general-information">General information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../virtualization/running.html#create-a-vm-image">1. Create a VM image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../virtualization/running.html#build-the-linux-kernel">2. Build the Linux kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../virtualization/running.html#build-qemu">3. Build QEMU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../virtualization/running.html#build-the-sof-firmware">4. Build the SOF firmware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../virtualization/running.html#run-qemu">5. Run QEMU</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../fuzzing/index.html">Fuzzing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../fuzzing/fuzzing_in_docker.html">Fuzzing in Docker</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../fuzzing/fuzzing_in_docker.html#instructions">Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../fuzzing/fuzzing_in_docker.html#important-notes">Important notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../fuzzing/testbench_afl_fuzzing.html">Build a Fuzzing Testbench with AFL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../fuzzing/testbench_afl_fuzzing.html#install-afl">Install AFL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../fuzzing/testbench_afl_fuzzing.html#build-a-testbench-with-afl-instrumentation">Build a testbench with AFL instrumentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../fuzzing/testbench_afl_fuzzing.html#run-afl">Run AFL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../fuzzing/testbench_afl_fuzzing.html#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../testbench/index.html">Testbench</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../testbench/build_testbench.html">Build and Run Testbench</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../testbench/build_testbench.html#host-testbench-sh">host-testbench.sh</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../testbench/debug_in_testbench.html">Debug Component in Testbench</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../testbench/debug_in_testbench.html#gdb-and-ddd">GDB and DDD</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../testbench/debug_in_testbench.html#valgrind">Valgrind</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../testbench/debug_in_testbench.html#gprof">Gprof</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../testbench/prepare_new_component.html">Prepare a New Component for Testbench</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../testbench/test_audio_quality.html">Test Audio Quality</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#technical-notes">Technical Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tech/build-cmocka.html">Build Cmocka for Xtensa</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tech/build-cmocka.html#cmocka-fork">Cmocka fork</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tech/build-cmocka.html#simple-build-on-linux">Simple build on Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tech/build-cmocka.html#cross-platform-build">Cross-platform build</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../tech/compile_wsl.html">Build on Windows 10 with WSL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../tech/compile_wsl.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tech/compile_wsl.html#enable-32-bit-binaries">Enable 32-bit binaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tech/compile_wsl.html#fix-stat-in-32-bit-binaries">Fix stat in 32-bit binaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../tech/compile_wsl.html#compile">Compile</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../release.html">Release</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../release.html#firmware-and-tools">Firmware and Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../release.html#git">Git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../release.html#source-and-binary-releases">Source and Binary Releases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../release.html#linux-driver">Linux Driver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../contribute/index.html">Contributing to the Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../contribute/contribute_guidelines.html">Contribution Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/contribute_guidelines.html#licensing">Licensing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/contribute_guidelines.html#developer-certification-of-origin-dco">Developer Certification of Origin (DCO)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../contribute/contribute_guidelines.html#dco-sign-off-methods">DCO Sign-Off Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/contribute_guidelines.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../contribute/doc_guidelines.html">Documentation Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/doc_guidelines.html#headings">Headings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/doc_guidelines.html#content-highlighting">Content Highlighting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/doc_guidelines.html#lists">Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/doc_guidelines.html#multi-column-lists">Multi-column lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/doc_guidelines.html#file-names-and-commands">File names and Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/doc_guidelines.html#internal-cross-reference-linking">Internal Cross-Reference Linking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/doc_guidelines.html#non-ascii-characters">Non-ASCII Characters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/doc_guidelines.html#code-and-command-examples">Code and Command Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/doc_guidelines.html#tabs-spaces-and-indenting">Tabs, spaces, and indenting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../contribute/dox-source-code.html">Documenting the Source Code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/dox-source-code.html#basic-rules">Basic Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/dox-source-code.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../contribute/process/bug-tracking.html">Bug Tracking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/bug-tracking.html#life-cycle-of-a-bug">Life Cycle of a Bug</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/bug-tracking.html#labels">Labels</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../contribute/process/bug-tracking.html#solution-labels">Solution Labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../contribute/process/bug-tracking.html#priority-labels">Priority Labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../contribute/process/bug-tracking.html#plaform-and-branch-labels">Plaform and Branch Labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../contribute/process/bug-tracking.html#other-optional-labels">Other optional Labels</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/bug-tracking.html#how-to-report-a-bug">How to Report a Bug</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/bug-tracking.html#how-to-close-a-bug">How to Close a Bug</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../contribute/process/docbuild.html">SOF Documentation Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/docbuild.html#documentation-overview">Documentation overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/docbuild.html#set-up-documentation-working-folders">Set up documentation working folders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/docbuild.html#install-documentation-tools">Install documentation tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/docbuild.html#documentation-presentation-theme">Documentation presentation theme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/docbuild.html#run-documentation-processors">Run documentation processors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/docbuild.html#publish-content">Publish content</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/docbuild.html#installation-troubleshooting">Installation troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/docbuild.html#windows-troubleshooting">Windows troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/docbuild.html#diagram-compilation-troubleshooting">Diagram compilation troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../contribute/process/abiprocess.html">SOF ABI Change Process</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/abiprocess.html#sof-abi-definitions">SOF ABI definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/abiprocess.html#change-process">Change process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/abiprocess.html#document-modified-fields">Document modified fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/process/abiprocess.html#abi-change-approvers">ABI change approvers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../contribute/process/abiprocess.html#tsc">TSC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../contribute/process/abiprocess.html#sof-driver">SOF driver</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../contribute/linux/development_tree.html">Linux SOF drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/linux/development_tree.html#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/linux/development_tree.html#instructions-for-sof-developers">Instructions for SOF developers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../contribute/linux/development_tree.html#abi-changes">ABI changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../contribute/linux/development_tree.html#development-branch">Development branch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../contribute/linux/development_tree.html#rebasing-tree">Rebasing tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../contribute/linux/development_tree.html#upstream-merges">Upstream merges</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/linux/development_tree.html#development-flow">Development flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../contribute/linux/development_tree.html#sof-linux-maintainers">SOF Linux maintainers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../contribute/linux/development_tree.html#sof-maintainers-process">SOF maintainers process</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../contribute/linux/development_tree.html#development-summary">Development summary</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../tsc/index.html">Technical Steering Committee (TSC)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../tsc/representatives.html">TSC Representatives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tsc/meetings.html">TSC Meetings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../maintainers/index.html">SOF admin, maintainers and code owners</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../maintainers/admin.html">SOF admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../maintainers/merge_rights.html">Merge rights</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../maintainers/code_owners.html">SOF code owners</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../api/uuid-api.html">UUID API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/dma-drivers-api.html">DMA Drivers API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/dai-drivers-api.html">DAI Drivers API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/pm-runtime-api.html">PM Runtime API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/platform-api.html">Platform API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/memory-alloc-api.html">Memory Allocation API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/audio-stream-api.html">Audio Stream API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/component-api.html">Component API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/component-ext-api.html">Component API Ext</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api/uapi.html">uAPI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../presentations/index.html">Presentations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../presentations/index.html#sof-mentions">SOF Mentions</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">SOF Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Developer Guides</a> &raquo;</li>
          <li><a href="../index.html">Firmware</a> &raquo;</li>
          <li><a href="index.html">Keyword detection</a> &raquo;</li>
      <li>Keyword Detection integration</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="keyword-detection-integration">
<span id="kd-integration"></span><h1>Keyword Detection integration<a class="headerlink" href="#keyword-detection-integration" title="Permalink to this headline">¶</a></h1>
<p>Keyword Detection (KD), also known as Voice Activation or Sound Trigger, is
a feature that triggers a speech recognition engine when a predefined
keyphrase (keyword) is successfully detected. Offloading the keyphrase
detection algorithm to the embedded processing environment (i.e. dedicated
DSP) reduces system power consumption while listening for an utterance.</p>
<p>The terms Voice Activation and Keyphrase Detection are often used
interchangeably to describe end-to-end system-level use cases that include:</p>
<ul class="simple">
<li><p>Keyphrase detection algorithm</p></li>
<li><p>Keyphrase enrollment (parametrization of keyphrase detection algorithm)</p></li>
<li><p>Management of an audio stream that is used to transport utterances</p></li>
<li><p>Steps made to reduce system-level power consumption</p></li>
<li><p>System wakeup on keyphrase detection</p></li>
</ul>
<p>The Keyphrase Detector component typically is used to identify a
firmware processing component that implements an algorithm for keyphrase
detection in an audio stream.</p>
<p>The speech audio stream is used to indicate that the stream is primarily used
to deliver data to the automatic speech recognition (ASR) algorithm. The
voice audio stream typically indicates that the recipient of audio data is a
human.</p>
<p>Depending on system-level requirements for the keyphrase detection algorithm
and the speech recognition engine, different policies for keyphrase buffering
and voice data streaming may be applied. This document covers the reference
implementation available in SOF. The following sections cover the functional
scope.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, SOF implements the Keyphrase Detector component with a
reference trigger function that allows testing of E2E flow by detecting
a rapid volume change.</p>
</div>
<div class="section" id="timing-sequence">
<h2>Timing sequence<a class="headerlink" href="#timing-sequence" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default" id="id2">
<span id="id1"></span><p class="plantuml">
<object data="../../../_images/plantuml-5c9b4ff941288ccbb9f352cf6a7cdac2367d110e.svg" type="image/svg+xml" style="width:955px;height:218px;">
<img src="../../../_images/plantuml-5c9b4ff941288ccbb9f352cf6a7cdac2367d110e.png" alt="&#64;startuml

scale max 1024 width

footer: timeline not to scale 
robust &quot;Speech application&quot; as App
concise &quot;Audio Stream&quot; as Audio

App is idle
Audio is &quot;Preceeding&quot;

&#64;App
0 is idle
+180 is Processing

&#64;Audio
0 is Keyphrase
&#64;0 &lt;-&gt; &#64;100 : keyphrase length - L1
&#64;100 &lt;-&gt; &#64;+80 : detection\ntime - L2
&#64;180 &lt;-&gt; &#64;+80 : burst \ntransmission time - L3
Audio&#64;180 -&gt; App&#64;180 : notification
&#64;260 &lt;-&gt; &#64;+60 : safety \nmargin - L4
100 is Command
+200 is Following
&#64;enduml
"/>

</object></p>
<p class="caption"><span class="caption-number">Figure 67 </span><span class="caption-text">Basic diagram for a timing sequence</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>A keyphrase is preceded by a period of silence and is followed by a user
command. In order to balance power savings and user experience, the host
system (CPU) is activated only if a keyphrase is detected. To reduce the
number of false triggers for user commands, the keyphrase can be sent to the
host for additional (2nd stage) verification. This requires the FW to buffer
the keyphrase in a memory. Keyphrase transmission to the host is as fast as
possible (faster than real-time) to reduce latency for a system response.</p>
</div>
<div class="section" id="end-2-end-flows">
<h2>End-2-End flows<a class="headerlink" href="#end-2-end-flows" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default" id="id3">
<p class="plantuml">
<object data="../../../_images/plantuml-31b5e3661e39c1a3ebcedc19d2bb23568b29b364.svg" type="image/svg+xml" style="width:1026px;height:1060px;">
<img src="../../../_images/plantuml-31b5e3661e39c1a3ebcedc19d2bb23568b29b364.png" alt="&#64;startuml

scale max 1024 width

participant &quot;Userspace component&quot; as usr
participant &quot;Audio driver&quot; as drv
participant &quot;FW infrastructure&quot; as fw
participant &quot;Data transfer to Host&quot; as dma
participant &quot;Keyword detection algorithm&quot; as kda
participant &quot;Data transfer to DSP&quot; as gpdma

box &quot;Linux User/Kernel space&quot; #LavenderBlush
	participant usr
	participant drv
end box

box &quot;DSP&quot; #LightBlue
	participant fw
	participant dma
	participant kda
	participant gpdma
end box

activate fw

drv -&gt; fw : Setup audio topology \n (Speech Capture &amp; Keyword Detection pipes)
usr -&gt; drv : Prepare &amp; Open PCM capture \n(snd_pcm_open/snd_pcm_hw_params)
drv -&gt; fw : Stream Open &amp; Preparation
drv -&gt; fw : HW Params
group optional (depends on keyword detection algorithm implementation)
 usr -&gt; drv : Send keyword detection algorithm parameters \n (snd_ctl_elem_tlv_write)
 drv -&gt; fw : Send keyword detection algorithm parameters
 fw -&gt; kda : Send keyword detection algorithm parameters
end

drv -&gt;drv : DAPM power up event
drv -&gt; fw : HW Params for Keyphrase Detection Pipeline
usr -&gt; drv : Trigger start (alsamixer)
drv -&gt; fw : Keyword detection algorithm &amp; buffer manager triggered

fw -&gt; fw : Keyphrase Buffer Manager \nin acquisition mode
fw -&gt; gpdma 

activate gpdma

fw -&gt; kda : keypharse detection enabled

activate kda

usr -&gt; drv : Trigger start (snd_pcm_read)

note over usr
Speech application indefinitely 
waits for data.
end note 

ref over usr, drv, fw , gpdma, kda, dma  
Speech Capture pipeline is not transmitting data to Host system
Host system may enter the low power state
end ref

loop keyword detection algorithm \nexecuted on DSP
 kda &lt;- gpdma 
end

hnote over kda : keyword is detected

fw &lt;-- kda : FW event on keyword detection
fw -&gt; kda : keyword detection disabled

deactivate kda 

fw -&gt; fw : Keyphrase Buffer Manager \nin drain mode
drv &lt;-- fw : notification on keyword detection
'drv -&gt; fw : enable data transission to Host \n(Capture[Speech] pipeline to Host is running)
usr &lt;-- drv : notification on keyword detection (optional)
gpdma -&gt; dma 

activate dma

ref over dma 
Sending a burst of historic data (approx.2s) 
with detected keyword for
second stage verification on host.
end ref

gpdma &lt;-- dma 

deactivate dma

usr &lt;-- drv : snd_pcm_read completed 

fw -&gt; fw : Keyphrase Buffer Manager \nin passthrough mode 

loop Realtime capture
 usr -&gt; drv : snd_pcm_read
 gpdma -&gt; dma 
 activate dma
 gpdma &lt;-- dma 

 deactivate dma
 usr &lt;-- drv : snd_pcm_read completed 
end 

ref over usr 
User space optionally performs second stage keyword verification.
end ref

usr -&gt; drv : Trigger stop (alsamixer)
drv -&gt;drv : DAPM power down event
drv -&gt; fw : Stop Keyphrase Detection algorithm pipeline
usr -&gt; drv : Trigger stop (snd_pcm_drop / snd_pcm_free)
drv -&gt; fw : Close Speech capture stream
fw -&gt; gpdma 

deactivate gpdma

ref over usr, drv, fw , gpdma, kda, dma  
The flow can be repeated for next user command starting from snd_pcm_open()
end ref

deactivate fw
&#64;enduml"/>

</object></p>
<p class="caption"><span class="caption-number">Figure 68 </span><span class="caption-text">E2E flow for SW/FW components</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>The fundamental assumption for the flow is that the keyphrase detection
sequence is controlled by the user space component (application) that opens
and closes the speech audio stream. The audio topology must be set up
before the speech stream is opened. There is an optional sequence to
customize the keyword detection algorithm by behavior by sending run-time
parameters.</p>
<p>During the Stream Open and Preparation phase, HW parameters are sent to the
DAI and configuration parameters are passed from the topology to the FW
components. The DAPM events handlers are used to control a Keyphrase
Detector node of the FW topology graph by the audio driver. Once the
keyphrase is detected, a notification is sent to the driver. At the same
time, an internal event in the FW triggers, draining buffered audio data in
burst mode to the host. Once the buffer is drained, the speech capture
pipeline starts to work as a passthrough capture until it is closed by the
user space application.</p>
</div>
<div class="section" id="fw-topology">
<h2>FW topology<a class="headerlink" href="#fw-topology" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default" id="id4">
<p class="plantuml">
<object data="../../../_images/plantuml-0f11ce3b422015e633b866e8a6068781053634b3.svg" type="image/svg+xml" style="width:993px;height:395px;">
<img src="../../../_images/plantuml-0f11ce3b422015e633b866e8a6068781053634b3.png" alt="&#64;startuml

scale max 1024 width

skinparam rectangle {
   backgroundColor&lt;&lt;dai&gt;&gt; #6fccdd
   backgroundColor&lt;&lt;dma&gt;&gt; #f6ed80
   backgroundColor&lt;&lt;stream&gt;&gt; #d6d6de
   borderColor&lt;&lt;stream&gt;&gt; #d6d6de
   borderColor&lt;&lt;ppl&gt;&gt; #a1a1ca

   backgroundColor&lt;&lt;event&gt;&gt; #f05772
   stereotypeFontColor&lt;&lt;event&gt;&gt; #ffffff
   fontColor&lt;&lt;event&gt;&gt; #ffffff

   backgroundColor&lt;&lt;cpu&gt;&gt; #f0f0f0
}


together {
rectangle &quot;MIC HW&quot; as dmic #DDDDDD

rectangle &quot;Speech Capture Pipeline&quot; as ppl_1 &lt;&lt;FW pipeline &gt;&gt;{
 rectangle &quot;MIC DAI&quot; as dai_1 &lt;&lt;dai&gt;&gt;
 rectangle &quot;Keyphrase Buffer Manager&quot; as kpb
 dai_1 -&gt; kpb : 2ch/16kHz/16bit
 rectangle &quot;Host&quot; as host
 }

}

rectangle &quot;Keyphrase Detector Pipeline&quot; as ppl_2 &lt;&lt;FW pipeline &gt;&gt;{
 rectangle &quot;Channel selector&quot; as sel
 rectangle &quot;Keyphrase detection algorithm&quot; as wov
 sel -&gt; wov : 1ch/16kHz/16bit
}

rectangle &quot;Host System&quot; as hsys {
 rectangle &quot;Host Memory&quot; as hmem #DDDDDD
}

dmic -&gt; dai_1
kpb -&gt; host
kpb -&gt; sel : 2ch/16kHz/16bit
host -&gt; hmem : 2ch/16kHz/16bit
wov ..&gt; kpb : FW events
wov ..&gt; hsys : FW notifications
&#64;enduml"/>

</object></p>
<p class="caption"><span class="caption-number">Figure 69 </span><span class="caption-text">Basic diagram for FW components topology</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<p>The diagram above provides an overview of FW and HW components that play a
role in keyphrase detection flows. The components are organized in pipelines:</p>
<ol class="arabic simple">
<li><p>Speech capture pipeline</p>
<ol class="loweralpha simple">
<li><p>DMIC DAI configures the HW interface to capture data from microphones.</p></li>
<li><p>The Keyphrase Buffer Manager is responsible for managing the data
captured by microphones. This includes control of an internal buffer
for incoming data and routing of incoming audio samples. The
audio buffer with historic audio data is implemented as a cyclic
buffer. While listening to a keyphrase, the component stores incoming
data in an internal buffer and copies it to a sink that leads toward
the keyword detector component. On successful detection of a
keyphrase, the buffer is drained during a burst transmission to a
host. Once the buffer is drained, it starts to work as a passthrough
component on a capture pipeline.</p></li>
<li><p>The host component configures transport (over DMA) to the host system.
The component is responsible for transmitting from local memory
(FW accessible) to remote (host CPU accessible) memory.</p></li>
</ol>
</li>
<li><p>Keyphrase detector pipeline</p>
<ol class="loweralpha simple">
<li><p>The channel selector is responsible for providing a single channel on
input to the keyphrase detection algorithm. The decision of which
channel to select is made by the platform integrator. The component
can accept parameters from a topology file.</p></li>
<li><p>The keyphrase detection algorithm accepts audio frames and returns
information if a keyphrase is detected. Note that the FW infrastructure
can allow a FW event to be sent to the Keyphrase Buffer Manager
component if a keyphrase is detected. The component also sends a
notification to the audio driver and implements large parameters
support.</p></li>
</ol>
</li>
</ol>
</div>
<div class="section" id="kpbm-state-diagram">
<h2>KPBM state diagram<a class="headerlink" href="#kpbm-state-diagram" title="Permalink to this headline">¶</a></h2>
<p>The state diagram below presents all possible keyphrase buffer manager states
as well as the valid relationships between them.</p>
<div class="figure align-default" id="id5">
<p class="plantuml">
<object data="../../../_images/plantuml-0bf567384434e6e6e6362eec52172e4828514ed6.svg" type="image/svg+xml" style="width:936px;height:1451px;">
<img src="../../../_images/plantuml-0bf567384434e6e6e6362eec52172e4828514ed6.png" alt="&#64;startuml
[*] --&gt; KPB_DISABLED:  Start \nor\n [IPC] free \nmessage \nfrom either  state
KPB_DISABLED: Starting state of KPB - \nNo action has been taken yet
KPB_DISABLED--&gt; KPB_CREATED: [IPC] \nnew component
KPB_DISABLED-[#0000FF]-&gt; KPB_DISABLED: [IPC] \nreset

KPB_CREATED : New KPB component has been created
KPB_CREATED --&gt; KPB_PREPARING: [IPC] \npcm params
KPB_CREATED -[#0000FF]-&gt; KPB_CREATED : [IPC] \nreset

KPB_PREPARING: Prepare Key Phrase Buffer component.
KPB_PREPARING-&gt; KPB_STATE_RUN: Success
KPB_PREPARING-&gt; KPB_PREPARING: Failure
KPB_PREPARING-[#0000FF]-&gt; KPB_PREPARING: [IPC] \nreset

KPB_STATE_RUN: KPB is prepared and ready.
KPB_STATE_RUN-[#0000FF]-&gt; KPB_PREPARING: [IPC] \nreset
KPB_STATE_RUN---&gt; KPB_STATE_INIT_DRAINING: [EVENT] \nkey phrase detected
KPB_STATE_RUN-&gt; KPB_STATE_BUFFERING: Start \nbuffering

KPB_STATE_BUFFERING: Buffer incoming samples in the \ninternal history buffer
KPB_STATE_BUFFERING-&gt; KPB_STATE_RUN: Done
KPB_STATE_BUFFERING-&gt; KPB_STATE_INIT_DRAINING: Done
KPB_STATE_BUFFERING-&gt; KPB_STATE_DRAINING: Done
KPB_STATE_BUFFERING-[#0000FF]-&gt; KPB_STATE_RESETTING: [IPC] \nreset

KPB_STATE_INIT_DRAINING: KPB received detection event
KPB_STATE_INIT_DRAINING-[#0000FF]-&gt; KPB_PREPARING: [IPC] \nreset
KPB_STATE_INIT_DRAINING--&gt; KPB_STATE_DRAINING: Draining task starts
KPB_STATE_INIT_DRAINING--&gt; KPB_STATE_BUFFERING: Start \nbuffering

KPB_STATE_DRAINING: KPB is draining internal history buffer \nto the client's buffer
KPB_STATE_DRAINING--&gt;KPB_STATE_HOST_COPY: Draining done
KPB_STATE_DRAINING-[#0000FF]-&gt; KPB_STATE_RESETTING: [IPC] \nreset
KPB_STATE_DRAINING--&gt; KPB_STATE_BUFFERING: Start \nbuffering

KPB_STATE_RESETTING: KPB is preparing itself for the reset
KPB_STATE_RESETTING--&gt;KPB_STATE_RESET_FINISHING

KPB_STATE_RESET_FINISHING: KPB is finishing reset sequence
KPB_STATE_RESET_FINISHING-&gt;KPB_PREPARING: Reset done

KPB_STATE_HOST_COPY: KPB is copying real time \nstream into client's buffer
&#64;enduml
"/>

</object></p>
<p class="caption"><span class="caption-number">Figure 70 </span><span class="caption-text">Keyphrase buffer manager state diagram</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="latency-buffering">
<h2>Latency &amp; buffering<a class="headerlink" href="#latency-buffering" title="Permalink to this headline">¶</a></h2>
<p>This section covers calculations needed to be done to properly configure
the keyphrase buffer size. The symbols used in a formula below are depicted
above; see <a class="reference internal" href="#id1"><span class="std std-ref">Basic diagram for a timing sequence</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The formula for size of a keyphrase buffer:
( L1 + L2 + L3 + L4 ) * number of channels * bitdepth = Size [Kb]</p>
</div>
<p>Specifically:</p>
<ol class="arabic simple">
<li><p>L1 is defined as length of a keyphrase with preceding or trailing silence.
The value depends highly on the keyphrase itself and detection algorithm
requirements.</p></li>
<li><p>L2 is a sum of the algorithmic (processing) latency of a detection
algorithm and the additional time needed to execute additional components
in pipelines as well as prepare and send notifications.</p></li>
<li><p>L3 is the time required to send already-buffered data to the host.
Typically, a Write Pointer (WP) is used to indicate where data that’s
coming from microphones is written to a keyphrase buffer. The keyphrase
buffer is organized as a cyclic buffer and the WP moves if data is coming
from mics at a regular rate. The Read Pointer (RP) indicates from which
offset in the buffer data is fetched to host. To start burst
transmission, the RP is set to the WP - “history depth” position. The
history depth is defined at FW or is passed from topology. The RP moves
faster than the WP due to draining that is executed as a background task.
The draining phase lasts until the RP again reaches the WP, which
moves at a regular (slower) rate. This signals the end of the L3 period
and the RP follows the WP at a rate that the data is available in the DAI
DMA buffer. Implementation note: “history depth” may be updated
on-the-fly during the draining phase if new data is captured in the
meantime.</p></li>
<li><p>L4 is a safety margin that can be accommodated in any period of time
defined above. It is explicitly defined to make sure it is included in
the calculation. L4 length depends on: an audio frame size that is
processed by a detector; the amount of detector compute time; the output
audio format; the keyphrase buffer size; etc.</p></li>
</ol>
</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, SOF Project.
      <span class="lastupdated">Last updated on Sep 21, 2021.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>