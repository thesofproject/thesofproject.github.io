<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Build toolchains and SOF from sources &mdash; SOF Project 2.2 documentation</title><link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sof-custom.css" type="text/css" /><link rel="shortcut icon" href="../../_static/sof-favicon-16x16.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Build SOF with Docker" href="build-with-docker.html" />
    <link rel="prev" title="Getting Started Guides" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> SOF Project<img src="../../_static/logo_sof_white_200w.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference external" href="https://sofproject.org">SOF project website</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction to the SOF Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/index.html#sdk-introduction-and-overview">SDK Introduction and Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../introduction/index.html#sof-source-code-tools-and-topologies">SOF source code, tools, and topologies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introduction/index.html#host-os-drivers">Host OS Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introduction/index.html#firmware-toolchain">Firmware Toolchain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../introduction/index.html#dsp-emulator">DSP Emulator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/index.html#general-faq">General FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/index.html#toolchain-faq">Toolchain FAQ</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Getting Started Guides</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#build-sof">Build SOF</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Build toolchains and SOF from sources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#step-1-set-up-the-workspace-directory">Step 1. Set up the workspace directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-2-set-up-build-environment">Step 2. Set up build environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-3-build-toolchains-from-source">Step 3. Build toolchains from source</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-4-build-and-sign-firmware-binaries">Step 4. Build and sign firmware binaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-5-build-topology-and-tools">Step 5. Build topology and tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-6-build-linux-kernel">Step 6. Build Linux kernel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="build-with-docker.html">Build SOF with Docker</a><ul>
<li class="toctree-l4"><a class="reference internal" href="build-with-docker.html#set-up-the-workspace-directory">Set up the workspace directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="build-with-docker.html#set-up-docker">Set up Docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="build-with-docker.html#build-firmware-binaries-with-docker">Build firmware binaries with Docker</a></li>
<li class="toctree-l4"><a class="reference internal" href="build-with-docker.html#build-topology-and-tools-with-docker">Build topology and tools with Docker</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="build-3rd-party-toolchain.html">Build SOF with a 3rd Party Toolchain</a><ul>
<li class="toctree-l4"><a class="reference internal" href="build-3rd-party-toolchain.html#cadence-tensilica-xtensa-c-c-compiler-xcc">Cadence® Tensilica® Xtensa® C/C++ Compiler (XCC)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="build-with-zephyr.html">Build SOF with Zephyr</a><ul>
<li class="toctree-l4"><a class="reference internal" href="build-with-zephyr.html#prepare">Prepare</a></li>
<li class="toctree-l4"><a class="reference internal" href="build-with-zephyr.html#check-out-and-build">Check out and build</a></li>
<li class="toctree-l4"><a class="reference internal" href="build-with-zephyr.html#run">Run</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#set-up-sof-on-a-linux-machine">Set up SOF on a Linux machine</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../setup_linux/prepare_build_environment.html">Set up a Development Environment to Build the Kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup_linux/install_locally.html">Install the Kernel Locally</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../setup_linux/install_locally.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../setup_linux/install_locally.html#build-and-install-the-kernel">Build and install the kernel</a></li>
<li class="toctree-l4"><a class="reference internal" href="../setup_linux/install_locally.html#update-and-rebuild">Update and rebuild</a></li>
<li class="toctree-l4"><a class="reference internal" href="../setup_linux/install_locally.html#remove-the-kernel">Remove the kernel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../setup_linux/setup_ktest_environment.html">Set up a Ktest-based Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../setup_linux/setup_ktest_environment.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../setup_linux/setup_ktest_environment.html#set-up-a-target">Set up a target</a></li>
<li class="toctree-l4"><a class="reference internal" href="../setup_linux/setup_ktest_environment.html#configure-ssh-without-password">Configure SSH without password</a></li>
<li class="toctree-l4"><a class="reference internal" href="../setup_linux/setup_ktest_environment.html#build-and-install-the-kernel-with-ktest">Build and install the kernel with ktest</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#set-up-sof-on-a-special-device">Set up SOF on a special device</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../setup_special_device/setup_minnowboard_turbot.html">Set up SOF on MinnowBoard Turbot</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../setup_special_device/setup_minnowboard_turbot.html#minnowboard-resources">MinnowBoard resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../setup_special_device/setup_minnowboard_turbot.html#development">Development</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../setup_special_device/setup_up_2_board.html">Set up SOF on Up Squared board with Hifiberry DAC+ (STD)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../setup_special_device/setup_up_2_board.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../setup_special_device/setup_up_2_board.html#setup-instructions">Setup Instructions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#debug-audio-issues-on-intel-platforms">Debug Audio issues on Intel platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../intel_debug/introduction.html">Overview of Intel hardware platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../intel_debug/introduction.html#acpi-platforms-introduced-before-and-up-to-2015">ACPI platforms (introduced before and up to 2015)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel_debug/introduction.html#pci-devices-introduced-after-2016">PCI devices (introduced after 2016)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel_debug/introduction.html#user-space-and-filesystem-requirements">User space and filesystem requirements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../intel_debug/suggestions.html">Suggestions before filing an SOF bug</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../intel_debug/suggestions.html#run-alsa-info">Run alsa-info</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel_debug/suggestions.html#disable-sof-on-pci-hdaudio-devices-to-test-audio-playback">Disable SOF on PCI/HDaudio devices to test audio playback</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel_debug/suggestions.html#try-booting-into-windows-first-then-reboot-into-linux">Try booting into Windows first, then reboot into Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel_debug/suggestions.html#make-sure-the-me-is-enabled">Make sure the ME is enabled</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel_debug/suggestions.html#test-at-the-alsa-hw-device-level">Test at the ALSA ‘hw’ device level</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel_debug/suggestions.html#verify-mixer-settings">Verify mixer settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel_debug/suggestions.html#enable-dynamic-debug">Enable dynamic debug</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel_debug/suggestions.html#install-sof-logger">Install sof-logger</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel_debug/suggestions.html#digital-mic-issues">Digital mic issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="../intel_debug/suggestions.html#es8336-support">ES8336 support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#sof-on-nxp-platforms">SOF on NXP platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../nxp/sof_imx_user_guide.html">SOF User Guide on NXP i.MX8 platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../nxp/sof_imx_user_guide.html#supported-nxp-platforms">Supported NXP platforms</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nxp/sof_imx_user_guide.html#toolchain">Toolchain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nxp/sof_imx_user_guide.html#quick-run-with-sof-from-i-mx8-board-support-package">Quick run with SOF from i.MX8 Board Support Package</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nxp/sof_imx_user_guide.html#build-sof-binaries-from-sources">Build SOF binaries from sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="../nxp/sof_imx_user_guide.html#audio-scenarios">Audio scenarios</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../architectures/index.html">Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../architectures/host/index.html">Host Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../architectures/host/linux_driver/architecture/sof_driver_arch.html">SOF Linux Driver Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/host/linux_driver/architecture/sof_driver_arch.html#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/host/linux_driver/architecture/sof_driver_arch.html#driver-probe">Driver Probe</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/host/linux_driver/architecture/sof_driver_arch.html#sof-platform-driver">SOF Platform Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/host/linux_driver/architecture/sof_driver_arch.html#ipc-processing">IPC Processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/host/linux_driver/architecture/sof_driver_arch.html#pcm-driver">PCM Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/host/linux_driver/architecture/sof_driver_arch.html#power-management">Power Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/host/linux_driver/architecture/sof_driver_arch.html#intel-drivers">Intel Drivers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/host/linux_driver/architecture/sof_driver_arch.html#support-for-high-definition-audio-hd-audio">Support for High Definition Audio (HD-Audio)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/host/linux_driver/architecture/sof_driver_arch.html#kernel-configuration-kconfig">Kernel Configuration/Kconfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/host/linux_driver/architecture/sof_driver_arch.html#debug-options">Debug Options</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../architectures/firmware/index.html">Firmware Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../architectures/firmware/overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../architectures/firmware/mem-mgmt.html">Memory Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/mem-mgmt.html#heap-memory-zones">Heap Memory Zones</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/mem-mgmt.html#system-zone">System Zone</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/mem-mgmt.html#runtime-zone">Runtime Zone</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/mem-mgmt.html#buffer-zone">Buffer Zone</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/mem-mgmt.html#shared-data">Shared Data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../architectures/firmware/pm-runtime/index.html">Power Management</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/pm-runtime/pm-dsp-core.html">Power Management for DSP Cores</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/pm-runtime/intel/pm-dsp-core-cavs.html">cAVS pm-runtime for DSP core 0</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/pm-runtime/index.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../architectures/firmware/schedulers.html">Schedulers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/schedulers.html#scheduler-registration">Scheduler Registration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/schedulers.html#low-latency-scheduler">Low Latency Scheduler</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/schedulers.html#edf-scheduler">EDF Scheduler</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../architectures/firmware/drivers/index.html">Drivers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/drivers/index.html#registering-the-devices">Registering the Devices</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/drivers/index.html#probing-on-demand">Probing on Demand</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/drivers/index.html#api">API</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../architectures/firmware/components/index.html">Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/components/component-overview.html">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/components/component-mgmt-api.html">Managing the Components</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../architectures/firmware/pipelines/index.html">Pipelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/pipelines/index.html#creating-a-pipeline">Creating a Pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/pipelines/index.html#executing-an-operation">Executing an Operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/pipelines/index.html#resetting-pipeline">Resetting Pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/pipelines/index.html#configuring-audio-parameters-preparing-for-use">Configuring Audio Parameters &amp; Preparing for Use</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/pipelines/index.html#scheduling">Scheduling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/pipelines/index.html#processing">Processing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../architectures/firmware/kd_integration/index.html">Keyword detection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/kd_integration/kd-integration.html">Keyword Detection integration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../architectures/firmware/index.html#vendor-specific-architecture-information">Vendor Specific Architecture Information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../architectures/firmware/index.html#intel">Intel</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../platforms/index.html">Platforms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/index.html#supported-platforms">Supported Platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/index.html#minimum-platform-requirements">Minimum Platform Requirements</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/index.html#footprint">Footprint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/index.html#dsp-clock-speed">DSP Clock Speed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/index.html#toolchain">Toolchain</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../platforms/index.html#platform-specific-information">Platform Specific Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/intel-legacy/index.html">Intel Hifi2-EP Platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/intel-legacy/merrifield/index.html">Intel Merrifield</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/intel-legacy/baytrail/index.html">Intel Bay Trail / Cherry Trail</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/intel-legacy/broadwell/index.html">Intel Broadwell</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../platforms/intel-cavs/index.html">Intel CAVS Platforms</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/intel-cavs/commons/index.html">CAVS Commons</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/intel-cavs/apollolake/index.html">Intel Apollo Lake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/intel-cavs/cannonlake/index.html">Intel Cannon Lake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/intel-cavs/icelake/index.html">Intel Ice Lake</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../platforms/intel-cavs/tigerlake/index.html">Intel Tiger Lake</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../algos/index.html">Algorithms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../algos/index.html#supplied-processing-algorithms">Supplied Processing Algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../algos/index.html#algorithm-specific-information">Algorithm Specific Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../algos/src/sample_rate_conversion.html">Sample Rate Conversion</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../algos/src/sample_rate_conversion.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../algos/src/sample_rate_conversion.html#use-of-src-generator-tool">Use of SRC generator tool</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../algos/src/sample_rate_conversion.html#test-the-src-component">Test the SRC component</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../algos/src/sample_rate_conversion.html#polyphase-decomposition">Polyphase decomposition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../algos/src/sample_rate_conversion.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../algos/demux/demux.html">Multiplexer/Demultiplexer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../algos/demux/demux.html#introduction">Introduction</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../algos/tdfb/time_domain_fixed_beamformer.html">Time Domain Fixed Beamformer (TDFB)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../algos/tdfb/time_domain_fixed_beamformer.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../algos/tdfb/time_domain_fixed_beamformer.html#beamformer-types">Beamformer types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../algos/tdfb/time_domain_fixed_beamformer.html#microphone-array-geometries">Microphone array geometries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../algos/tdfb/time_domain_fixed_beamformer.html#filter-bank-design-procedure">Filter bank design procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../algos/tdfb/time_domain_fixed_beamformer.html#design-examples">Design examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../algos/tdfb/time_domain_fixed_beamformer.html#simulation">Simulation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer_guides/index.html">Developer Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/introduction.html">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/introduction.html#sof-core-concepts">SOF Core Concepts</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/firmware/index.html">Firmware</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/firmware/component-tutorial/tut-intro.html">Hello World Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/firmware/component-tutorial/tut-i-basic-fw-code.html">Part I - Adding a Component Code to FW</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/firmware/component-tutorial/tut-ii-topology.html">Part II - Modifying the Topology &amp; Driver</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/firmware/component-tutorial/tut-iii-runtime-params.html">Part III - Adding Run-time Parameter Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/firmware/component-tutorial/tut-iv-exceptions.html">Part IV - Working with Exception Reports</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/firmware/porting.html">Porting Guides</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/firmware/porting.html#architecture-porting-guide">Architecture Porting Guide</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/firmware/porting.html#platform-porting-guide">Platform Porting Guide</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/firmware/cmake.html">CMake Arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/firmware/cmake.html#firmware-unit-tests">Firmware &amp; Unit Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/firmware/cmake.html#firmware">Firmware</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/firmware/cmake.html#unit-tests">Unit Tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/firmware/cmake.html#host-testbench">Host Testbench</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/unit_tests.html">Unit Tests</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/unit_tests.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/unit_tests.html#configuring-for-unit-tests">Configuring for unit tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/unit_tests.html#example-running-tests-for-apl">Example: Running tests for APL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/unit_tests.html#compiling-unit-tests-without-a-cross-compilation-toolchain">Compiling unit tests without a cross-compilation toolchain</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/unit_tests.html#wrapping-objects-for-unit-tests">Wrapping objects for unit tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/unit_tests.html#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/xtrun/index.html">Xtensa Simulator (xt-run)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/xtrun/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/xtrun/index.html#standalone-programs">Standalone programs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/xtrun/index.html#unit-tests">Unit tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/topology/topology.html">SOF Topology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/topology/topology.html#topology-ingredients">1. Topology Ingredients</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/topology/topology.html#widgets">1.1 Widgets</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/topology/topology.html#tokens-vendor-tuples">1.2 Tokens/Vendor Tuples</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/topology/topology.html#kcontrols">1.3 Kcontrols</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/topology/topology.html#pipelines">1.4 Pipelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/topology/topology.html#backend-dai">1.5 Backend DAI</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/topology/topology.html#backend-dai-link-config">1.6 Backend DAI link Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/topology/topology.html#dsp-core-index">1.7 DSP Core Index</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/topology/topology.html#create-a-new-topology">2. Create a new topology</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/topology/topology.html#example-topology-with-single-pipeline">2.1 Example topology with single pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/topology/topology.html#example-topology-with-multiple-pipelines">2.2 Example topology with multiple pipelines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/topology/topology.html#debug-topology">3. Debug topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/topology/topology.html#acronyms">4. Acronyms</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/topology2/topology2.html">Topology 2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/topology2/topology2.html#ingredients">Ingredients</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/topology2/topology2.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/topology2/topology2.html#objects">Objects</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/topology2/topology2.html#arguments-in-top-level-configuration-files">Arguments in top-level configuration files</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/topology2/topology2.html#includes">Includes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/topology2/topology2.html#simple-machine-topology">Simple machine topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/topology2/topology2.html#conditional-includes">Conditional includes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/topology2/topology2.html#building-2-0-configuration-files">Building 2.0 configuration files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/topology2/topology2.html#topology-reminders">Topology reminders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/topology2/topology2.html#alsaconf-reminders">Alsaconf reminders</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/uuid/index.html">UUID Usage in SOF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/uuid/index.html#why-uuids">Why UUIDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/uuid/index.html#uuid-allocation">UUID allocation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/uuid/index.html#uuid-in-topology">UUID in topology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/uuid/index.html#linux-topology-driver">Linux topology driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/uuid/index.html#uuid-arrays-stored-section">UUID arrays stored section</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/uuid/index.html#uuid-to-component-driver-mapping">UUID to component driver mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/uuid/index.html#abi-alignment-for-uuid-support">ABI alignment for UUID support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/debugability/index.html">Debugability</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/debugability/traces/index.html">Traces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/traces/index.html#building-processing-traces">Building &amp; Processing Traces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/traces/index.html#enabling-traces">Enabling Traces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/traces/index.html#adding-traces">Adding Traces</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/debugability/logger/index.html">Logger</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/logger/index.html#logger-usage">Logger usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/logger/index.html#trace-filtering">Trace filtering</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/debugability/coredump-reader/index.html">Coredump-reader</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/coredump-reader/index.html#coredump-reader-usage">Coredump-reader usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/coredump-reader/index.html#usage-with-linux-sof-driver">Usage with Linux SOF Driver</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/debugability/probes/index.html">Probes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/probes/index.html#requirements">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/probes/index.html#enabling-probes">Enabling Probes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/probes/index.html#data-extraction">Data extraction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/probes/index.html#data-parsing">Data parsing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/debugability/ri-info/index.html">sof-ri-info</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/ri-info/index.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/debugability/perf-counters/index.html">Performance Counters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/perf-counters/index.html#performance-counters-usage">Performance Counters usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/debugability/perf-counters/index.html#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/tuning/sof-ctl.html">Runtime Tuning</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/tuning/sof-ctl.html#find-out-effect-numids">Find out effect numids</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/tuning/sof-ctl.html#example-equalizer-settings">Example equalizer settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/tuning/sof-ctl.html#help">Help</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/rimage/index.html">Rimage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/rimage/extended_manifest.html">Extended Manifest</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/rimage/extended_manifest.html#build-flow">Build flow</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/rimage/extended_manifest.html#add-a-new-element">Add a new element</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/rimage/index.html#build-flow">Build flow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/linux_driver/index.html">SOF Linux Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/linux_driver/third_party/index.html">Third Party Features User Guides</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/linux_driver/third_party/keyword_detect/keyword_detect.html">Keyword Detection Driver Implementation and User Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/virtualization/virtualization.html">SOF VirtIO design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/virtualization/virtualization.html#general-information">General information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/virtualization/virtualization.html#id1">SOF VirtIO design</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/virtualization/virtualization.html#communication-channels">Communication channels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/virtualization/virtualization.html#topology">Topology</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/virtualization/virtualization.html#dpcm-audio-routing">DPCM audio routing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/virtualization/virtualization.html#implementation">Implementation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/virtualization/virtualization.html#initialization">Initialization</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/virtualization/virtualization.html#streaming">Streaming</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/virtualization/virtualization.html#deactivation">Deactivation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/virtualization/running.html">Run SOF VirtIO</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/virtualization/running.html#general-information">General information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/virtualization/running.html#create-a-vm-image">1. Create a VM image</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/virtualization/running.html#build-the-linux-kernel">2. Build the Linux kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/virtualization/running.html#build-qemu">3. Build QEMU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/virtualization/running.html#build-the-sof-firmware">4. Build the SOF firmware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/virtualization/running.html#run-qemu">5. Run QEMU</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/fuzzing/index.html">Fuzzing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/fuzzing/fuzzing_in_docker.html">Fuzzing in Docker</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/fuzzing/fuzzing_in_docker.html#instructions">Instructions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/fuzzing/fuzzing_in_docker.html#important-notes">Important notes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/fuzzing/testbench_afl_fuzzing.html">Build a Fuzzing Testbench with AFL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/fuzzing/testbench_afl_fuzzing.html#install-afl">Install AFL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/fuzzing/testbench_afl_fuzzing.html#build-a-testbench-with-afl-instrumentation">Build a testbench with AFL instrumentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/fuzzing/testbench_afl_fuzzing.html#run-afl">Run AFL</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/fuzzing/testbench_afl_fuzzing.html#example">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/testbench/index.html">Testbench</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/testbench/build_testbench.html">Build and Run Testbench</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/testbench/build_testbench.html#host-testbench-sh">host-testbench.sh</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/testbench/debug_in_testbench.html">Debug Component in Testbench</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/testbench/debug_in_testbench.html#gdb-and-ddd">GDB and DDD</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/testbench/debug_in_testbench.html#valgrind">Valgrind</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/testbench/debug_in_testbench.html#gprof">Gprof</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/testbench/prepare_new_component.html">Prepare a New Component for Testbench</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/testbench/test_audio_quality.html">Test Audio Quality</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/add_new_arch.html">Adding a new DSP architecture to SOF</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/add_new_arch.html#method-1-new-hal">Method 1 - New HAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/add_new_arch.html#method-2-use-existing-rtos">Method 2 - Use existing RTOS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developer_guides/index.html#technical-notes">Technical Notes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/tech/build-cmocka.html">Build Cmocka for Xtensa</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/tech/build-cmocka.html#cmocka-fork">Cmocka fork</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/tech/build-cmocka.html#simple-build-on-linux">Simple build on Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/tech/build-cmocka.html#cross-platform-build">Cross-platform build</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../developer_guides/tech/compile_wsl.html">Build on Windows 10 with WSL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/tech/compile_wsl.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/tech/compile_wsl.html#enable-32-bit-binaries">Enable 32-bit binaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/tech/compile_wsl.html#fix-stat-in-32-bit-binaries">Fix stat in 32-bit binaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../developer_guides/tech/compile_wsl.html#compile">Compile</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../release.html">Release</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../release.html#firmware-and-tools">Firmware and Tools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../release.html#git">Git</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../release.html#source-and-binary-releases">Source and Binary Releases</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../release.html#linux-driver">Linux Driver</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contributing to the Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/contribute_guidelines.html">Contribution Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/contribute_guidelines.html#licensing">Licensing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/contribute_guidelines.html#developer-certification-of-origin-dco">Developer Certification of Origin (DCO)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/contribute_guidelines.html#dco-sign-off-methods">DCO Sign-Off Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/contribute_guidelines.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/doc_guidelines.html">Documentation Guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#headings">Headings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#content-highlighting">Content Highlighting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#lists">Lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#multi-column-lists">Multi-column lists</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#file-names-and-commands">File names and Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#internal-cross-reference-linking">Internal Cross-Reference Linking</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#non-ascii-characters">Non-ASCII Characters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#code-and-command-examples">Code and Command Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/doc_guidelines.html#tabs-spaces-and-indenting">Tabs, spaces, and indenting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/dox-source-code.html">Documenting the Source Code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/dox-source-code.html#basic-rules">Basic Rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/dox-source-code.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/process/bug-tracking.html">Bug Tracking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/bug-tracking.html#life-cycle-of-a-bug">Life Cycle of a Bug</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/bug-tracking.html#labels">Labels</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/process/bug-tracking.html#solution-labels">Solution Labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/process/bug-tracking.html#priority-labels">Priority Labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/process/bug-tracking.html#plaform-and-branch-labels">Plaform and Branch Labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/process/bug-tracking.html#other-optional-labels">Other optional Labels</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/bug-tracking.html#how-to-report-a-bug">How to Report a Bug</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/bug-tracking.html#how-to-close-a-bug">How to Close a Bug</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/process/docbuild.html">SOF Documentation Generation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/docbuild.html#documentation-overview">Documentation overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/docbuild.html#set-up-documentation-working-folders">Set up documentation working folders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/docbuild.html#install-documentation-tools">Install documentation tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/docbuild.html#documentation-presentation-theme">Documentation presentation theme</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/docbuild.html#run-documentation-processors">Run documentation processors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/docbuild.html#publish-content">Publish content</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/docbuild.html#installation-troubleshooting">Installation troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/docbuild.html#windows-troubleshooting">Windows troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/docbuild.html#diagram-compilation-troubleshooting">Diagram compilation troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/process/abiprocess.html">SOF ABI Change Process</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/abiprocess.html#sof-abi-definitions">SOF ABI definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/abiprocess.html#change-process">Change process</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/abiprocess.html#document-modified-fields">Document modified fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/process/abiprocess.html#abi-change-approvers">ABI change approvers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/process/abiprocess.html#tsc">TSC</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/process/abiprocess.html#sof-driver">SOF driver</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/linux/development_tree.html">Linux SOF drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/linux/development_tree.html#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/linux/development_tree.html#instructions-for-sof-developers">Instructions for SOF developers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/linux/development_tree.html#abi-changes">ABI changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/linux/development_tree.html#development-branch">Development branch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/linux/development_tree.html#rebasing-tree">Rebasing tree</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/linux/development_tree.html#upstream-merges">Upstream merges</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/linux/development_tree.html#development-flow">Development flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/linux/development_tree.html#sof-linux-maintainers">SOF Linux maintainers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../contribute/linux/development_tree.html#sof-maintainers-process">SOF maintainers process</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../contribute/linux/development_tree.html#development-summary">Development summary</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tsc/index.html">Technical Steering Committee (TSC)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tsc/representatives.html">TSC Representatives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tsc/meetings.html">TSC Meetings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../maintainers/index.html">SOF admin, maintainers and code owners</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../maintainers/admin.html">SOF admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintainers/merge_rights.html">Merge rights</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../maintainers/code_owners.html">SOF code owners</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api/uuid-api.html">UUID API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/dma-drivers-api.html">DMA Drivers API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/dai-drivers-api.html">DAI Drivers API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/pm-runtime-api.html">PM Runtime API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/platform-api.html">Platform API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/memory-alloc-api.html">Memory Allocation API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/audio-stream-api.html">Audio Stream API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/component-api.html">Component API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/component-ext-api.html">Component API Ext</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/uapi.html">uAPI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../presentations/index.html">Presentations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../presentations/index.html#sof-mentions">SOF Mentions</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SOF Project</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Getting Started Guides</a> &raquo;</li>
      <li>Build toolchains and SOF from sources</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="build-toolchains-and-sof-from-sources">
<span id="build-from-scratch"></span><h1>Build toolchains and SOF from sources<a class="headerlink" href="#build-toolchains-and-sof-from-sources" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#step-1-set-up-the-workspace-directory" id="id1">Step 1. Set up the workspace directory</a></p></li>
<li><p><a class="reference internal" href="#step-2-set-up-build-environment" id="id2">Step 2. Set up build environment</a></p>
<ul>
<li><p><a class="reference internal" href="#install-package-dependencies" id="id3">Install package dependencies</a></p></li>
<li><p><a class="reference internal" href="#install-cmake" id="id4">Install CMake</a></p></li>
<li><p><a class="reference internal" href="#build-alsa-lib-and-alsa-utils-from-source" id="id5">Build alsa-lib and alsa-utils from source</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#step-3-build-toolchains-from-source" id="id6">Step 3. Build toolchains from source</a></p>
<ul>
<li><p><a class="reference internal" href="#crosstool-ng" id="id7">crosstool-ng</a></p></li>
<li><p><a class="reference internal" href="#toolchains" id="id8">Toolchains</a></p></li>
<li><p><a class="reference internal" href="#additional-headers" id="id9">Additional headers</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#step-4-build-and-sign-firmware-binaries" id="id10">Step 4. Build and sign firmware binaries</a></p>
<ul>
<li><p><a class="reference internal" href="#re-configure-and-rebuild-from-scratch" id="id11">Re-configure and rebuild from scratch</a></p></li>
<li><p><a class="reference internal" href="#incremental-builds" id="id12">Incremental builds</a></p></li>
<li><p><a class="reference internal" href="#firmware-build-results" id="id13">Firmware build results</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#step-5-build-topology-and-tools" id="id14">Step 5. Build topology and tools</a></p>
<ul>
<li><p><a class="reference internal" href="#one-step-rebuild-from-scratch" id="id15">One-step rebuild from scratch</a></p></li>
<li><p><a class="reference internal" href="#incremental-build" id="id16">Incremental build</a></p></li>
<li><p><a class="reference internal" href="#topology-and-tools-build-results" id="id17">Topology and tools build results</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#step-6-build-linux-kernel" id="id18">Step 6. Build Linux kernel</a></p></li>
</ul>
</div>
<p>You may boot and test Sound Open Firmware on a target machine or VM. Current target
Intel platforms include: Bay Trail, Cherry Trail, Haswell, Broadwell, Apollo Lake, Cannon Lake, Ice Lake, Jasper Lake, and Tiger Lake.</p>
<p>Support also exists for NXP i.MX8/i.MX8X/i.MX8M platforms.</p>
<p>The following steps describe how to install the SOF development environment on
Ubuntu 16.04, 18.04, 18.10, and 20.04, and Fedora 36. They should work on Ubuntu
19.04, 19.10 and other Linux distributions with minor or no modifications.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Building the toolchains from source might take several hours. We
recommend that you use Docker to build SOF. For more information,
see <a class="reference internal" href="build-with-docker.html#build-with-docker"><span class="std std-ref">Build SOF with Docker</span></a>.</p>
</div>
<div class="section" id="step-1-set-up-the-workspace-directory">
<h2><a class="toc-backref" href="#id1">Step 1. Set up the workspace directory</a><a class="headerlink" href="#step-1-set-up-the-workspace-directory" title="Permalink to this headline">¶</a></h2>
<p>Point the <code class="docutils literal notranslate"><span class="pre">$SOF_WORKSPACE</span></code> environment variable to the directory in
which you store all sof work.</p>
<p>The code examples assume <code class="docutils literal notranslate"><span class="pre">$SOF_WORKSPACE</span></code> is the top-level working
directory. Clone all git repositories at the same directory level
because some default configuration files refer to other clones using
relative locations like <code class="docutils literal notranslate"><span class="pre">../sof/</span></code>.</p>
<p>Make sure that <code class="docutils literal notranslate"><span class="pre">$SOF_WORKSPACE</span></code> has adequate disk space when
building the toolchain. About 15GB is needed per toolchain. You can
reclaim some of the disk space after building the toolchain.</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">SOF_WORKSPACE</span><span class="o">=</span>~/work/sof
mkdir -p <span class="s2">&quot;</span><span class="nv">$SOF_WORKSPACE</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="step-2-set-up-build-environment">
<h2><a class="toc-backref" href="#id2">Step 2. Set up build environment</a><a class="headerlink" href="#step-2-set-up-build-environment" title="Permalink to this headline">¶</a></h2>
<div class="section" id="install-package-dependencies">
<h3><a class="toc-backref" href="#id3">Install package dependencies</a><a class="headerlink" href="#install-package-dependencies" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This guide uses Ubuntu/Fedora as an example but any modern distribution can be
used for SOF development.</p>
</div>
<p>Due to continuous default package updates in distributions, SOF
documentation may not include explicit instructions for possible missing
tools and packages. When you encounter missing dependencies, refer to your
distribution’s documentation on how to install them.</p>
<ul>
<li><p>For Fedora (tested with v36, other recent versions should work fine):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dnf group install <span class="s2">&quot;Development Tools&quot;</span> <span class="s2">&quot;C Development Tools and Libraries&quot;</span>
sudo dnf install ncurses-devel gtk3-devel gettext-devel texinfo help2man <span class="se">\</span>
  glibc-static libstdc++-static openssl-devel tree
</pre></div>
</div>
</li>
<li><p>For Ubuntu 20.04:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install build-essential git autoconf flex bison texinfo help2man <span class="se">\</span>
   gawk libtool-bin libncurses5 libncurses5-dev libssl-dev libgtk-3-dev <span class="se">\</span>
        tree ninja-build gettext libasound2-dev
</pre></div>
</div>
</li>
<li><p>For Ubuntu 18.10:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install build-essential git libgtk-3-dev libsdl1.2-dev <span class="se">\</span>
   libspice-protocol-dev libspice-server-dev libusb-1.0-0-dev <span class="se">\</span>
   libusbredirhost-dev libtool-bin acpica-tools valgrind texinfo <span class="se">\</span>
   virt-manager qemu-kvm libvirt-daemon-system libvirt-clients virtinst <span class="se">\</span>
   libfdt-dev libssl-dev pkg-config help2man gawk libncurses5 <span class="se">\</span>
   libncurses5-dev
</pre></div>
</div>
</li>
<li><p>For Ubuntu 16.04 and 18.04:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install build-essential git libgtk-3-dev libsdl1.2-dev <span class="se">\</span>
   libspice-protocol-dev libspice-server-dev libusb-1.0-0-dev <span class="se">\</span>
   libusbredirhost-dev libtool-bin iasl valgrind texinfo virt-manager <span class="se">\</span>
   qemu-kvm libvirt-bin virtinst libfdt-dev libssl-dev pkg-config help2man <span class="se">\</span>
   gawk libncurses5 libncurses5-dev
</pre></div>
</div>
</li>
</ul>
<p>If you are using Ubuntu 16.04, the gcc version must be updated to gcc 7.3+
in order for the Advanced Linux Sound Architecture (ALSA) to build.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo add-apt-repository ppa:ubuntu-toolchain-r/test
sudo apt-get update
sudo apt-get install gcc-7 g++-7
sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-7 <span class="m">70</span> --slave /usr/bin/g++ g++ /usr/bin/g++-7
</pre></div>
</div>
</div>
<div class="section" id="install-cmake">
<h3><a class="toc-backref" href="#id4">Install CMake</a><a class="headerlink" href="#install-cmake" title="Permalink to this headline">¶</a></h3>
<p>If you use Ubuntu 18.04+ or Fedora you can install CMake with apt/dnf:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install cmake <span class="c1"># Ubuntu</span>
sudo dnf install cmake <span class="c1"># Fedora</span>
</pre></div>
</div>
<p>For Ubuntu 16.04, CMake from apt is outdated and you must install CMake from
sources. Refer to this short guide: <a class="reference external" href="https://cmake.org/install/">https://cmake.org/install/</a>.</p>
</div>
<div class="section" id="build-alsa-lib-and-alsa-utils-from-source">
<h3><a class="toc-backref" href="#id5">Build alsa-lib and alsa-utils from source</a><a class="headerlink" href="#build-alsa-lib-and-alsa-utils-from-source" title="Permalink to this headline">¶</a></h3>
<p>This project requires some new features in <a class="reference external" href="https://git.alsa-project.org/?p=alsa-lib.git">https://git.alsa-project.org/?p=alsa-lib.git</a> and
<a class="reference external" href="https://git.alsa-project.org/?p=alsa-utils.git">https://git.alsa-project.org/?p=alsa-utils.git</a>, so build the newest ALSA from source code.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Installing alsa-lib systemwide may break some audio applications.
Only perform this if you know what you are doing. We recommend that you
install it locally (under $HOME) or use Docker
(see <a class="reference internal" href="build-with-docker.html#build-with-docker"><span class="std std-ref">Build SOF with Docker</span></a>.)</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="s2">&quot;</span><span class="nv">$SOF_WORKSPACE</span><span class="s2">&quot;</span>
git clone git://git.alsa-project.org/alsa-lib
<span class="nb">cd</span> alsa-lib
<span class="c1"># To install alsa-lib systemwide</span>
./gitcompile
<span class="c1"># To install alsa-lib locally</span>
./gitcompile --prefix<span class="o">=</span><span class="nv">$HOME</span>/local
sudo make install
</pre></div>
</div>
<p>(Optional) To enable alsabat’s frequency analysis, install the FFT library
before you configure alsa-utils.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install libfftw3-dev libfftw3-doc <span class="c1"># Ubuntu</span>
sudo dnf install fftw3-devel <span class="c1"># Fedora</span>
</pre></div>
</div>
<p>Clone, build, and install alsa-utils.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="s2">&quot;</span><span class="nv">$SOF_WORKSPACE</span><span class="s2">&quot;</span>
git clone git://git.alsa-project.org/alsa-utils
<span class="nb">cd</span> alsa-utils
<span class="c1"># To install alsa-utils systemwide</span>
./gitcompile
<span class="c1"># To install alsa-utils locally</span>
./gitcompile --prefix<span class="o">=</span><span class="nv">$HOME</span>/local <span class="se">\</span>
             --with-alsa-inc-prefix<span class="o">=</span><span class="nv">$HOME</span>/local/include <span class="se">\</span>
             --with-alsa-prefix<span class="o">=</span><span class="nv">$HOME</span>/local/lib <span class="se">\</span>
             --with-systemdsystemunitdir<span class="o">=</span><span class="nv">$HOME</span>/local/lib/systemd <span class="se">\</span>
             --with-udev-rules-dir<span class="o">=</span><span class="nv">$HOME</span>/local/lib/udev
sudo make install
</pre></div>
</div>
<p>If you run into alsa-lib linking errors, try to re-build it with the libdir
parameter.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ../alsa-lib
./gitcompile --prefix<span class="o">=</span>/usr --libdir<span class="o">=</span>/usr/lib/x86_64-linux-gnu/
sudo make install
<span class="nb">cd</span> ../alsa-utils
./gitcompile --prefix<span class="o">=</span>/usr --with-curses<span class="o">=</span>ncurses --disable-xmlto --disable-bat
sudo make install
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the gitcompile script does not work, refer to the INSTALL file for
manual build instructions.</p>
</div>
<p>Create or append to the <code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code> environment variable.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">SOF_WORKSPACE</span><span class="si">}</span><span class="s2">&quot;</span>/alsa-lib/src/.libs:<span class="nv">$LD_LIBRARY_PATH</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="step-3-build-toolchains-from-source">
<span id="build-toolchains-from-source"></span><h2><a class="toc-backref" href="#id6">Step 3. Build toolchains from source</a><a class="headerlink" href="#step-3-build-toolchains-from-source" title="Permalink to this headline">¶</a></h2>
<p>Build the xtensa cross-compilation toolchains with crosstool-ng for
Intel Bay Trail, Cherry Trail, Haswell, Broadwell, Apollo Lake, Cannon Lake, Ice Lake, Jasper Lake, Tiger Lake
platforms and NXP i.MX8/i.MX8X/i.MX8M platforms. Building the toolchains
may take about an hour but only once and it removes the dependency on
the Docker image.</p>
<p>For more details go to <a class="reference external" href="https://crosstool-ng.github.io/">https://crosstool-ng.github.io/</a></p>
<div class="section" id="crosstool-ng">
<h3><a class="toc-backref" href="#id7">crosstool-ng</a><a class="headerlink" href="#crosstool-ng" title="Permalink to this headline">¶</a></h3>
<p>Clone both repos and check out the <code class="docutils literal notranslate"><span class="pre">sof-gcc10.2</span></code> and <code class="docutils literal notranslate"><span class="pre">sof-gcc10x</span></code> branch.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="s2">&quot;</span><span class="nv">$SOF_WORKSPACE</span><span class="s2">&quot;</span>
git clone https://github.com/thesofproject/xtensa-overlay
git clone https://github.com/thesofproject/crosstool-ng
<span class="nb">cd</span> xtensa-overlay
git checkout sof-gcc10.2
<span class="nb">cd</span> ../crosstool-ng
git checkout sof-gcc10x
</pre></div>
</div>
<p>Build crosstool-ng and install it in its own source directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./bootstrap
./configure --prefix<span class="o">=</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>
make
make install
</pre></div>
</div>
</div>
<div class="section" id="toolchains">
<h3><a class="toc-backref" href="#id8">Toolchains</a><a class="headerlink" href="#toolchains" title="Permalink to this headline">¶</a></h3>
<p>The config files provided refer to <code class="docutils literal notranslate"><span class="pre">../xtensa-overlay/</span></code> and point at
different <code class="docutils literal notranslate"><span class="pre">./builds/xtensa-*-elf</span></code> subdirectories. Copy the ones you
want to <code class="docutils literal notranslate"><span class="pre">.config</span></code> and build the cross-compiler(s) for your target
platform(s). Note that <code class="docutils literal notranslate"><span class="pre">./ct-ng</span> <span class="pre">build</span></code> requires an network connection to
download gcc components.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">unset</span> LD_LIBRARY_PATH

<span class="c1"># Bay Trail / Cherry Trail</span>
cp config-byt-gcc10.2-gdb9 .config
./ct-ng build
<span class="c1"># Haswell/Broadwell</span>
cp config-hsw-gcc10.2-gdb9 .config
./ct-ng build
<span class="c1"># Apollo Lake</span>
cp config-apl-gcc10.2-gdb9 .config
./ct-ng build
<span class="c1"># Cannon Lake, Ice Lake, Jasper Lake, and Tiger Lake</span>
cp config-cnl-gcc10.2-gdb9 .config
./ct-ng build
<span class="c1"># i.MX8/i.MX8X</span>
cp config-imx-gcc10.2-gdb9 .config
./ct-ng build
<span class="c1"># i.MX8M</span>
cp config-imx8m-gcc10.2-gdb9 .config
./ct-ng build
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">./ct-ng</span></code> is a Linux kernel style Makefile; so the sample commands below
can be used to fix some out of date <code class="docutils literal notranslate"><span class="pre">config-*-gcc10.2-gdb9</span></code> file or find
default values missing from it:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./ct-ng <span class="nb">help</span>
cp config-apl-gcc10.2-gdb9 .config
./ct-ng oldconfig <span class="nv">V</span><span class="o">=</span><span class="m">1</span>
diff -u config-apl-gcc10.2-gdb9 .config
</pre></div>
</div>
<p>While other steps take minutes at most, building all toolchains may last
about an hour depending on the performance of your system. Run this loop
to build all toolchains without interruption:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">unset</span> LD_LIBRARY_PATH<span class="p">;</span>
<span class="nb">time</span> <span class="k">for</span> i in config*gcc10.2-gdb9<span class="p">;</span> <span class="k">do</span>
   cp <span class="s2">&quot;</span><span class="nv">$i</span><span class="s2">&quot;</span> .config <span class="o">&amp;&amp;</span> ./ct-ng build <span class="o">||</span> <span class="nb">break</span> <span class="p">;</span>
<span class="k">done</span>
</pre></div>
</div>
<p>“Install” toolchains in the expected location by linking
from <code class="docutils literal notranslate"><span class="pre">$SOF_WORKSPACE</span></code> to them:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls builds/
<span class="c1"># xtensa-apl-elf  xtensa-byt-elf   xtensa-cnl-elf   xtensa-hsw-elf  xtensa-imx-elf  xtensa-imx8m-elf</span>
<span class="nb">cd</span> <span class="s2">&quot;</span><span class="nv">$SOF_WORKSPACE</span><span class="s2">&quot;</span>
<span class="k">for</span> i in crosstool-ng/builds/xtensa-*<span class="p">;</span> <span class="k">do</span> ln -s <span class="s2">&quot;</span><span class="nv">$i</span><span class="s2">&quot;</span><span class="p">;</span> <span class="k">done</span>
</pre></div>
</div>
<p>Remove the temporary build files (~7GB per toolchain):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rm -rf <span class="nv">$SOF_WORKSPACE</span>/crosstool-ng/.build
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Haswell and Broadwell share the same toolchain: xtensa-hsw-elf</p>
<p>Bay Trail and Cherry Trail share the same toolchain: xtensa-byt-elf</p>
<p>Cannon Lake, Ice Lake, Jasper Lake and Tiger Lake share the same toolchain: xtensa-cnl-elf</p>
<p>i.MX8 and i.MX8X share the same toolchain: xtensa-imx-elf</p>
</div>
</div>
<div class="section" id="additional-headers">
<h3><a class="toc-backref" href="#id9">Additional headers</a><a class="headerlink" href="#additional-headers" title="Permalink to this headline">¶</a></h3>
<p>To get some required headers, clone the following newlib repository and
switch to the <cite>xtensa</cite> branch.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="s2">&quot;</span><span class="nv">$SOF_WORKSPACE</span><span class="s2">&quot;</span>
git clone https://github.com/jcmvbkbc/newlib-xtensa
<span class="nb">cd</span> newlib-xtensa
git checkout -b xtensa origin/xtensa
</pre></div>
</div>
<p>Temporarily add toolchains to your PATH variable. This is <em>not</em> required
when using high-level scripts described below; it’s only required here or
when invoking CMake manually. In other words, you don’t need to adjust your
PATH permanently because no risk of interfere with non-SOF tasks exists.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> i in <span class="s2">&quot;</span><span class="si">${</span><span class="nv">SOF_WORKSPACE</span><span class="si">}</span><span class="s2">&quot;</span>/xtensa-*-elf<span class="p">;</span> <span class="k">do</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$PATH</span><span class="s2">:</span><span class="nv">$i</span><span class="s2">&quot;</span>/bin<span class="p">;</span> <span class="k">done</span>
</pre></div>
</div>
<p>Build and install the newlib headers for each toolchain:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">XTENSA_ROOT</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">SOF_WORKSPACE</span><span class="si">}</span><span class="s2">&quot;</span>/xtensa-root
<span class="nb">time</span> <span class="k">for</span> toolchain in ../xtensa-*-elf<span class="p">;</span> <span class="k">do</span>
   ./configure --target<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">toolchain</span><span class="p">#../</span><span class="si">}</span><span class="s2">&quot;</span> --prefix<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$XTENSA_ROOT</span><span class="s2">&quot;</span> <span class="o">&amp;&amp;</span>
   make <span class="o">&amp;&amp;</span> make install <span class="o">||</span> break<span class="p">;</span>
   rm etc/config.cache
<span class="k">done</span>
ls <span class="s2">&quot;</span><span class="nv">$XTENSA_ROOT</span><span class="s2">&quot;</span>
  <span class="o">=</span>&gt; share  xtensa-apl-elf  xtensa-byt-elf  xtensa-cnl-elf  xtensa-hsw-elf ...
</pre></div>
</div>
<p>This should take a few minutes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">--prefix=</span></code> expects an absolute path. Define XTENSA_ROOT according to
your environment.</p>
</div>
<p>The required headers are now in <code class="docutils literal notranslate"><span class="pre">&quot;$SOF_WORKSPACE&quot;/xtensa-root</span></code>, and
cross-compilation toolchains for xtensa DSPs are set up.</p>
</div>
</div>
<div class="section" id="step-4-build-and-sign-firmware-binaries">
<span id="build-and-sign-firmware-binaries-from-scratch"></span><h2><a class="toc-backref" href="#id10">Step 4. Build and sign firmware binaries</a><a class="headerlink" href="#step-4-build-and-sign-firmware-binaries" title="Permalink to this headline">¶</a></h2>
<p>After the SOF environment is set up, clone the <em>sof</em> repo:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="s2">&quot;</span><span class="nv">$SOF_WORKSPACE</span><span class="s2">&quot;</span>
git clone https://github.com/thesofproject/sof
<span class="nb">cd</span> sof
</pre></div>
</div>
<p>Copy the commented <code class="docutils literal notranslate"><span class="pre">installer/sample-config.mk</span></code> to
<code class="docutils literal notranslate"><span class="pre">installer/config.mk</span></code>, then select a list of platforms and provide an
optional target hostname in the latter file. Then run the installer:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make -C installer/
</pre></div>
</div>
<p>This builds multiple platforms in parallel and deploys firmware and
topologies to <code class="docutils literal notranslate"><span class="pre">/lib/firmware/intel/</span></code> on the local or remote
destination that you configured. It builds with the default platform
configurations the first time and then switches to incremental builds
which preserves any <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">menuconfig</span></code> or other configuration changes
you made. These two ways to build are described below, so read on if you
need finer control on the build system and configuration. Otherwise you
can skip the next two sections.</p>
<p>The installer also builds and deploys some user-space binaries from the
<code class="docutils literal notranslate"><span class="pre">sof/tools/</span></code> subdirectory.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The installer is much faster than the lower level <code class="docutils literal notranslate"><span class="pre">./scripts/</span></code>,
on which it relies, because it does not delete the build
directories every time it runs. However, some “big” configuration
changes, such as switching to a different toolchain or some rare
build failures, can leave the <code class="docutils literal notranslate"><span class="pre">installer-builds/build_*</span></code>
directories in an inappropriate state. In such a case, just delete
these directories and run the installer again.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rm -rf <span class="nv">$SOF_WORKSPACE</span>/sof/installer-builds
make -C installer/
</pre></div>
</div>
</div>
<div class="section" id="re-configure-and-rebuild-from-scratch">
<h3><a class="toc-backref" href="#id11">Re-configure and rebuild from scratch</a><a class="headerlink" href="#re-configure-and-rebuild-from-scratch" title="Permalink to this headline">¶</a></h3>
<p>To rebuild Sound Open Firmware from scratch, the installer Makefile above relies on
the <a class="reference external" href="https://github.com/thesofproject/sof/tree/master/scripts/xtensa-build-all.sh">https://github.com/thesofproject/sof/tree/master/scripts/xtensa-build-all.sh</a> script. If you need
finer control or to troubleshoot some build issue you can also use it
directly. To build the firmware for all platforms:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="s2">&quot;</span><span class="nv">$SOF_WORKSPACE</span><span class="s2">&quot;</span>/sof/
./scripts/xtensa-build-all.sh -a
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This script works only if the cross-compiler and <code class="docutils literal notranslate"><span class="pre">xtensa-root</span></code> are
siblings in the same <code class="docutils literal notranslate"><span class="pre">sof</span></code> directory, as instructed above.</p>
</div>
<p>As of May 2021, you may specify one or more of the following platform
arguments: <code class="docutils literal notranslate"><span class="pre">byt</span></code>, <code class="docutils literal notranslate"><span class="pre">cht</span></code>, <code class="docutils literal notranslate"><span class="pre">bdw</span></code>, <code class="docutils literal notranslate"><span class="pre">hsw</span></code>, <code class="docutils literal notranslate"><span class="pre">apl</span></code>, <code class="docutils literal notranslate"><span class="pre">skl</span></code>, <code class="docutils literal notranslate"><span class="pre">kbl</span></code>, <code class="docutils literal notranslate"><span class="pre">cnl</span></code>,
<code class="docutils literal notranslate"><span class="pre">sue</span></code>, <code class="docutils literal notranslate"><span class="pre">icl</span></code>, <code class="docutils literal notranslate"><span class="pre">jsl</span></code>, <code class="docutils literal notranslate"><span class="pre">tgl</span></code>, <code class="docutils literal notranslate"><span class="pre">tgl-h</span></code>, <code class="docutils literal notranslate"><span class="pre">imx8</span></code>, <code class="docutils literal notranslate"><span class="pre">imx8x</span></code>, <code class="docutils literal notranslate"><span class="pre">imx8m</span></code>. Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scripts/xtensa-build-all.sh byt
./scripts/xtensa-build-all.sh byt apl
</pre></div>
</div>
<p>For the latest platforms list and help message, run the script without
any argument.  You can also enable debug builds with -d, enable rom
builds with -r and speed up the build with -j [n]</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scripts/xtensa-build-all.sh -d byt
./scripts/xtensa-build-all.sh -d -r apl
./scripts/xtensa-build-all.sh -d -r -j <span class="m">4</span> apl
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">xtensa-build-all.sh</span></code> script uses <code class="docutils literal notranslate"><span class="pre">rimage</span></code> to build the final
firmware image. <code class="docutils literal notranslate"><span class="pre">rimage</span></code> uses by default a public key included in the
sof repo for signing. However, if you need to use some other external key
for signing you can specify the path to your key as environment variable
before invoking the build:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">PRIVATE_KEY_OPTION</span><span class="o">=</span>-DRIMAGE_PRIVATE_KEY<span class="o">=</span>/path_to_key/private.pem
</pre></div>
</div>
<p>The same export mechanism should work also when building with Docker.</p>
</div>
</div>
<div class="section" id="incremental-builds">
<h3><a class="toc-backref" href="#id12">Incremental builds</a><a class="headerlink" href="#incremental-builds" title="Permalink to this headline">¶</a></h3>
<p>This is a more detailed build guide for the <em>sof</em> repo. Unlike
<code class="docutils literal notranslate"><span class="pre">xtensa-build-all.sh</span></code>, this doesn’t rebuild everything every time. The
installer Makefile above relies on this for incremental builds.</p>
<p>Snippets below assume that your current directory is the root of the
<code class="docutils literal notranslate"><span class="pre">sof</span></code> clone (<code class="docutils literal notranslate"><span class="pre">&quot;$SOF_WORKSPACE&quot;/sof/</span></code>).</p>
<p>CMake recommends out-of-tree builds. Among others, this lets you build
different configurations/platforms in different build directories from
the same source without starting from scratch.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-j</span></code> argument tells make how many processes to use concurrently.
Select a value that matches your build system.</p>
</div>
<p>for Bay Trail:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir build_byt <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build_byt
cmake -DTOOLCHAIN<span class="o">=</span>xtensa-byt-elf -DROOT_DIR<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$XTENSA_ROOT</span><span class="s2">&quot;</span>/xtensa-byt-elf -DINIT_CONFIG<span class="o">=</span>baytrail_defconfig ..
make <span class="nb">help</span> <span class="c1"># lists all available targets</span>
make bin -j4 <span class="nv">VERBOSE</span><span class="o">=</span><span class="m">1</span>
</pre></div>
</div>
<p>You can replace <code class="docutils literal notranslate"><span class="pre">byt</span></code> above with any other platform listed in the help
output of the <code class="docutils literal notranslate"><span class="pre">sof/scripts/xtensa-build-all.sh</span></code>. Find the toolchain
matching each platform in the same script or above.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After the cmake step, you can customize your build with
‘make menuconfig’.</p>
<p>DEBUG and ROM options are available for the FW binary build. Enable them
with ‘make menuconfig’.</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir build_cnl_custom <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build_cnl_custom
cmake -DTOOLCHAIN<span class="o">=</span>xtensa-cnl-elf -DROOT_DIR<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$XTENSA_ROOT</span><span class="s2">&quot;</span>/xtensa-cnl-elf -DINIT_CONFIG<span class="o">=</span>cannonlake_defconfig ..
make menuconfig <span class="c1"># select/deselect options and save</span>
make bin -j4
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have <a class="reference external" href="https://ninja-build.org/">Ninja</a> installed, you can use it
instead of Make. Just type <em>cmake -GNinja …</em> during the configuration
step.</p>
</div>
</div>
<div class="section" id="firmware-build-results">
<h3><a class="toc-backref" href="#id13">Firmware build results</a><a class="headerlink" href="#firmware-build-results" title="Permalink to this headline">¶</a></h3>
<p>The firmware binary files are located in build_&lt;platform&gt;/src/arch/xtensa/.
The installer copies them to your target machine’s <code class="docutils literal notranslate"><span class="pre">/lib/firmware/intel/sof</span></code>
folder.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sof-apl.ri  sof-bdw.ri  sof-byt.ri  sof-cht.ri  sof-cnl.ri  sof-hsw.ri
</pre></div>
</div>
</div>
</div>
<div class="section" id="step-5-build-topology-and-tools">
<span id="build-topology-and-tools-from-scratch"></span><h2><a class="toc-backref" href="#id14">Step 5. Build topology and tools</a><a class="headerlink" href="#step-5-build-topology-and-tools" title="Permalink to this headline">¶</a></h2>
<p>You can probably skip this section if you use the firmware installer in
the previous section.</p>
<div class="section" id="one-step-rebuild-from-scratch">
<h3><a class="toc-backref" href="#id15">One-step rebuild from scratch</a><a class="headerlink" href="#one-step-rebuild-from-scratch" title="Permalink to this headline">¶</a></h3>
<p>Without any argument <a class="reference external" href="https://github.com/thesofproject/sof/tree/master/scripts/build-tools.sh">https://github.com/thesofproject/sof/tree/master/scripts/build-tools.sh</a> builds
the default CMake target “ALL” of <a class="reference external" href="https://github.com/thesofproject/sof/tree/master/tools/">https://github.com/thesofproject/sof/tree/master/tools/</a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="s2">&quot;</span><span class="nv">$SOF_WORKSPACE</span><span class="s2">&quot;</span>/sof/
./scripts/build-tools.sh
</pre></div>
</div>
<p>To see the list of options, run <a class="reference external" href="https://github.com/thesofproject/sof/tree/master/scripts/build-tools.sh">https://github.com/thesofproject/sof/tree/master/scripts/build-tools.sh</a> with the <code class="docutils literal notranslate"><span class="pre">-h</span></code> option.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scripts/build-tools.sh -h
</pre></div>
</div>
</div>
<div class="section" id="incremental-build">
<h3><a class="toc-backref" href="#id16">Incremental build</a><a class="headerlink" href="#incremental-build" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> <span class="s2">&quot;</span><span class="nv">$SOF_WORKSPACE</span><span class="s2">&quot;</span>/sof/tools/
mkdir build_tools <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build_tools
cmake ..
make -j4
</pre></div>
</div>
<p>If your <code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">--version</span></code> is 3.13 or higher, you may prefer the new -B option:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake -B build_tools/
make  -C build_tools/ -j4 <span class="nv">VERBOSE</span><span class="o">=</span><span class="m">1</span>
rm -rf   build_tools/ <span class="c1"># no need to change directory ever</span>
</pre></div>
</div>
</div>
<div class="section" id="topology-and-tools-build-results">
<h3><a class="toc-backref" href="#id17">Topology and tools build results</a><a class="headerlink" href="#topology-and-tools-build-results" title="Permalink to this headline">¶</a></h3>
<p>The topology files are located in the <em>tools/build_tools/topology</em>
folder.  The installer Makefile copies them to the target machine’s
<code class="docutils literal notranslate"><span class="pre">/lib/firmware/intel/sof-tplg/</span></code> folder.</p>
<p>The <em>sof-logger</em> tool is in the <em>tools/build_tools/logger</em> folder. The
installer Makefile copies them to the target directory of your choice.</p>
</div>
</div>
<div class="section" id="step-6-build-linux-kernel">
<span id="build-linux-kernel"></span><h2><a class="toc-backref" href="#id18">Step 6. Build Linux kernel</a><a class="headerlink" href="#step-6-build-linux-kernel" title="Permalink to this headline">¶</a></h2>
<p>Sound Open Firmware uses the Linux kernel dev branch, and it must work with other dev
branch firmware and topology. This short section shows how to build
Debian kernel packages tested on Ubuntu in a small number of commands.
Note that these commands rebuild everything from scratch every time which
makes then unsuitably slow for development. If you need to make kernel
code changes, ignore this and look at
<a class="reference internal" href="../setup_linux/setup_ktest_environment.html#setup-ktest-environment"><span class="std std-ref">Set up a Ktest-based Environment</span></a>, the <a class="reference external" href="https://github.com/thesofproject/kconfig/blob/master/README.md/">README</a> file of
the kconfig repo, and the <a class="reference internal" href="../../architectures/host/linux_driver/architecture/sof_driver_arch.html#sof-driver-arch"><span class="std std-ref">SOF Linux Driver Architecture</span></a>.</p>
<ol class="arabic">
<li><p>Build the kernel with this branch.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install bison flex libelf-dev
<span class="nb">cd</span> <span class="s2">&quot;</span><span class="nv">$SOF_WORKSPACE</span><span class="s2">&quot;</span>
git clone https://github.com/thesofproject/linux
<span class="nb">cd</span> linux
git checkout topic/sof-dev
make defconfig
git clone https://github.com/thesofproject/kconfig
scripts/kconfig/merge_config.sh .config ./kconfig/base-defconfig ./kconfig/sof-defconfig  ./kconfig/mach-driver-defconfig ./kconfig/hdaudio-codecs-defconfig
</pre></div>
</div>
<p>Optionally, you can also run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">menuconfig</span></code>, navigate to
Device Drivers &gt; Sound card support &gt; Advanced Linux Sound
Architecture, and select the <strong>Prefer SOF driver over SST on BY/CHT
platforms</strong> option.</p>
</li>
<li><p>Make the kernel deb package to install on the target machine.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make deb-pkg -j <span class="m">4</span>
</pre></div>
</div>
</li>
<li><p>Copy the three resulting <em>.deb</em> files from $SOF_WORKSPACE to the
target machine and install them.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo dpkg -i /absolute/path/to/deb/file
sudo apt-get install -f
</pre></div>
</div>
</li>
</ol>
</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, SOF Project.
      <span class="lastupdated">Last updated on Jul 18, 2022.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-M4BL5NF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'GTM-M4BL5NF', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>